(function(e,t,i){var o={html:false,photo:false,iframe:false,inline:false,transition:"elastic",speed:300,fadeOut:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,href:false,title:false,rel:false,opacity:.9,preloading:true,className:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined,closeButton:true,fastIframe:true,open:false,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp)((#|\?).*)?$/i,retinaImage:false,retinaUrl:false,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:true,trapFocus:true,onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false},n="colorbox",r="cbox",l=r+"Element",s=r+"_open",a=r+"_load",f=r+"_complete",h=r+"_cleanup",d=r+"_closed",c=r+"_purge",u,p,m,w,g,v,y,x,b,T,C,k,E,H,W,F,L,S,M,R,I=e("<a/>"),K,P,B,O,_,D,A,N,z,j,U,$,q,G="div",Q,J=0,V={},X;function Y(i,o,n){var l=t.createElement(i);if(o){l.id=r+o}if(n){l.style.cssText=n}return e(l)}function Z(){return i.innerHeight?i.innerHeight:e(i).height()}function et(e){var t=b.length,i=(A+e)%t;return i<0?t+i:i}function tt(e,t){return Math.round((/%/.test(e)?(t==="x"?T.width():Z())/100:1)*parseInt(e,10))}function it(e,t){return e.photo||e.photoRegex.test(t)}function ot(e,t){return e.retinaUrl&&i.devicePixelRatio>1?t.replace(e.photoRegex,e.retinaSuffix):t}function nt(e){if("contains"in p[0]&&!p[0].contains(e.target)){e.stopPropagation();p.focus()}}function rt(){var t,i=e.data(D,n);if(i==null){K=e.extend({},o);if(console&&console.log){console.log("Error: cboxElement missing settings object")}}else{K=e.extend({},i)}for(t in K){if(e.isFunction(K[t])&&t.slice(0,2)!=="on"){K[t]=K[t].call(D)}}K.rel=K.rel||D.rel||e(D).data("rel")||"nofollow";K.href=K.href||e(D).attr("href");K.title=K.title||D.title;if(typeof K.href==="string"){K.href=e.trim(K.href)}}function lt(i,o){e(t).trigger(i);I.triggerHandler(i);if(e.isFunction(o)){o.call(D)}}var st=function(){var e,t=r+"Slideshow_",i="click."+r,o;function n(){clearTimeout(o)}function l(){if(K.loop||b[A+1]){n();o=setTimeout(q.next,K.slideshowSpeed)}}function s(){F.html(K.slideshowStop).unbind(i).one(i,d);I.bind(f,l).bind(a,n);p.removeClass(t+"off").addClass(t+"on")}function d(){n();I.unbind(f,l).unbind(a,n);F.html(K.slideshowStart).unbind(i).one(i,function(){q.next();s()});p.removeClass(t+"on").addClass(t+"off")}function c(){e=false;F.hide();n();I.unbind(f,l).unbind(a,n);p.removeClass(t+"off "+t+"on")}return function(){if(e){if(!K.slideshow){I.unbind(h,c);c()}}else{if(K.slideshow&&b[1]){e=true;I.one(h,c);if(K.slideshowAuto){s()}else{d()}F.show()}}}}();function at(i){if(!U){D=i;rt();b=e(D);A=0;if(K.rel!=="nofollow"){b=e("."+l).filter(function(){var t=e.data(this,n),i;if(t){i=e(this).data("rel")||t.rel||this.rel}return i===K.rel});A=b.index(D);if(A===-1){b=b.add(D);A=b.length-1}}u.css({opacity:parseFloat(K.opacity),cursor:K.overlayClose?"pointer":"auto",visibility:"visible"}).show();if(Q){p.add(u).removeClass(Q)}if(K.className){p.add(u).addClass(K.className)}Q=K.className;if(K.closeButton){M.html(K.close).appendTo(w)}else{M.appendTo("<div/>")}if(!z){z=j=true;p.css({visibility:"hidden",display:"block"});C=Y(G,"LoadedContent","width:0; height:0; overflow:hidden");w.css({width:"",height:""}).append(C);P=g.height()+x.height()+w.outerHeight(true)-w.height();B=v.width()+y.width()+w.outerWidth(true)-w.width();O=C.outerHeight(true);_=C.outerWidth(true);K.w=tt(K.initialWidth,"x");K.h=tt(K.initialHeight,"y");C.css({width:"",height:K.h});q.position();lt(s,K.onOpen);R.add(H).hide();p.focus();if(K.trapFocus){if(t.addEventListener){t.addEventListener("focus",nt,true);I.one(d,function(){t.removeEventListener("focus",nt,true)})}}if(K.returnFocus){I.one(d,function(){e(D).focus()})}}dt()}}function ft(){if(!p&&t.body){X=false;T=e(i);p=Y(G).attr({id:n,"class":e.support.opacity===false?r+"IE":"",role:"dialog",tabindex:"-1"}).hide();u=Y(G,"Overlay").hide();E=e([Y(G,"LoadingOverlay")[0],Y(G,"LoadingGraphic")[0]]);m=Y(G,"Wrapper");w=Y(G,"Content").append(H=Y(G,"Title"),W=Y(G,"Current"),S=e('<button type="button"/>').attr({id:r+"Previous"}),L=e('<button type="button"/>').attr({id:r+"Next"}),F=Y("button","Slideshow"),E);M=e('<button type="button"/>').attr({id:r+"Close"});m.append(Y(G).append(Y(G,"TopLeft"),g=Y(G,"TopCenter"),Y(G,"TopRight")),Y(G,false,"clear:left").append(v=Y(G,"MiddleLeft"),w,y=Y(G,"MiddleRight")),Y(G,false,"clear:left").append(Y(G,"BottomLeft"),x=Y(G,"BottomCenter"),Y(G,"BottomRight"))).find("div div").css({"float":"left"});k=Y(G,false,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;");R=L.add(S).add(W).add(F);e(t.body).append(u,p.append(m,k))}}function ht(){function i(e){if(!(e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)){e.preventDefault();at(this)}}if(p){if(!X){X=true;L.click(function(){q.next()});S.click(function(){q.prev()});M.click(function(){q.close()});u.click(function(){if(K.overlayClose){q.close()}});e(t).bind("keydown."+r,function(e){var t=e.keyCode;if(z&&K.escKey&&t===27){e.preventDefault();q.close()}if(z&&K.arrowKey&&b[1]&&!e.altKey){if(t===37){e.preventDefault();S.click()}else if(t===39){e.preventDefault();L.click()}}});if(e.isFunction(e.fn.on)){e(t).on("click."+r,"."+l,i)}else{e("."+l).live("click."+r,i)}}return true}return false}if(e.colorbox){return}e(ft);q=e.fn[n]=e[n]=function(t,i){var r=this;t=t||{};ft();if(ht()){if(e.isFunction(r)){r=e("<a/>");t.open=true}else if(!r[0]){return r}if(i){t.onComplete=i}r.each(function(){e.data(this,n,e.extend({},e.data(this,n)||o,t))}).addClass(l);if(e.isFunction(t.open)&&t.open.call(r)||t.open){at(r[0])}}return r};q.position=function(t,i){var o,n=0,l=0,s=p.offset(),a,f;T.unbind("resize."+r);p.css({top:-9e4,left:-9e4});a=T.scrollTop();f=T.scrollLeft();if(K.fixed){s.top-=a;s.left-=f;p.css({position:"fixed"})}else{n=a;l=f;p.css({position:"absolute"})}if(K.right!==false){l+=Math.max(T.width()-K.w-_-B-tt(K.right,"x"),0)}else if(K.left!==false){l+=tt(K.left,"x")}else{l+=Math.round(Math.max(T.width()-K.w-_-B,0)/2)}if(K.bottom!==false){n+=Math.max(Z()-K.h-O-P-tt(K.bottom,"y"),0)}else if(K.top!==false){n+=tt(K.top,"y")}else{n+=Math.round(Math.max(Z()-K.h-O-P,0)/2)}p.css({top:s.top,left:s.left,visibility:"visible"});m[0].style.width=m[0].style.height="9999px";function h(){g[0].style.width=x[0].style.width=w[0].style.width=parseInt(p[0].style.width,10)-B+"px";w[0].style.height=v[0].style.height=y[0].style.height=parseInt(p[0].style.height,10)-P+"px"}o={width:K.w+_+B,height:K.h+O+P,top:n,left:l};if(t){var d=0;e.each(o,function(e){if(o[e]!==V[e]){d=t;return}});t=d}V=o;if(!t){p.css(o)}p.dequeue().animate(o,{duration:t||0,complete:function(){h();j=false;m[0].style.width=K.w+_+B+"px";m[0].style.height=K.h+O+P+"px";if(K.reposition){setTimeout(function(){T.bind("resize."+r,q.position)},1)}if(i){i()}},step:h})};q.resize=function(e){var t;if(z){e=e||{};if(e.width){K.w=tt(e.width,"x")-_-B}if(e.innerWidth){K.w=tt(e.innerWidth,"x")}C.css({width:K.w});if(e.height){K.h=tt(e.height,"y")-O-P}if(e.innerHeight){K.h=tt(e.innerHeight,"y")}if(!e.innerHeight&&!e.height){t=C.scrollTop();C.css({height:"auto"});K.h=C.height()}C.css({height:K.h});if(t){C.scrollTop(t)}q.position(K.transition==="none"?0:K.speed)}};q.prep=function(i){if(!z){return}var o,l=K.transition==="none"?0:K.speed;C.empty().remove();C=Y(G,"LoadedContent").append(i);function s(){K.w=K.w||C.width();K.w=K.mw&&K.mw<K.w?K.mw:K.w;return K.w}function a(){K.h=K.h||C.height();K.h=K.mh&&K.mh<K.h?K.mh:K.h;return K.h}C.hide().appendTo(k.show()).css({width:s(),overflow:K.scrolling?"auto":"hidden"}).css({height:a()}).prependTo(w);k.hide();e(N).css({"float":"none"});o=function(){var i=b.length,o,s="frameBorder",a="allowTransparency",h;if(!z){return}function d(){if(e.support.opacity===false){p[0].style.removeAttribute("filter")}}h=function(){clearTimeout($);E.hide();lt(f,K.onComplete)};H.html(K.title).add(C).show();if(i>1){if(typeof K.current==="string"){W.html(K.current.replace("{current}",A+1).replace("{total}",i)).show()}L[K.loop||A<i-1?"show":"hide"]().html(K.next);S[K.loop||A?"show":"hide"]().html(K.previous);st();if(K.preloading){e.each([et(-1),et(1)],function(){var i,o,r=b[this],l=e.data(r,n);if(l&&l.href){i=l.href;if(e.isFunction(i)){i=i.call(r)}}else{i=e(r).attr("href")}if(i&&it(l,i)){i=ot(l,i);o=t.createElement("img");o.src=i}})}}else{R.hide()}if(K.iframe){o=Y("iframe")[0];if(s in o){o[s]=0}if(a in o){o[a]="true"}if(!K.scrolling){o.scrolling="no"}e(o).attr({src:K.href,name:(new Date).getTime(),"class":r+"Iframe",allowFullScreen:true,webkitAllowFullScreen:true,mozallowfullscreen:true}).one("load",h).appendTo(C);I.one(c,function(){o.src="//about:blank"});if(K.fastIframe){e(o).trigger("load")}}else{h()}if(K.transition==="fade"){p.fadeTo(l,1,d)}else{d()}};if(K.transition==="fade"){p.fadeTo(l,0,function(){q.position(0,o)})}else{q.position(l,o)}};function dt(){var o,n,l=q.prep,s,f=++J;j=true;N=false;D=b[A];rt();lt(c);lt(a,K.onLoad);K.h=K.height?tt(K.height,"y")-O-P:K.innerHeight&&tt(K.innerHeight,"y");K.w=K.width?tt(K.width,"x")-_-B:K.innerWidth&&tt(K.innerWidth,"x");K.mw=K.w;K.mh=K.h;if(K.maxWidth){K.mw=tt(K.maxWidth,"x")-_-B;K.mw=K.w&&K.w<K.mw?K.w:K.mw}if(K.maxHeight){K.mh=tt(K.maxHeight,"y")-O-P;K.mh=K.h&&K.h<K.mh?K.h:K.mh}o=K.href;$=setTimeout(function(){E.show()},100);if(K.inline){s=Y(G).hide().insertBefore(e(o)[0]);I.one(c,function(){s.replaceWith(C.children())});l(e(o))}else if(K.iframe){l(" ")}else if(K.html){l(K.html)}else if(it(K,o)){o=ot(K,o);N=t.createElement("img");e(N).addClass(r+"Photo").bind("error",function(){K.title=false;l(Y(G,"Error").html(K.imgError))}).one("load",function(){var t;if(f!==J){return}e.each(["alt","longdesc","aria-describedby"],function(t,i){var o=e(D).attr(i)||e(D).attr("data-"+i);if(o){N.setAttribute(i,o)}});if(K.retinaImage&&i.devicePixelRatio>1){N.height=N.height/i.devicePixelRatio;N.width=N.width/i.devicePixelRatio}if(K.scalePhotos){n=function(){N.height-=N.height*t;N.width-=N.width*t};if(K.mw&&N.width>K.mw){t=(N.width-K.mw)/N.width;n()}if(K.mh&&N.height>K.mh){t=(N.height-K.mh)/N.height;n()}}if(K.h){N.style.marginTop=Math.max(K.mh-N.height,0)/2+"px"}if(b[1]&&(K.loop||b[A+1])){N.style.cursor="pointer";N.onclick=function(){q.next()}}N.style.width=N.width+"px";N.style.height=N.height+"px";setTimeout(function(){l(N)},1)});setTimeout(function(){N.src=o},1)}else if(o){k.load(o,K.data,function(t,i){if(f===J){l(i==="error"?Y(G,"Error").html(K.xhrError):e(this).contents())}})}}q.next=function(){if(!j&&b[1]&&(K.loop||b[A+1])){A=et(1);at(b[A])}};q.prev=function(){if(!j&&b[1]&&(K.loop||A)){A=et(-1);at(b[A])}};q.close=function(){if(z&&!U){U=true;z=false;lt(h,K.onCleanup);T.unbind("."+r);u.fadeTo(K.fadeOut||0,0);p.stop().fadeTo(K.fadeOut||0,0,function(){p.add(u).css({opacity:1,cursor:"auto"}).hide();lt(c);C.empty().remove();setTimeout(function(){U=false;lt(d,K.onClosed)},1)})}};q.remove=function(){if(!p){return}p.stop();e.colorbox.close();p.stop().remove();u.remove();U=false;p=null;e("."+l).removeData(n).removeClass(l);e(t).unbind("click."+r)};q.element=function(){return e(D)};q.settings=o})(jQuery,document,window);