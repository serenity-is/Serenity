{"version":3,"file":"Serenity.CoreLib.base.js","sourceRoot":"","sources":["../CoreLib/Imports/Helpers.ts","../CoreLib/Imports/RSVP.ts","../CoreLib/Imports/Promise.ts","../CoreLib/Imports/Select2.ts","../CoreLib/Imports/jQueryStatic.ts","../CoreLib/Imports/JQBlockUI.ts","../CoreLib/Services/ColumnSelection.ts","../CoreLib/Services/ServiceError.ts","../CoreLib/Services/ServiceResponse.ts","../CoreLib/Q/Q.TypeSystem.ts","../CoreLib/Q/Q.BasicUtils.ts","../CoreLib/Q/Q.Formatting.ts","../CoreLib/Q/Q.LocalText.ts","../CoreLib/Q/Q.Lookup.ts","../CoreLib/Q/Q.BlockUI.ts","../CoreLib/Q/Q.Html.ts","../CoreLib/Q/Q.Dialogs.ts","../CoreLib/Q/Q.Notify.ts","../CoreLib/Q/Q.ErrorHandling.ts","../CoreLib/Q/Q.Config.ts","../CoreLib/Q/Q.Services.ts","../CoreLib/Q/Q.ScriptData.ts","../CoreLib/Q/Q.Authorization.ts","../CoreLib/Services/Criteria.ts","../CoreLib/Decorators/Decorators.Basic.ts","../CoreLib/UI/PropertyGrid/PropertyItem.ts","../CoreLib/Externals/ExportNamespaces.ts"],"names":[],"mappings":"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","sourcesContent":["declare var Reflect: any;\r\nvar __decorate: any = (this && this.__decorate) || function (decorators: any, target: any, key: any, desc: any) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n};\r\n\r\nconst __skipExtends = {\r\n    \"__metadata\": true,\r\n    \"__typeName\": true,\r\n    \"__componentFactory\": true\r\n}\r\n\r\nvar __extends: any = (this && this.__extends) || function (d: any, b: any) {\r\n    for (var p in b) if (b.hasOwnProperty(p) && __skipExtends[p] !== true) d[p] = b[p];\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new (__ as any)());\r\n};\r\nvar __assign = (Object as any).assign || function (t: any) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nvar __rest = function (s: any, e: any) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof (Object as any).getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p: string = (Object as any).getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n};\r\nvar __spreadArrays = function () {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};","declare class RSVP<TResult> {\r\n    constructor(constructor: (p1: (p1: any) => void, p2: any) => void);\r\n}\r\n\r\ndeclare module RSVP {\r\n    function on(handler: (e: any) => void): void;\r\n    function resolve(): PromiseLike<any>;\r\n}\r\n\r\n// Type definitions for RSVP 3.0.9\r\n// Project: github.com/tildeio/rsvp.js 3.0.9\r\n// Definitions by: Taylor Brown <https://github.com/Taytay>\r\n// Definitions: https://github.com/borisyankov/DefinitelyTyped\r\n\r\n// Some of this file was taken from the type definitions for es6-promise https://github.com/borisyankov/DefinitelyTyped/blob/master/es6-promise/es6-promise.d.ts\r\n// Credit for that file goes to: Franois de Campredon <https://github.com/fdecampredon/>\r\n\r\n// Some of this file was taken from the type definitions for Q : https://github.com/borisyankov/DefinitelyTyped/blob/master/q/Q.d.ts\r\n// Credit for that file goes to: Barrie Nemetchek <https://github.com/bnemetchek>, Andrew Gaspar <https://github.com/AndrewGaspar/>, John Reilly <https://github.com/johnnyreilly>\r\n\r\ndeclare module RSVP {\r\n\r\n    class Promise<R> implements PromiseLike<R> {\r\n        /**\r\n         * If you call resolve in the body of the callback passed to the constructor,\r\n         * your promise is fulfilled with result object passed to resolve.\r\n         * If you call reject your promise is rejected with the object passed to resolve.\r\n         * For consistency and debugging (eg stack traces), obj should be an instanceof Error.\r\n         * Any errors thrown in the constructor callback will be implicitly passed to reject().\r\n         */\r\n        constructor(callback: (resolve: (result?: R) => void, reject: (error: any) => void) => void, label?: string);\r\n\r\n        /**\r\n         * If you call resolve in the body of the callback passed to the constructor,\r\n         * your promise will be fulfilled/rejected with the outcome of thenable passed to resolve.\r\n         * If you call reject your promise is rejected with the object passed to resolve.\r\n         * For consistency and debugging (eg stack traces), obj should be an instanceof Error.\r\n         * Any errors thrown in the constructor callback will be implicitly passed to reject().\r\n         */\r\n        constructor(callback: (resolve: (thenable?: PromiseLike<R>) => void, reject: (error: any) => void) => void, label?: string);\r\n\r\n        /**\r\n         * onFulfilled is called when/if \"promise\" resolves. onRejected is called when/if \"promise\" rejects.\r\n         * Both are optional, if either/both are omitted the next onFulfilled/onRejected in the chain is called.\r\n         * Both callbacks have a single parameter , the fulfillment value or rejection reason.\r\n         * \"then\" returns a new promise equivalent to the value you return from onFulfilled/onRejected after being passed through Promise.resolve.\r\n         * If an error is thrown in the callback, the returned promise rejects with that error.\r\n         *\r\n         * @param onFulfilled called when/if \"promise\" resolves\r\n         * @param onRejected called when/if \"promise\" rejects\r\n         */\r\n        then<U>(onFulfilled?: (value: R) => PromiseLike<U>, onRejected?: (error: any) => PromiseLike<U>): Promise<U>;\r\n\r\n        /**\r\n         * onFulfilled is called when/if \"promise\" resolves. onRejected is called when/if \"promise\" rejects.\r\n         * Both are optional, if either/both are omitted the next onFulfilled/onRejected in the chain is called.\r\n         * Both callbacks have a single parameter , the fulfillment value or rejection reason.\r\n         * \"then\" returns a new promise equivalent to the value you return from onFulfilled/onRejected after being passed through Promise.resolve.\r\n         * If an error is thrown in the callback, the returned promise rejects with that error.\r\n         *\r\n         * @param onFulfilled called when/if \"promise\" resolves\r\n         * @param onRejected called when/if \"promise\" rejects\r\n         */\r\n        then<U>(onFulfilled?: (value: R) => PromiseLike<U>, onRejected?: (error: any) => U): Promise<U>;\r\n\r\n        /**\r\n         * onFulfilled is called when/if \"promise\" resolves. onRejected is called when/if \"promise\" rejects.\r\n         * Both are optional, if either/both are omitted the next onFulfilled/onRejected in the chain is called.\r\n         * Both callbacks have a single parameter , the fulfillment value or rejection reason.\r\n         * \"then\" returns a new promise equivalent to the value you return from onFulfilled/onRejected after being passed through Promise.resolve.\r\n         * If an error is thrown in the callback, the returned promise rejects with that error.\r\n         *\r\n         * @param onFulfilled called when/if \"promise\" resolves\r\n         * @param onRejected called when/if \"promise\" rejects\r\n         */\r\n        then<U>(onFulfilled?: (value: R) => PromiseLike<U>, onRejected?: (error: any) => void): Promise<U>;\r\n\r\n        /**\r\n         * onFulfilled is called when/if \"promise\" resolves. onRejected is called when/if \"promise\" rejects.\r\n         * Both are optional, if either/both are omitted the next onFulfilled/onRejected in the chain is called.\r\n         * Both callbacks have a single parameter , the fulfillment value or rejection reason.\r\n         * \"then\" returns a new promise equivalent to the value you return from onFulfilled/onRejected after being passed through Promise.resolve.\r\n         * If an error is thrown in the callback, the returned promise rejects with that error.\r\n         *\r\n         * @param onFulfilled called when/if \"promise\" resolves\r\n         * @param onRejected called when/if \"promise\" rejects\r\n         */\r\n        then<U>(onFulfilled?: (value: R) => U, onRejected?: (error: any) => PromiseLike<U>): Promise<U>;\r\n\r\n        /**\r\n         * onFulfilled is called when/if \"promise\" resolves. onRejected is called when/if \"promise\" rejects.\r\n         * Both are optional, if either/both are omitted the next onFulfilled/onRejected in the chain is called.\r\n         * Both callbacks have a single parameter , the fulfillment value or rejection reason.\r\n         * \"then\" returns a new promise equivalent to the value you return from onFulfilled/onRejected after being passed through Promise.resolve.\r\n         * If an error is thrown in the callback, the returned promise rejects with that error.\r\n         *\r\n         * @param onFulfilled called when/if \"promise\" resolves\r\n         * @param onRejected called when/if \"promise\" rejects\r\n         */\r\n        then<U>(onFulfilled?: (value: R) => U, onRejected?: (error: any) => U): Promise<U>;\r\n\r\n        /**\r\n         * onFulfilled is called when/if \"promise\" resolves. onRejected is called when/if \"promise\" rejects.\r\n         * Both are optional, if either/both are omitted the next onFulfilled/onRejected in the chain is called.\r\n         * Both callbacks have a single parameter , the fulfillment value or rejection reason.\r\n         * \"then\" returns a new promise equivalent to the value you return from onFulfilled/onRejected after being passed through Promise.resolve.\r\n         * If an error is thrown in the callback, the returned promise rejects with that error.\r\n         *\r\n         * @param onFulfilled called when/if \"promise\" resolves\r\n         * @param onRejected called when/if \"promise\" rejects\r\n         */\r\n        then<U>(onFulfilled?: (value: R) => U, onRejected?: (error: any) => void): Promise<U>;\r\n\r\n        /**\r\n         * Sugar for promise.then(undefined, onRejected)\r\n         *\r\n         * @param onRejected called when/if \"promise\" rejects\r\n         */\r\n        catch<U>(onRejected?: (error: any) => PromiseLike<U>): Promise<U>;\r\n\r\n        /**\r\n         * Sugar for promise.then(undefined, onRejected)\r\n         *\r\n         * @param onRejected called when/if \"promise\" rejects\r\n         */\r\n        catch<U>(onRejected?: (error: any) => U): Promise<U>;\r\n\r\n        /**\r\n         * Sugar for promise.then(undefined, onRejected)\r\n         *\r\n         * @param onRejected called when/if \"promise\" rejects\r\n         */\r\n        catch<U>(onRejected?: (error: any) => void): Promise<U>;\r\n\r\n        finally(finallyCallback: () => any): Promise<R>;\r\n\r\n        static all<T>(promises: PromiseLike<T>[]): Promise<T[]>;\r\n        static all<T>(promises: any[]): Promise<T[]>;\r\n        static race<R>(promises: Promise<R>[]): Promise<R>;\r\n\r\n        /**\r\n         @method resolve\r\n         @param {Any} value value that the returned promise will be resolved with\r\n         @param {String} label optional string for identifying the returned promise.\r\n         Useful for tooling.\r\n         @return {Promise} a promise that will become fulfilled with the given\r\n         `value`\r\n         */\r\n        static resolve<T>(object: PromiseLike<T>): Promise<T>;\r\n        static resolve<T>(object: T): Promise<T>;\r\n\r\n        /**\r\n         @method cast (Deprecated in favor of resolve\r\n         @param {Any} value value that the returned promise will be resolved with\r\n         @param {String} label optional string for identifying the returned promise.\r\n         Useful for tooling.\r\n         @return {Promise} a promise that will become fulfilled with the given\r\n         `value`\r\n         */\r\n        static cast<T>(object: PromiseLike<T>, label?: string): Promise<T>;\r\n        static cast<T>(object: T, label?: string): Promise<T>;\r\n\r\n        /**\r\n         `RSVP.Promise.reject` returns a promise rejected with the passed `reason`.\r\n         */\r\n        static reject(reason?: any): Promise<any>;\r\n    }\r\n\r\n    interface PromiseState<T> {\r\n        state: string /* \"fulfilled\", \"rejected\", \"pending\" */;\r\n        value?: T;\r\n        reason?: any;\r\n    }\r\n\r\n    interface InstrumentEvent {\r\n        guid: string;      // guid of promise. Must be globally unique, not just within the implementation\r\n        childGuid: string; // child of child promise (for chained via `then`)\r\n        eventName: string; // one of ['created', 'chained', 'fulfilled', 'rejected']\r\n        detail: any;    // fulfillment value or rejection reason, if applicable\r\n        label: string;     // label passed to promise's constructor\r\n        timeStamp: number; // milliseconds elapsed since 1 January 1970 00:00:00 UTC up until now\r\n    }\r\n\r\n    export function on(eventName: string, callback: (value: any) => void): void;\r\n    export function on(eventName: \"error\", errorHandler: (reason: any) => void): void;\r\n    export function on(eventName: \"created\", listener: (event: InstrumentEvent) => void): void;\r\n    export function on(eventName: \"chained\", listener: (event: InstrumentEvent) => void): void;\r\n    export function on(eventName: \"fulfilled\", listener: (event: InstrumentEvent) => void): void;\r\n    export function on(eventName: \"rejected\", listener: (event: InstrumentEvent) => void): void;\r\n\r\n    export function configure(configName: string, value: any): void;\r\n    export function configure(configName: \"instrument\", shouldInstrument: boolean): void;\r\n\r\n    /**\r\n     * configure('onerror', handler) is deprecated in favor of on('error', handler)\r\n     * @param configName\r\n     * @param errorHandler\r\n     */\r\n    export function configure(configName: \"onerror\", errorHandler: (reason: any) => void): void;\r\n\r\n    /**\r\n     * Make a promise that fulfills when every item in the array fulfills, and rejects if (and when) any item rejects.\r\n     * the array passed to all can be a mixture of promise-like objects and other objects.\r\n     * The fulfillment value is an array (in order) of fulfillment values. The rejection value is the first rejection value.\r\n     */\r\n    export function all<T>(promises: PromiseLike<T>[]): Promise<T[]>;\r\n    export function all<T>(promises: any[]): Promise<T[]>;\r\n\r\n    function race<R>(promises: Promise<R>[]): Promise<R>;\r\n\r\n    /**\r\n     `RSVP.Promise.reject` returns a promise rejected with the passed `reason`.\r\n     */\r\n    export function reject(reason?: any): Promise<any>;\r\n\r\n    /**\r\n     `RSVP.Promise.resolve` returns a promise that will become resolved with the\r\n     passed `value`.\r\n     */\r\n    export function resolve<T>(object: PromiseLike<T>): Promise<T>;\r\n    export function resolve<T>(object: T): Promise<T>;\r\n\r\n    /**\r\n     `RSVP.rethrow` will rethrow an error on the next turn of the JavaScript event\r\n     loop in order to aid debugging.\r\n     Promises A+ specifies that any exceptions that occur with a promise must be\r\n     caught by the promises implementation and bubbled to the last handler. For\r\n     this reason, it is recommended that you always specify a second rejection\r\n     handler function to `then`. However, `RSVP.rethrow` will throw the exception\r\n     outside of the promise, so it bubbles up to your console if in the browser,\r\n     or domain/cause uncaught exception in Node. `rethrow` will also throw the\r\n     error again so the error can be handled by the promise per the spec.\r\n     */\r\n    export function rethrow(reason: any): void;\r\n}","/**\n * Represents the completion of an asynchronous operation\n */\n\r\ninterface PromiseConstructor {\r\n    /**\r\n     * Creates a new Promise.\r\n     * @param executor A callback used to initialize the promise. This callback is passed two arguments:\r\n     * a resolve callback used resolve the promise with a value or the result of another promise,\r\n     * and a reject callback used to reject the promise with a provided reason or error.\r\n     */\r\n    new <T>(executor: (resolve: (value?: T | PromiseLike<T>) => void, reject: (reason?: any) => void) => void): PromiseLike<T>;\r\n\r\n    /**\r\n     * Creates a new rejected promise for the provided reason.\r\n     * @param reason The reason the promise was rejected.\r\n     * @returns A new rejected Promise.\r\n     */\r\n    reject(reason: any): PromiseLike<never>;\r\n\r\n    /**\r\n     * Creates a new rejected promise for the provided reason.\r\n     * @param reason The reason the promise was rejected.\r\n     * @returns A new rejected Promise.\r\n     */\r\n    reject<T>(reason: any): PromiseLike<T>;\r\n\r\n    /**\r\n     * Creates a new resolved promise for the provided value.\r\n     * @param value A promise.\r\n     * @returns A promise whose internal state matches the provided promise.\r\n     */\r\n    resolve<T>(value: T | PromiseLike<T>): PromiseLike<T>;\r\n\r\n    /**\r\n     * Creates a new resolved promise .\r\n     * @returns A resolved promise.\r\n     */\r\n    resolve(): PromiseLike<void>;\r\n}\r\n\r\ndeclare var Promise: PromiseConstructor;\r\n\r\nif (typeof Promise === \"undefined\") {\r\n    if (typeof (RSVP) !== \"undefined\") {\r\n        Promise = RSVP as any;\r\n    }\r\n    else if (typeof (jQuery) !== \"undefined\") {\r\n        Promise = $.Deferred as any;\r\n        (Promise as any).resolve = function (value?: any) {\r\n            return jQuery.Deferred().resolveWith(value);\r\n        }\r\n    }\r\n}","declare namespace Select2 {\r\n    namespace util {\r\n        function stripDiacritics(input: string): string;\r\n    }\r\n}\r\n\r\ninterface Select2QueryOptions {\r\n    element?: JQuery;\r\n    term?: string;\r\n    page?: number;\r\n    context?: any;\r\n    callback?: (p1: Select2Result) => void;\r\n}\r\n\r\ninterface Select2Result {\r\n    results: any;\r\n    more: boolean;\r\n    context?: any;\r\n}\r\n\r\ninterface Select2AjaxOptions {\r\n    transport?: any;\r\n    url?: any;\r\n    dataType?: string;\r\n    quietMillis?: number;\r\n    cache?: boolean;\r\n    jsonpCallback?: any;\r\n    data?: (p1: string, p2: number, p3: any) => any;\r\n    results?: (p1: any, p2: number, p3: any) => any;\r\n    params?: any;\r\n}\r\n\r\ninterface Select2Options {\r\n    width?: any;\r\n    minimumInputLength?: number;\r\n    maximumInputLength?: number;\r\n    minimumResultsForSearch?: number;\r\n    maximumSelectionSize?: any;\r\n    placeHolder?: string;\r\n    placeHolderOption?: any;\r\n    separator?: string;\r\n    allowClear?: boolean;\r\n    multiple?: boolean;\r\n    closeOnSelect?: boolean;\r\n    openOnEnter?: boolean;\r\n    id?: (p1: any) => string;\r\n    matcher?: (p1: string, p2: string, p3: JQuery) => boolean;\r\n    sortResults?: (p1: any, p2: JQuery, p3: any) => any;\r\n    formatSelection?: (p1: any, p2: JQuery, p3: (p1: string) => string) => string;\r\n    formatResult?: (p1: any, p2: JQuery, p3: any, p4: (p1: string) => string) => string;\r\n    formatResultCssClass?: (p1: any) => string;\r\n    formatNoMatches?: (p1: string) => string;\r\n    formatSearching?: () => string;\r\n    formatInputTooShort?: (p1: string, p2: number) => string;\r\n    formatSelectionTooBig?: (p1: string) => string;\r\n    createSearchChoice?: (p1: string) => any;\r\n    createSearchChoicePosition?: string;\r\n    initSelection?: (p1: JQuery, p2: (p1: any) => void) => void;\r\n    tokenizer?: (p1: string, p2: any, p3: (p1: any) => any, p4: any) => string;\r\n    tokenSeparators?: any;\r\n    query?: (p1: Select2QueryOptions) => void;\r\n    ajax?: Select2AjaxOptions;\r\n    data?: any;\r\n    tags?: any;\r\n    containerCss?: any;\r\n    containerCssClass?: any;\r\n    dropdownCss?: any;\r\n    dropdownCssClass?: any;\r\n    dropdownAutoWidth?: boolean;\r\n    adaptContainerCssClass?: (p1: string) => string;\r\n    adaptDropdownCssClass?: (p1: string) => string;\r\n    escapeMarkup?: (p1: string) => string;\r\n    selectOnBlur?: boolean;\r\n    loadMorePadding?: number;\r\n    nextSearchTerm?: (p1: any, p2: string) => string;\r\n}\r\n\r\ninterface Select2Data {\r\n    text?: string;\r\n}\r\n\r\ninterface JQuery {\r\n    select2(options: Select2Options): JQuery;\r\n    select2(cmd: 'focus' | 'open'): JQuery;\r\n    select2(cmd: 'destroy'): void;\r\n    select2(cmd: 'val'): any;\r\n    select2(cmd: 'val', value: string | string[]): JQuery;\r\n    select2(cmd: 'data'): Select2Data;\r\n}","interface JQueryStatic {\r\n    extend<T>(target: T, object1?: T, ...objectN: T[]): T;\r\n    toJSON(obj: any): string;\r\n}","declare interface JQBlockUIOptions {\r\n    useTimeout?: boolean;   \r\n}","declare namespace Serenity {\r\n\r\n    const enum ColumnSelection {\r\n        List = 0,\r\n        KeyOnly = 1,\r\n        Details = 2\r\n    }\r\n    \r\n    const enum RetrieveColumnSelection {\r\n        details = 0,\r\n        keyOnly = 1,\r\n        list = 2\r\n    }\r\n}","namespace Serenity {\r\n    export interface ServiceError {\r\n        Code?: string;\r\n        Arguments?: string;\r\n        Message?: string;\r\n    }\r\n}","\r\ndeclare namespace Serenity {\r\n    interface ServiceResponse {\r\n        Error?: ServiceError;\r\n    }\r\n\r\n    interface ServiceRequest {\r\n    }\r\n\r\n    interface SaveRequest<TEntity> extends ServiceRequest {\r\n        EntityId?: any;\r\n        Entity?: TEntity;\r\n        Localizations?: any;\r\n    }\r\n\r\n    interface SaveRequestWithAttachment<TEntity> extends SaveRequest<TEntity> {\r\n        Attachments?: any[];\r\n    }\r\n\r\n    interface SaveResponse extends ServiceResponse {\r\n        EntityId?: any;\r\n    }\r\n\r\n    interface SaveWithLocalizationRequest<TEntity> extends SaveRequest<TEntity> {\r\n        Localizations?: { [key: string]: TEntity };\r\n    }\r\n\r\n    interface DeleteRequest extends ServiceRequest {\r\n        EntityId?: any;\r\n    }\r\n\r\n    interface DeleteResponse extends ServiceResponse {\r\n    }\r\n\r\n    interface UndeleteRequest extends ServiceRequest {\r\n        EntityId?: any;\r\n    }\r\n\r\n    interface UndeleteResponse extends ServiceResponse {\r\n    }\r\n\r\n    interface ListRequest extends ServiceRequest {\r\n        Skip?: number;\r\n        Take?: number;\r\n        Sort?: string[];\r\n        ContainsText?: string;\r\n        ContainsField?: string;\r\n        Criteria?: any[];\r\n        EqualityFilter?: any;\r\n        IncludeDeleted?: boolean;\r\n        ExcludeTotalCount?: boolean;\r\n        ColumnSelection?: ColumnSelection;\r\n        IncludeColumns?: string[];\r\n        ExcludeColumns?: string[];\r\n        DistinctFields?: string[];\r\n    }\r\n\r\n    interface ListResponse<TEntity> extends ServiceResponse {\r\n        Entities?: TEntity[];\r\n        Values?: any[];\r\n        TotalCount?: number;\r\n        Skip?: number;\r\n        Take?: number;\r\n    }\r\n\r\n    interface RetrieveRequest extends ServiceRequest {\r\n        EntityId?: any;\r\n        ColumnSelection?: RetrieveColumnSelection;\r\n        IncludeColumns?: string[];\r\n        ExcludeColumns?: string[];\r\n    }\r\n\r\n    interface RetrieveResponse<TEntity> extends ServiceResponse {\r\n        Entity?: TEntity;\r\n    }\r\n\r\n    interface RetrieveLocalizationRequest extends RetrieveRequest {\r\n    }\r\n\r\n    interface RetrieveLocalizationResponse<TEntity> extends ServiceResponse {\r\n        Entities?: { [key: string]: TEntity };\r\n    }\r\n}\r\n\r\n","// @ts-ignore check for global\r\nlet globalObj: any = typeof (global) !== \"undefined\" ? global : (typeof (window) !== \"undefined\" ? window : (typeof (self) !== \"undefined\" ? self : null));\r\n\r\nnamespace Q {\r\n\r\n    export interface Type extends Function {\r\n        name?: string;\r\n        __typeName?: string;\r\n        __metadata?: {\r\n            __interfaces: any[];\r\n        };\r\n        __propByName?: { [key: string]: any },\r\n        __fieldByName?: { [key: string]: any }\r\n        isInstanceOfType?: (type: Function) => boolean;\r\n    }\r\n\r\n    export let types: { [key: string]: Type } = {};\r\n\r\n    export let getType = (name: string, target?: any): Type => {\r\n        if (target == null) {\r\n            var type = types[name];\r\n            if (type != null)\r\n                return;\r\n        }\r\n\r\n        var a = name.split('.');\r\n        type = target;\r\n        for (var i = 0; i < a.length; i++) {\r\n            type = type[a[i]];\r\n            if (type == null)\r\n                return null;\r\n        }\r\n        if (typeof type !== 'function')\r\n            return null;\r\n        return type;\r\n    }\r\n\r\n    export let getTypeFullName = (type: Type): string => {\r\n        return type.__typeName || type.name ||\r\n            (type.toString().match(/^\\s*function\\s*([^\\s(]+)/) || [])[1] || 'Object';\r\n    };\r\n\r\n    export let getTypeName = (type: Type): string => {\r\n        var fullName = Q.getTypeFullName(type);\r\n        var bIndex = fullName.indexOf('[');\r\n        var nsIndex = fullName.lastIndexOf('.', bIndex >= 0 ? bIndex : fullName.length);\r\n        return nsIndex > 0 ? fullName.substr(nsIndex + 1) : fullName;\r\n    };\r\n\r\n    export let getInstanceType = (instance: any): Type => {\r\n        if (instance == null)\r\n            throw new NullReferenceException('Cannot get type of null');\r\n\r\n        // Have to catch as constructor cannot be looked up on native COM objects\r\n        try {\r\n            return instance.constructor;\r\n        }\r\n        catch (ex) {\r\n            return Object;\r\n        }\r\n    };\r\n\r\n    export let isAssignableFrom = (target: any, type: Type) => {\r\n        return target === type ||\r\n            (typeof (target.isAssignableFrom) === 'function' && target.isAssignableFrom(type)) ||\r\n            type.prototype instanceof target;\r\n    };\r\n\r\n    export let isInstanceOfType = (instance: any, type: Type) => {\r\n        if (instance == null)\r\n            return false;\r\n\r\n        if (typeof (type.isInstanceOfType) === 'function')\r\n            return type.isInstanceOfType(instance);\r\n\r\n        return Q.isAssignableFrom(type, Q.getInstanceType(instance));\r\n\r\n    };\r\n\r\n    export let safeCast = (instance: any, type: Type) => {\r\n        return Q.isInstanceOfType(instance, type) ? instance : null;\r\n    };\r\n\r\n    export let cast = (instance: any, type: Type) => {\r\n        if (instance == null)\r\n            return instance;\r\n        else if (Q.isInstanceOfType(instance, type))\r\n            return instance;\r\n        throw new InvalidCastException('Cannot cast object to type ' + Q.getTypeFullName(type));\r\n    }\r\n\r\n    export let getBaseType = (type: any): any => {\r\n        if (type === Object || type.__interface) {\r\n            return null;\r\n        }\r\n        else if (Object.getPrototypeOf) {\r\n            return Object.getPrototypeOf(type.prototype).constructor;\r\n        }\r\n        else {\r\n            var p = type.prototype;\r\n            if (Object.prototype.hasOwnProperty.call(p, 'constructor')) {\r\n                try {\r\n                    var ownValue = p.constructor;\r\n                    delete p.constructor;\r\n                    return p.constructor;\r\n                }\r\n                finally {\r\n                    p.constructor = ownValue;\r\n                }\r\n            }\r\n            return p.constructor;\r\n        }\r\n    };\r\n\r\n    export let getAttributes = (type: any, attrType: any, inherit?: boolean): any[] => {\r\n        var result = [];\r\n        if (inherit) {\r\n            var b = Q.getBaseType(type);\r\n            if (b) {\r\n                var a: any = Q.getAttributes(b, attrType, true);\r\n                for (var i = 0; i < a.length; i++) {\r\n                    var t = Q.getInstanceType(a[i]);\r\n                    result.push(a[i]);\r\n                }\r\n            }\r\n        }\r\n        if (type.__metadata && type.__metadata.attr) {\r\n            for (var i = 0; i < type.__metadata.attr.length; i++) {\r\n                var a: any = type.__metadata.attr[i];\r\n                if (attrType == null || Q.isInstanceOfType(a, attrType)) {\r\n                    var t = Q.getInstanceType(a);\r\n                    for (var j = result.length - 1; j >= 0; j--) {\r\n                        if (Q.isInstanceOfType(result[j], t))\r\n                            result.splice(j, 1);\r\n                    }\r\n                    result.push(a);\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n    export const enum MemberType {\r\n        field = 4,\r\n        property = 16\r\n    }\r\n\r\n    export let getMembers = (type: any, memberTypes: MemberType): any[] => {\r\n        var result = [];\r\n        var b = Q.getBaseType(type);\r\n        if (b)\r\n            result = Q.getMembers(b, memberTypes & ~1);\r\n\r\n        if (type.__metadata && type.__metadata.members) {\r\n            for (var m of type.__metadata.members) {\r\n                if (memberTypes & m.type)\r\n                    result.push(m);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    export let getTypes = (from?: any): any[] => {\r\n        var result = [];\r\n        if (!from) {\r\n            for (var t in types) {\r\n                if (types.hasOwnProperty(t))\r\n                    result.push(types[t]);\r\n            }\r\n        }\r\n        else {\r\n            var traverse = function (s: any, n: string) {\r\n                for (var c in s) {\r\n                    if (s.hasOwnProperty(c))\r\n                        traverse(s[c], c);\r\n                }\r\n                if (typeof (s) === 'function' &&\r\n                    n.charAt(0).toUpperCase() === n.charAt(0) &&\r\n                    n.charAt(0).toLowerCase() !== n.charAt(0))\r\n                    result.push(s);\r\n            };\r\n            traverse(from, '');\r\n        }\r\n        return result;\r\n    };\r\n\r\n    export class Exception extends Error {\r\n        constructor(message: string) {\r\n            super(message);\r\n            this.name = \"Exception\";\r\n        }\r\n    }\r\n\r\n    export class NullReferenceException extends Exception {\r\n        constructor(message?: string) {\r\n            super(message || 'Object is null.');\r\n            this.name = \"NullReferenceException\";\r\n        }\r\n    }\r\n\r\n    export class ArgumentNullException extends Exception {\r\n        constructor(paramName: string, message?: string) {\r\n            super((message || 'Value cannot be null.') + '\\nParameter name: ' + paramName);\r\n            this.name = \"ArgumentNullException\";\r\n        }\r\n    }\r\n\r\n    export class ArgumentOutOfRangeException extends Exception {\r\n        constructor(paramName: string, message?: string) {\r\n            super((message ?? 'Value is out of range.') +\r\n                (paramName ? ('\\nParameter name: ' + paramName) : \"\"));\r\n            this.name = \"ArgumentNullException\";\r\n        }\r\n    }\r\n\r\n    export class InvalidCastException extends Exception {\r\n        constructor(message: string) {\r\n            super(message);\r\n            this.name = \"InvalidCastException\";\r\n        }\r\n    }\r\n\r\n    export let clearKeys = (d: any) => {\r\n        for (var n in d) {\r\n            if (d.hasOwnProperty(n))\r\n                delete d[n];\r\n        }\r\n    }\r\n\r\n    export let delegateCombine = (delegate1: any, delegate2: any) => {\r\n        if (!delegate1) {\r\n            if (!delegate2._targets) {\r\n                return delegate2;\r\n            }\r\n            return delegate2;\r\n        }\r\n        if (!delegate2) {\r\n            if (!delegate1._targets) {\r\n                return delegate1;\r\n            }\r\n            return delegate1;\r\n        }\r\n\r\n        var targets1 = delegate1._targets ? delegate1._targets : [null, delegate1];\r\n        var targets2 = delegate2._targets ? delegate2._targets : [null, delegate2];\r\n\r\n        return _mkdel(targets1.concat(targets2));\r\n    };\r\n\r\n    export namespace Enum {\r\n        export let toString = (enumType: any, value: number): string => {\r\n            var values = enumType.prototype;\r\n            if (value === 0 || !enumType.__metadata && !enumType.__metadata.enumFlags) {\r\n                for (var i in values) {\r\n                    if (values[i] === value) {\r\n                        return i;\r\n                    }\r\n                }\r\n                return value == null ? \"\" : value.toString();\r\n            }\r\n            else {\r\n                var parts: string[] = [];\r\n                for (var i in values) {\r\n                    if (values[i] & value) {\r\n                        parts.push(i);\r\n                    }\r\n                    else\r\n                        parts.push(value == null ? \"\" : value.toString());\r\n                }\r\n                return parts.join(' | ');\r\n            }\r\n        };\r\n\r\n        export let getValues = (enumType: any) => {\r\n            var parts = [];\r\n            var values = enumType.prototype;\r\n            for (var i in values) {\r\n                if (values.hasOwnProperty(i))\r\n                    parts.push(values[i]);\r\n            }\r\n            return parts;\r\n        };\r\n    }\r\n\r\n    function delegateContains(targets: any[], object: any, method: any) {\r\n        for (var i = 0; i < targets.length; i += 2) {\r\n            if (targets[i] === object && targets[i + 1] === method) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n\r\n    \r\n    let _mkdel = (targets: any[]): any => {\r\n        var delegate: any = function () {\r\n            if (targets.length == 2) {\r\n                return targets[1].apply(targets[0], arguments);\r\n            }\r\n            else {\r\n                var clone = targets.slice();\r\n                for (var i = 0; i < clone.length; i += 2) {\r\n                    if (delegateContains(targets, clone[i], clone[i + 1])) {\r\n                        clone[i + 1].apply(clone[i], arguments);\r\n                    }\r\n                }\r\n                return null;\r\n            }\r\n        };\r\n        delegate._targets = targets;\r\n\r\n        return delegate;\r\n    };\r\n\r\n    export let delegateRemove = (delegate1: any, delegate2: any) => {\r\n        if (!delegate1 || (delegate1 === delegate2)) {\r\n            return null;\r\n        }\r\n        if (!delegate2) {\r\n            return delegate1;\r\n        }\r\n\r\n        var targets = delegate1._targets;\r\n        var object = null;\r\n        var method;\r\n        if (delegate2._targets) {\r\n            object = delegate2._targets[0];\r\n            method = delegate2._targets[1];\r\n        }\r\n        else {\r\n            method = delegate2;\r\n        }\r\n\r\n        for (var i = 0; i < targets.length; i += 2) {\r\n            if ((targets[i] === object) && (targets[i + 1] === method)) {\r\n                if (targets.length == 2) {\r\n                    return null;\r\n                }\r\n                var t = targets.slice();\r\n                t.splice(i, 2);\r\n                return _mkdel(t);\r\n            }\r\n        }\r\n\r\n        return delegate1;\r\n    };\r\n    \r\n    export let isEnum = (type: any) => {\r\n        return !!type.__enum;\r\n    };\r\n\r\n    export function initFormType(typ: Function, nameWidgetPairs: any[]) {\r\n        for (var i = 0; i < nameWidgetPairs.length - 1; i += 2) {\r\n            (function (name: string, widget: any) {\r\n                Object.defineProperty(typ.prototype, name, {\r\n                    get: function () {\r\n                        return this.w(name, widget);\r\n                    },\r\n                    enumerable: true,\r\n                    configurable: true\r\n                });\r\n            })(nameWidgetPairs[i], nameWidgetPairs[i + 1]);\r\n        }\r\n    }\r\n\r\n    export function prop(type: any, name: string, getter?: string, setter?: string) {\r\n        getter = getter || \"get_\" + name;\r\n        setter = setter || \"set_\" + name;\r\n\r\n        Object.defineProperty(type.prototype, name, {\r\n            get: function () {\r\n                return this[getter]();\r\n            },\r\n            set: function (value) {\r\n                return this[setter](value);\r\n            },\r\n            configurable: true,\r\n            enumerable: true\r\n        });\r\n    }\r\n}","\r\nnamespace Q {\r\n    export type Dictionary<TItem> = { [key: string]: TItem };\r\n    export type Grouping<TItem> = { [key: string]: TItem[] };\r\n\r\n    export function coalesce(a: any, b: any): any {\r\n        return a != null ? a : b;\r\n    }\r\n\r\n    export function isValue(a: any): boolean {\r\n        return a != null;\r\n    }\r\n\r\n    /**\r\n         * Tests if any of array elements matches given predicate\r\n         */\r\n    export function any<TItem>(array: TItem[], predicate: (x: TItem) => boolean): boolean {\r\n        for (let x of array)\r\n            if (predicate(x))\r\n                return true;\r\n\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Counts number of array elements that matches a given predicate\r\n     */\r\n    export function count<TItem>(array: TItem[], predicate: (x: TItem) => boolean): number {\r\n        let count = 0;\r\n        for (let x of array)\r\n            if (predicate(x))\r\n                count++;\r\n\r\n        return count;\r\n    }\r\n\r\n    /**\r\n     * Gets first element in an array that matches given predicate.\r\n     * Throws an error if no match is found.\r\n     */\r\n    export function first<TItem>(array: TItem[], predicate: (x: TItem) => boolean): TItem {\r\n        for (let x of array)\r\n            if (predicate(x))\r\n                return x;\r\n\r\n        throw new Error(\"first:No element satisfies the condition.!\");\r\n    }\r\n\r\n    /**\r\n     * Gets index of first element in an array that matches given predicate\r\n     */\r\n    export function indexOf<TItem>(array: TItem[], predicate: (x: TItem) => boolean): number {\r\n        for (var i = 0; i < array.length; i++)\r\n            if (predicate(array[i]))\r\n                return i;\r\n\r\n        return -1;\r\n    }\r\n\r\n    /**\r\n     * Inserts an item to the array at specified index\r\n     */\r\n    export function insert(obj: any, index: number, item: any): void {\r\n        if (obj.insert)\r\n            obj.insert(index, item);\r\n        else if (Object.prototype.toString.call(obj) === '[object Array]')\r\n            obj.splice(index, 0, item);\r\n        else\r\n            throw new Error(\"Object does not support insert!\");\r\n    }\r\n\r\n    /**\r\n     * Determines if the object is an array\r\n     */\r\n    export function isArray(obj: any): boolean {\r\n        return Object.prototype.toString.call(obj) === '[object Array]';\r\n    }\r\n\r\n    /**\r\n    * Gets first element in an array that matches given predicate.\r\n    * Throws an error if no matches is found, or there are multiple matches.\r\n    */\r\n    export function single<TItem>(array: TItem[], predicate: (x: TItem) => boolean): TItem {\r\n        let match: any;\r\n        let found = false;\r\n        for (let x of array)\r\n            if (predicate(x)) {\r\n                if (found)\r\n                    throw new Error(\"single:sequence contains more than one element.\");\r\n\r\n                found = true;\r\n                match = x;\r\n            }\r\n\r\n        if (!found)\r\n            throw new Error(\"single:No element satisfies the condition.\");\r\n\r\n        return match;\r\n    }\r\n\r\n    /**\r\n     * Maps an array into a dictionary with keys determined by specified getKey() callback,\r\n     * and values that are arrays containing elements for a particular key.\r\n     */\r\n    export function toGrouping<TItem>(items: TItem[], getKey: (x: TItem) => any): Q.Grouping<TItem> {\r\n        let lookup: Grouping<TItem> = {};\r\n        for (let x of items) {\r\n            let key = getKey(x) || \"\";\r\n            let d = lookup[key];\r\n            if (!d) {\r\n                d = lookup[key] = [];\r\n            }\r\n\r\n            d.push(x);\r\n        }\r\n        return lookup;\r\n    }\r\n\r\n\r\n    export type Group<TItem> = {\r\n        order: number;\r\n        key: string;\r\n        items: TItem[];\r\n        start: number;\r\n    }\r\n\r\n    export type Groups<TItem> = {\r\n        byKey: Q.Dictionary<Group<TItem>>;\r\n        inOrder: Group<TItem>[];\r\n    };\r\n\r\n    /**\r\n     * Groups an array with keys determined by specified getKey() callback.\r\n     * Resulting object contains group objects in order and a dictionary to access by key.\r\n     */\r\n    export function groupBy<TItem>(items: TItem[], getKey: (x: TItem) => any): Q.Groups<TItem> {\r\n        let result: Groups<TItem> = {\r\n            byKey: Object.create(null),\r\n            inOrder: []\r\n        };\r\n\r\n        for (var index = 0; index < items.length; index++) {\r\n            var item = items[index];\r\n            let key = Q.coalesce(getKey(item), \"\");\r\n            var group = result.byKey[key];\r\n            if (group === undefined) {\r\n                group = {\r\n                    order: result.inOrder.length,\r\n                    key: key,\r\n                    items: [item],\r\n                    start: index\r\n                }\r\n                result.byKey[key] = group;\r\n                result.inOrder.push(group);\r\n            }\r\n            else {\r\n                group.items.push(item);\r\n            }\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Gets first element in an array that matches given predicate.\r\n     * Returns null if no match is found.\r\n     */\r\n    export function tryFirst<TItem>(array: TItem[], predicate: (x: TItem) => boolean): TItem {\r\n        for (let x of array)\r\n            if (predicate(x))\r\n                return x;\r\n    }\r\n\r\n    export function endsWith(s: string, suffix: string): boolean {\r\n        if (suffix == null || !suffix.length)\r\n            return true;\r\n        if (suffix.length > s.length)\r\n            return false;\r\n        return (s.substr(s.length - suffix.length) == suffix);\r\n    }\r\n\r\n    export function isEmptyOrNull(s: string) {\r\n        return s == null || s.length === 0;\r\n    }\r\n\r\n    export function isTrimmedEmpty(s: string) {\r\n        return trimToNull(s) == null;\r\n    }\r\n\r\n    export function padLeft(s: string | number, len: number, ch: string = ' ') {\r\n        if (s[\"padStart\"])\r\n            return s[\"padStart\"](len, ch);\r\n        s = s.toString();\r\n        while (s.length < len)\r\n            s = ch + s;\r\n        return s;\r\n    }\r\n\r\n    export function startsWith(s: string, prefix: string): boolean {\r\n        if (prefix == null || !prefix.length)\r\n            return true;\r\n        if (prefix.length > s.length)\r\n            return false;\r\n        return (s.substr(0, prefix.length) == prefix);\r\n    }\r\n\r\n    export function toSingleLine(str: string) {\r\n        return Q.replaceAll(Q.replaceAll(trimToEmpty(str), '\\r\\n', ' '), '\\n', ' ').trim();\r\n    }\r\n\r\n    export let today = (): Date => {\r\n        var d = new Date();\r\n        return new Date(d.getFullYear(), d.getMonth(), d.getDate());\r\n    }\r\n\r\n    export var trimEnd = function(s: string) {\r\n        return s.replace(/\\s*$/, '');\r\n    };\r\n\r\n    export var trimStart = function(s: string) {\r\n        return s.replace(/^\\s*/, '');\r\n    };\r\n\r\n    export function trim(s: string) {\r\n        if (s == null)\r\n            return '';\r\n        return s.replace(new RegExp('^\\\\s+|\\\\s+$', 'g'), '');\r\n    }\r\n\r\n    export function trimToEmpty(s: string) {\r\n        if (s == null || s.length === 0)\r\n            return '';\r\n\r\n        return trim(s);\r\n    }\r\n\r\n    export function trimToNull(s: string) {\r\n        s = trim(s);\r\n        if (s.length === 0)\r\n            return null;\r\n        return s;\r\n    }\r\n\r\n    export function replaceAll(s: string, f: string, r: string): string {\r\n        s = s || '';\r\n        return s.split(f).join(r);\r\n    }\r\n\r\n    export function zeroPad(n: number, digits: number): string {\r\n        let s = n.toString();\r\n        while (s.length < digits)\r\n            s = \"0\" + s;\r\n        return s;\r\n    }\r\n\r\n    /**\r\n     * Returns a function, that, as long as it continues to be invoked, will not\r\n     * be triggered. The function will be called after it stops being called for\r\n     * N milliseconds. If `immediate` is passed, trigger the function on the\r\n     * leading edge, instead of the trailing. The function also has a property 'clear'\r\n     * that is a function which will clear the timer to prevent previously scheduled executions.\r\n     *\r\n     * @source underscore.js\r\n     */\r\n    export function debounce(func: Function, wait?: number, immediate?: boolean) {\r\n        var timeout: number, args: IArguments, context: any, timestamp: number, result: any;\r\n        if (null == wait) wait = 100;\r\n\r\n        function later() {\r\n            var last = Date.now() - timestamp;\r\n\r\n            if (last < wait && last >= 0) {\r\n                timeout = setTimeout(later, wait - last);\r\n            } else {\r\n                timeout = null;\r\n                if (!immediate) {\r\n                    result = func.apply(context, args);\r\n                    context = args = null;\r\n                }\r\n            }\r\n        };\r\n\r\n        var debounced = function () {\r\n            context = this;\r\n            args = arguments;\r\n            timestamp = Date.now();\r\n            var callNow = immediate && !timeout;\r\n            if (!timeout) timeout = setTimeout(later, wait);\r\n            if (callNow) {\r\n                result = func.apply(context, args);\r\n                context = args = null;\r\n            }\r\n\r\n            return result;\r\n        };\r\n\r\n        (debounced as any).clear = function () {\r\n            if (timeout) {\r\n                clearTimeout(timeout);\r\n                timeout = null;\r\n            }\r\n        };\r\n\r\n        (debounced as any).flush = function () {\r\n            if (timeout) {\r\n                result = func.apply(context, args);\r\n                context = args = null;\r\n\r\n                clearTimeout(timeout);\r\n                timeout = null;\r\n            }\r\n        };\r\n\r\n        return debounced;\r\n    };\r\n\r\n    // derived from https://github.com/mistic100/jQuery.extendext/blob/master/jQuery.extendext.js\r\n    export function deepClone<TItem>(arg1: TItem, ...args: TItem[]): TItem {\r\n        let options: any,\r\n            name: string,\r\n            src: any,\r\n            copy: any,\r\n            copyIsArray: boolean,\r\n            clone: any,\r\n            target = arguments[0] || {},\r\n            i = 1,\r\n            length = arguments.length;\r\n\r\n        // Handle case when target is a string or something (possible in deep copy)\r\n        if (typeof target !== \"object\" && !$.isFunction(target)) {\r\n            target = {};\r\n        }\r\n        if (i === length) {\r\n            target = {};\r\n            i = 0;\r\n        }\r\n        for (; i < length; i++) {\r\n            // Only deal with non-null/undefined values\r\n            if ((options = arguments[i]) !== null) {\r\n                // Special operations for arrays\r\n                if ($.isArray(options)) {\r\n                    target = $.extend(true, [], options);\r\n                }\r\n                else {\r\n                    // Extend the base object\r\n                    for (name in options) {\r\n                        src = target[name];\r\n                        copy = options[name];\r\n                        // Prevent never-ending loop\r\n                        if (target === copy) {\r\n                            continue;\r\n                        }\r\n                        // Recurse if we're merging plain objects or arrays\r\n                        if (copy && ($.isPlainObject(copy) ||\r\n                            (copyIsArray = $.isArray(copy)))) {\r\n                            if (copyIsArray) {\r\n                                copyIsArray = false;\r\n                                clone = src && $.isArray(src) ? src : [];\r\n                            }\r\n                            else {\r\n                                clone = src && $.isPlainObject(src) ? src : {};\r\n                            }\r\n                            // Never move original objects, clone them\r\n                            target[name] = deepClone(clone, copy);\r\n                        }\r\n                        else if (copy !== undefined) {\r\n                            target[name] = copy;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // Return the modified object\r\n        return target;\r\n    }\r\n}","\r\nnamespace Q {\r\n    \r\n    export interface NumberFormat {\r\n        decimalSeparator: string;\r\n        groupSeparator?: string;\r\n        decimalDigits?: number;\r\n        positiveSign?: string;\r\n        negativeSign?: string;\r\n        nanSymbol?: string;\r\n        percentSymbol?: string;\r\n        currencySymbol?: string;\r\n    }\r\n\r\n    export interface DateFormat {\r\n        dateSeparator?: string;\r\n        dateFormat?: string;\r\n        dateOrder?: string;\r\n        dateTimeFormat?: string;\r\n        amDesignator?: string;\r\n        pmDesignator?: string;\r\n        timeSeparator?: string;\r\n        firstDayOfWeek?: number;\r\n        dayNames?: string[];\r\n        shortDayNames?: string[];\r\n        minimizedDayNames?: string[];\r\n        monthNames?: string[];\r\n        shortMonthNames?: string[];\r\n    }\r\n    \r\n    export interface Locale extends NumberFormat, DateFormat {\r\n        compareString?: (a: string, b: string) => number;\r\n        toUpper?: (a: string) => string;\r\n    }\r\n    \r\n    export let Invariant: Locale = {\r\n        decimalSeparator: '.',\r\n        groupSeparator: ',',\r\n        decimalDigits: 2,\r\n        negativeSign: '-',\r\n        positiveSign: '+',\r\n        percentSymbol: '%',\r\n        currencySymbol: '$',\r\n        dateSeparator: '/',\r\n        dateOrder: 'mdy',\r\n        dateFormat: 'MM/dd/yyyy',\r\n        dateTimeFormat: 'MM/dd/yyyy HH:mm:ss',\r\n        amDesignator: 'AM',\r\n        pmDesignator: 'PM',\r\n        timeSeparator: ':',\r\n        firstDayOfWeek: 0,\r\n        dayNames: ['Sunday','Monday','Tuesday','Wednesday','Thursday','Friday','Saturday'],\r\n        shortDayNames: ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],\r\n        minimizedDayNames: ['Su','Mo','Tu','We','Th','Fr','Sa'],\r\n        monthNames: ['January','February','March','April','May','June','July','August','September','October','November','December',''],\r\n        shortMonthNames: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec',''],\r\n        compareString: (a, b) => a < b ? -1 : (a > b ? 1 : 0)\r\n    }\r\n\r\n    export function compareStringFactory(order: string): ((a: string, b: string) => number) {\r\n\r\n        var o: Q.Dictionary<number> = {};\r\n        for (let z = 0; z < order.length; z++) {\r\n            o[order.charAt(z)] = z + 1;\r\n        }\r\n\r\n        return function(a: string, b: string) {\r\n            a = a || \"\";\r\n            b = b || \"\";\r\n            if (a == b)\r\n                return 0;\r\n            \r\n            for (let i = 0, _len = Math.min(a.length, b.length); i < _len; i++) {\r\n                let x = a.charAt(i), y = b.charAt(i);\r\n                if (x === y)\r\n                    continue;\r\n                let ix = o[x], iy = o[y];\r\n                if (ix != null && iy != null)\r\n                    return ix < iy ? -1 : 1;\r\n                let c = x.localeCompare(y);\r\n                if (c == 0)\r\n                    continue;\r\n                return c;\r\n            }\r\n            return a.localeCompare(b);\r\n        }\r\n    }   \r\n\r\n    export let Culture: Locale = {\r\n        decimalSeparator: '.',\r\n        groupSeparator: ',',\r\n        dateSeparator: '/',\r\n        dateOrder: 'dmy',\r\n        dateFormat: 'dd/MM/yyyy',\r\n        dateTimeFormat: 'dd/MM/yyyy HH:mm:ss',\r\n        compareString: compareStringFactory(\"AaBbCcFfGgHhIiJjKkLlMmNnOoPpRrSsTtUuVvYyZz\")\r\n    };\r\n\r\n    (function() {\r\n        let k: string;\r\n        for (k in Invariant)\r\n            if (Culture[k] === undefined && Invariant.hasOwnProperty(k))\r\n                Culture[k] = Invariant[k];\r\n\r\n        if (typeof $ != \"undefined\" && (k = Q.trimToNull($('script#ScriptCulture').html())) != null) {\r\n            var sc = $.parseJSON(k);\r\n            if (sc.DecimalSeparator != null)\r\n                Culture.decimalSeparator = sc.DecimalSeparator;\r\n            if (sc.GroupSeparator != null && sc.GroupSeparator != Culture.decimalSeparator)\r\n                Culture.groupSeparator = sc.GroupSeparator;\r\n            else if (Culture.groupSeparator == Culture.decimalSeparator)\r\n                Culture.groupSeparator = Culture.decimalSeparator == '.' ? ',' : '.';\r\n\r\n            delete sc.groupSeparator;\r\n            delete sc.decimal;\r\n            for (k in sc) {\r\n                if (Culture[k] === undefined && sc.hasOwnProperty(k))\r\n                    Culture[k.charAt(0).toLowerCase() + k.substr(1)] = sc[k];\r\n            }\r\n        }\r\n    })();\r\n\r\n    export function turkishLocaleToUpper(a: string): string {\r\n        if (!a)\r\n            return a;\r\n        return a.replace(/i/g, '').replace(//g, 'I').toUpperCase();\r\n    }\r\n\r\n    function insertGroupSeperator(num: string, dec: string, grp: string, neg: string) {\r\n        var decPart = null;\r\n        var decIndex = num.indexOf(dec);\r\n        if (decIndex > 0) {\r\n            decPart = num.substr(decIndex);\r\n            num = num.substr(0, decIndex);\r\n        }\r\n\r\n        var negative = Q.startsWith(num, neg);\r\n        if (negative) {\r\n            num = num.substr(1);\r\n        }\r\n\r\n        var groupSize = 3;\r\n        if (num.length < groupSize) {\r\n            return (negative ? neg : '') + (decPart ? num + decPart : num);\r\n        }\r\n\r\n        var index = num.length;\r\n        var s = '';\r\n        var done = false;\r\n        while (!done) {\r\n            var length = groupSize;\r\n            var startIndex = index - length;\r\n            if (startIndex < 0) {\r\n                groupSize += startIndex;\r\n                length += startIndex;\r\n                startIndex = 0;\r\n                done = true;\r\n            }\r\n\r\n            if (!length)\r\n                break;\r\n\r\n            var part = num.substr(startIndex, length);\r\n            if (s.length)\r\n                s = part + grp + s;\r\n            else \r\n                s = part;\r\n            index -= length;\r\n        }\r\n\r\n        if (negative) \r\n            s = '-' + s;\r\n        return decPart ? s + decPart : s;\r\n    }\r\n\r\n    var _formatRE = /\\{\\{|\\}\\}|\\{[^\\}\\{]+\\}/g;\r\n\r\n    function _formatString(format: string, l: Locale, values: IArguments, from: number) {\r\n\r\n\t\treturn format.replace(_formatRE,\r\n\t\t\tfunction (m) {\r\n\t\t\t\tif (m === '{{' || m === '}}')\r\n\t\t\t\t\treturn m.charAt(0);\r\n\t\t\t\tvar index = parseInt(m.substr(1), 10);\r\n\t\t\t\tvar value = values[index + from];\r\n\t\t\t\tif (value == null) {\r\n\t\t\t\t\treturn '';\r\n\t\t\t\t}\r\n\t\t\t\tvar type = Q.getInstanceType(value);\r\n\t\t\t\tif (type == Number || type == Date) {\r\n\t\t\t\t\tvar formatSpec = null;\r\n\t\t\t\t\tvar formatIndex = m.indexOf(':');\r\n\t\t\t\t\tif (formatIndex > 0) {\r\n\t\t\t\t\t\tformatSpec = m.substring(formatIndex + 1, m.length - 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn _formatObject(value, formatSpec, l);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\treturn value.toString();\r\n\t\t\t\t}\r\n\t\t\t});\r\n    };\r\n    \r\n    \r\n    export function format(format: string, ...prm: any[]): string {\r\n        return _formatString(format, Q.Culture, arguments, 1);\r\n    }\r\n\r\n    export function localeFormat(format: string, l: Locale, ...prm: any[]): string {\r\n        return _formatString(format, l, arguments, 2);\r\n    }\r\n\r\n    function _formatObject(obj: any, format: string, fmt?: Locale): string {\r\n        if (typeof (obj) === 'number')\r\n            return Q.formatNumber(obj, format, fmt);\r\n        else if (Object.prototype.toString.call(obj) === '[object Date]')\r\n            return Q.formatDate(obj, format, fmt);\r\n        else\r\n            return obj.format(format);\r\n    };\r\n\r\n    export let round = (n: number, d?: number, rounding?: boolean) => {\r\n        var m = Math.pow(10, d || 0);\r\n        n *= m;\r\n        var sign = ((n > 0) as any) | -(n < 0);\r\n        if (n % 1 === 0.5 * sign) {\r\n            var f = Math.floor(n);\r\n            return (f + (rounding ? (sign > 0) as any : (f % 2 * sign))) / m;\r\n        }\r\n\r\n        return Math.round(n) / m;\r\n    };\r\n\r\n    export let trunc = (n: number): number => n != null ? (n > 0 ? Math.floor(n) : Math.ceil(n)) : null;\r\n\r\n    export function formatNumber(num: number, format?: string, decOrLoc?: string | Q.NumberFormat, grp?: string): string {\r\n        \r\n        if (num == null)\r\n            return \"\";\r\n        \r\n        var fmt: Q.NumberFormat = typeof decOrLoc !== \"string\" ? (decOrLoc ?? Q.Culture) : {\r\n            decimalSeparator: decOrLoc,\r\n            groupSeparator: grp ?? (decOrLoc == \",\" ? \".\" : \",\")\r\n        }\r\n        \r\n        if (isNaN(num)) {\r\n            return fmt.nanSymbol ?? Culture.nanSymbol;\r\n        }\r\n        \r\n        if (format == null || (format.length == 0) || (format == 'i')) {\r\n\t\t\treturn num.toString();\r\n        }\r\n\r\n        var dec = fmt.decimalSeparator ?? Culture.decimalSeparator;\r\n        grp = grp ?? fmt.groupSeparator ?? Culture.groupSeparator;\r\n        var neg = fmt.negativeSign ?? Culture.negativeSign;\r\n\r\n        var s = '';\r\n\t\tvar precision = -1;\r\n\r\n\t\tif (format.length > 1) {\r\n\t\t\tprecision = parseInt(format.substr(1), 10);\r\n        }\r\n        \r\n\t\tvar fs = format.charAt(0);\r\n\t\tswitch (fs) {\r\n            case 'd': \r\n            case 'D':\r\n\t\t\t\ts = parseInt(Math.abs(num) as any).toString();\r\n\t\t\t\tif (precision != -1)\r\n\t\t\t\t\ts = Q.padLeft(s, precision, '0');\r\n\t\t\t\tif (num < 0)\r\n\t\t\t\t\ts = neg + s;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'x': case 'X':\r\n\t\t\t\ts = parseInt(Math.abs(num) as any).toString(16);\r\n\t\t\t\tif (fs == 'X')\r\n\t\t\t\t\ts = s.toUpperCase();\r\n\t\t\t\tif (precision != -1)\r\n\t\t\t\t\ts = Q.padLeft(s, precision, '0');\r\n\t\t\t\tbreak;\r\n            case 'e': \r\n            case 'E':\r\n\t\t\t\tif (precision == -1)\r\n\t\t\t\t\ts = num.toExponential();\r\n\t\t\t\telse\r\n\t\t\t\t\ts = num.toExponential(precision);\r\n\t\t\t\tif (fs == 'E')\r\n\t\t\t\t\ts = s.toUpperCase();\r\n\t\t\t\tbreak;\r\n            case 'f': \r\n            case 'F':\r\n            case 'n':\r\n            case 'N':\r\n\t\t\t\tif (precision == -1) {\r\n\t\t\t\t\tprecision = fmt.decimalDigits ?? Culture.decimalDigits;\r\n\t\t\t\t}\r\n\t\t\t\ts = num.toFixed(precision).toString();\r\n\t\t\t\tif (precision && (dec != '.')) {\r\n\t\t\t\t\tvar index = s.indexOf('.');\r\n\t\t\t\t\ts = s.substr(0, index) + dec + s.substr(index + 1);\r\n\t\t\t\t}\r\n\t\t\t\tif ((fs == 'n') || (fs == 'N')) {\r\n\t\t\t\t\ts = insertGroupSeperator(s, dec, grp, neg);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'c': case 'C':\r\n\t\t\tcase 'p': case 'P':\r\n\t\t\t\tif (precision == -1) {\r\n\t\t\t\t\tprecision = fmt.decimalDigits ?? Culture.decimalDigits;\r\n                }\r\n                if (fs === 'p' || fs == 'P')\r\n                    num *= 100;\r\n\t\t\t\ts = Math.abs(num).toFixed(precision).toString();\r\n\t\t\t\tif (precision && (dec != '.')) {\r\n\t\t\t\t\tvar index = s.indexOf('.');\r\n\t\t\t\t\ts = s.substr(0, index) + dec + s.substr(index + 1);\r\n\t\t\t\t}\r\n\t\t\t\ts = insertGroupSeperator(s, dec, grp, neg);\r\n                s = localeFormat(\"0\", fmt, s);\r\n                break;\r\n                \r\n            default:\r\n                var prefix = '';\r\n                var mid = '';\r\n                var suffix = '';\r\n                var endPrefix = false;\r\n                var inQuote = false;\r\n                for (var i = 0; i < format.length; i++) {\r\n                    var c = format.charAt(i);\r\n                    if (c == \"'\") {\r\n                        inQuote = !inQuote;\r\n                        continue;\r\n                    }\r\n                    else if (!inQuote) {\r\n                        if (c == '\\\\') {\r\n                            var c = (format.charAt(i + 1) || '');\r\n                            i++;\r\n                        }\r\n                        else if (c == '#' || c == ',' || c == '.' || c == '0') {\r\n                            endPrefix = true;\r\n                            mid += c;\r\n                            continue;\r\n                        }\r\n                    }\r\n                    endPrefix ? (suffix += c) : (prefix += c);\r\n                }\r\n\r\n                format = mid;\r\n\r\n                let r = \"\";\r\n                if (format.indexOf(\".\") > -1) {\r\n                    let dp = dec;\r\n                    let df = format.substring(format.lastIndexOf(\".\") + 1);\r\n                    num = roundNumber(num, df.length);\r\n                    let dv = num % 1;\r\n                    let ds = new String(dv.toFixed(df.length));\r\n                    ds = ds.substring(ds.lastIndexOf(\".\") + 1);\r\n                    for (let i = 0; i < df.length; i++) {\r\n                        if (df.charAt(i) == '#' && ds.charAt(i) != '0') {\r\n                            dp += ds.charAt(i);\r\n                            continue;\r\n                        }\r\n                        else if (df.charAt(i) == '#' && ds.charAt(i) == '0') {\r\n                            let notParsed = ds.substring(i);\r\n                            if (notParsed.match('[1-9]')) {\r\n                                dp += ds.charAt(i);\r\n                                continue;\r\n                            }\r\n                            else\r\n                                break;\r\n                        }\r\n                        else if (df.charAt(i) == \"0\")\r\n                            dp += ds.charAt(i);\r\n                        else\r\n                            dp += df.charAt(i);\r\n                    }\r\n                    r += dp;\r\n                }\r\n                else\r\n                    num = Math.round(num);\r\n        \r\n                let ones = Math.floor(num);\r\n                if (num < 0)\r\n                    ones = Math.ceil(num);\r\n                let of = \"\";\r\n                if (format.indexOf(\".\") == -1)\r\n                    of = format;\r\n                else\r\n                    of = format.substring(0, format.indexOf(\".\"));\r\n        \r\n                let op = \"\";\r\n                if (!(ones == 0 && of.substr(of.length - 1) == '#')) {\r\n                    // find how many digits are in the group\r\n                    let oneText = new String(Math.abs(ones));\r\n                    let gl = 9999;\r\n                    if (of.lastIndexOf(\",\") != -1)\r\n                        gl = of.length - of.lastIndexOf(\",\") - 1;\r\n                    let gc = 0;\r\n                    for (let i = oneText.length - 1; i > -1; i--) {\r\n                        op = oneText.charAt(i) + op;\r\n                        gc++;\r\n                        if (gc == gl && i != 0) {\r\n                            op = grp + op;\r\n                            gc = 0;\r\n                        }\r\n                    }\r\n        \r\n                    // account for any pre-data padding\r\n                    if (of.length > op.length) {\r\n                        let padStart = of.indexOf('0');\r\n                        if (padStart != -1) {\r\n                            let padLen = of.length - padStart;\r\n                            // pad to left with 0's or group char\r\n                            let pos = of.length - op.length - 1;\r\n                            while (op.length < padLen) {\r\n                                let pc = of.charAt(pos);\r\n                                // replace with real group char if needed\r\n                                if (pc == ',')\r\n                                    pc = grp;\r\n                                op = pc + op;\r\n                                pos--;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n        \r\n                if (!op && of.indexOf('0', of.length - 1) !== -1)\r\n                    op = '0';\r\n        \r\n                r = op + r;\r\n                if (num < 0)\r\n                    r = neg + r;\r\n        \r\n                if (r.lastIndexOf(dec) == r.length - 1) {\r\n                    r = r.substring(0, r.length - 1);\r\n                }\r\n        \r\n                return prefix + r + suffix;\r\n\t\t}\r\n\r\n\t\treturn s;\r\n    }\r\n\r\n    export function parseInteger(s: string): number {\r\n        s = trim(s.toString());\r\n        let ts = Culture.groupSeparator;\r\n        if (s && s.length && s.indexOf(ts) > 0) {\r\n            s = s.replace(new RegExp(\"(\\\\b\\\\d{1,3})\\\\\" + ts + \"(?=\\\\d{3}(\\\\D|$))\", \"g\"), '$1');\r\n        }\r\n        if (!(/^[-\\+]?\\d+$/.test(s)))\r\n            return NaN;\r\n        return parseInt(s, 10);\r\n    }\r\n\r\n    export function parseDecimal(s: string): number {\r\n        if (s == null)\r\n            return null;\r\n\r\n        s = trim(s.toString());\r\n        if (s.length == 0)\r\n            return null;\r\n\r\n        let ts = Culture.groupSeparator;\r\n\r\n        if (s && s.length && s.indexOf(ts) > 0) {\r\n            s = s.replace(new RegExp(\"(\\\\b\\\\d{1,3})\\\\\" + ts + \"(?=\\\\d{3}(\\\\D|$))\", \"g\"), '$1');\r\n        }\r\n\r\n        if (!(new RegExp(\"^\\\\s*([-\\\\+])?(\\\\d*)\\\\\" + Culture.decimalSeparator + \"?(\\\\d*)\\\\s*$\").test(s)))\r\n            return NaN;\r\n\r\n        return parseFloat(s.toString().replace(Culture.decimalSeparator, '.'));\r\n    }\r\n\r\n    function roundNumber(n: number, dec?: number): number {\r\n        let power = Math.pow(10, dec || 0);\r\n        let value = (Math.round(n * power) / power).toString();\r\n        // ensure the decimal places are there\r\n        if (dec > 0) {\r\n            let dp = value.indexOf(\".\");\r\n            if (dp == -1) {\r\n                value += '.';\r\n                dp = 0;\r\n            }\r\n            else {\r\n                dp = value.length - (dp + 1);\r\n            }\r\n            while (dp < dec) {\r\n                value += '0';\r\n                dp++;\r\n            }\r\n        }\r\n        return parseFloat(value);\r\n    }\r\n\r\n    export function toId(id: any): any {\r\n        if (id == null)\r\n            return null;\r\n        if (typeof id == \"number\")\r\n            return id;\r\n        id = $.trim(id);\r\n        if (id == null || !id.length)\r\n            return null;\r\n        if (id.length >= 15 || !(/^-?\\d+$/.test(id)))\r\n            return id;\r\n        let v = parseInt(id, 10);\r\n        if (isNaN(v))\r\n            return id;\r\n        return v;\r\n    }\r\n\r\n    var _dateFormatRE = /'.*?[^\\\\]'|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|\\//g;\r\n\r\n    export function formatDate(d: Date | string, format?: string, locale?: Locale) {\r\n        if (!d)\r\n            return '';\r\n\r\n        let date: Date;\r\n        if (typeof d == \"string\") {\r\n            var res = Q.parseDate(d, locale == null ? null : locale.dateOrder);\r\n            if (!res)\r\n                return d;\r\n            date = res as Date;\r\n        }\r\n        else\r\n            date = d;\r\n\r\n        if (format == 'i') \r\n            return date.toString();\r\n        if (format == 'id')\r\n            return date.toDateString();\r\n        if (format == 'it')\r\n            return date.toTimeString();\r\n\r\n        \r\n        if (locale == null)\r\n            locale = Culture;\r\n\r\n        if (format == null || format == \"d\")\r\n            format = locale.dateFormat ?? Culture.dateFormat;\r\n        else if (format.length == 1) {\r\n            switch (format) {\r\n                case \"g\": format = (locale.dateTimeFormat ?? Culture.dateTimeFormat).replace(\":ss\", \"\"); break;\r\n                case \"G\": format = (locale.dateTimeFormat ?? Culture.dateTimeFormat); break;\r\n                case \"s\": format = \"yyyy-MM-ddTHH:mm:ss\"; break;\r\n                case 'd': format = (locale.dateFormat ?? Culture.dateFormat);\r\n                case 't': format = (locale.dateTimeFormat && locale.dateFormat) ? locale.dateTimeFormat.replace(locale.dateFormat + \" \", \"\") : \"HH:mm\"; break;\r\n                case 'u':\r\n                case 'U':\r\n                    format = format == 'u' ? 'yyyy-MM-ddTHH:mm:ss.fffZ' : locale.dateTimeFormat ?? Culture.dateTimeFormat;\r\n                    date = new Date(date.getUTCFullYear(), date.getUTCMonth(), date.getUTCDate(),\r\n                        date.getUTCHours(), date.getUTCMinutes(), date.getUTCSeconds(), date.getUTCMilliseconds());\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if (format.charAt(0) == '%') {\r\n            format = format.substr(1);\r\n        }\r\n\r\n        var re = _dateFormatRE;\r\n        var sb = [];\r\n\r\n        re.lastIndex = 0;\r\n        while (true) {\r\n            var index = re.lastIndex;\r\n            var match = re.exec(format);\r\n\r\n            sb.push(format.slice(index, match ? match.index : format.length));\r\n            if (!match) {\r\n                break;\r\n            }\r\n\r\n            var fs = match[0];\r\n            var part: any = fs;\r\n            switch (fs) {\r\n                case '/': \r\n                    part = locale.dateSeparator ?? Culture.dateSeparator;\r\n                    break;\r\n                case 'dddd':\r\n                    part = (locale.dayNames ?? Culture.dayNames)[date.getDay()];\r\n                    break;\r\n                case 'ddd':\r\n                    part = (locale.shortDayNames ?? Culture.shortDayNames)[date.getDay()];\r\n                    break;\r\n                case 'dd':\r\n                    part = Q.padLeft(date.getDate().toString(), 2, '0');\r\n                    break;\r\n                case 'd':\r\n                    part = date.getDate();\r\n                    break;\r\n                case 'MMMM':\r\n                    part = (locale.monthNames ?? Culture.monthNames)[date.getMonth()];\r\n                    break;\r\n                case 'MMM':\r\n                    part = (locale.shortMonthNames ?? Culture.shortMonthNames)[date.getMonth()];\r\n                    break;\r\n                case 'MM':\r\n                    part = Q.padLeft(date.getMonth() + 1, 2, '0');\r\n                    break;\r\n                case 'M':\r\n                    part = (date.getMonth() + 1);\r\n                    break;\r\n                case 'yyyy':\r\n                    part = Q.padLeft(date.getFullYear(), 4, '0');\r\n                    break;\r\n                case 'yy':\r\n                    part = Q.padLeft(date.getFullYear() % 100, 2, '0');\r\n                    break;\r\n                case 'y':\r\n                    part = date.getFullYear() % 100;\r\n                    break;\r\n                case 'h': case 'hh':\r\n                    part = date.getHours() % 12;\r\n                    if (!part) {\r\n                        part = '12';\r\n                    }\r\n                    else if (fs == 'hh') {\r\n                        part = Q.padLeft(part, 2, '0');\r\n                    }\r\n                    break;\r\n                case 'HH':\r\n                    part = Q.padLeft(date.getHours(), 2, '0');\r\n                    break;\r\n                case 'H':\r\n                    part = date.getHours();\r\n                    break;\r\n                case 'mm':\r\n                    part = Q.padLeft(date.getMinutes(), 2, '0');\r\n                    break;\r\n                case 'm':\r\n                    part = date.getMinutes();\r\n                    break;\r\n                case 'ss':\r\n                    part = Q.padLeft(date.getSeconds().toString(), 2, '0');\r\n                    break;\r\n                case 's':\r\n                    part = date.getSeconds();\r\n                    break;\r\n                case 't': case 'tt':\r\n                    part = (date.getHours() < 12) ? (locale.amDesignator ?? Culture.amDesignator) : (locale.pmDesignator ?? Culture.pmDesignator);\r\n                    if (fs == 't') {\r\n                        part = part.charAt(0);\r\n                    }\r\n                    break;\r\n                case 'fff':\r\n                    part = Q.padLeft(date.getMilliseconds(), 3, '0');\r\n                    break;\r\n                case 'ff':\r\n                    part = Q.padLeft(date.getMilliseconds(), 3).substr(0, 2);\r\n                    break;\r\n                case 'f':\r\n                    part = Q.padLeft(date.getMilliseconds(), 3).charAt(0);\r\n                    break;\r\n                case 'z':\r\n                case 'Z':\r\n                    part = date.getTimezoneOffset() / 60;\r\n                    part = ((part >= 0) ? '-' : '+') + Math.floor(Math.abs(part));\r\n                    break;\r\n                case 'zz': \r\n                case 'zzz':\r\n                    part = date.getTimezoneOffset() / 60;\r\n                    part = ((part >= 0) ? '-' : '+') +\r\n                        Math.floor(Q.padLeft(Math.abs(part), 2, '0'));\r\n                    if (fs == 'zzz') {\r\n                        part += (locale.timeSeparator ?? Culture.timeSeparator) +\r\n                            Math.abs(Q.padLeft(date.getTimezoneOffset() % 60, 2, '0'));\r\n                    }\r\n                    break;\r\n                default:\r\n                    if (part.charAt(0) == '\\'') {\r\n                        part = part.substr(1, part.length - 2).replace(/\\\\'/g, '\\'');\r\n                    }\r\n                    break;\r\n            }\r\n            sb.push(part);\r\n        }\r\n\r\n        return sb.join('');\r\n    }\r\n\r\n    export function formatDayHourAndMin(n: number): string {\r\n        if (n === 0)\r\n            return '0';\r\n        else if (!n)\r\n            return '';\r\n        let days = Math.floor(n / 24 / 60);\r\n        let txt = \"\";\r\n        if (days > 0) {\r\n            txt += days.toString();\r\n        }\r\n        let mins = zeroPad(Math.floor((n % (24 * 60)) / (60)), 2) + ':' + zeroPad(n % 60, 2);\r\n        if (mins != '00:00') {\r\n            if (days > 0)\r\n                txt += \".\";\r\n            txt += mins;\r\n        }\r\n        return txt;\r\n    }\r\n\r\n    export function formatISODateTimeUTC(d: Date): string {\r\n        if (d == null)\r\n            return \"\";\r\n        let zeropad = function (num: number) { return ((num < 10) ? '0' : '') + num; };\r\n        let str = d.getUTCFullYear() + \"-\" +\r\n            zeropad(d.getUTCMonth() + 1) + \"-\" +\r\n            zeropad(d.getUTCDate()) + \"T\" +\r\n            zeropad(d.getUTCHours()) + \":\" +\r\n            zeropad(d.getUTCMinutes());\r\n        let secs = Number(d.getUTCSeconds() + \".\" +\r\n            ((d.getUTCMilliseconds() < 100) ? '0' : '') +\r\n            zeropad(d.getUTCMilliseconds()));\r\n        str += \":\" + zeropad(secs) + \"Z\";\r\n        return str;\r\n    }\r\n\r\n    let isoRegexp = /(\\d{4,})(?:-(\\d{1,2})(?:-(\\d{1,2})(?:[T ](\\d{1,2}):(\\d{1,2})(?::(\\d{1,2})(?:\\.(\\d+))?)?(?:(Z)|([+-])(\\d{1,2})(?::(\\d{1,2}))?)?)?)?)?/;\r\n\r\n    export function parseISODateTime(s: string): Date {\r\n        if (!s || !s.length)\r\n            return null;\r\n\r\n        s = s + \"\";\r\n        if (typeof (s) != \"string\" || s.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        let res = s.match(isoRegexp);\r\n        if (typeof (res) == \"undefined\" || res === null) {\r\n            return null;\r\n        }\r\n\r\n        let year: number, month: number, day: number, hour: number, min: number, sec: number, msec: number;\r\n        year = parseInt(res[1], 10);\r\n\r\n        if (typeof (res[2]) == \"undefined\" || res[2] === '') {\r\n            return new Date(year);\r\n        }\r\n\r\n        month = parseInt(res[2], 10) - 1;\r\n        day = parseInt(res[3], 10);\r\n        if (typeof (res[4]) == \"undefined\" || res[4] === '') {\r\n            return new Date(year, month, day);\r\n        }\r\n\r\n        hour = parseInt(res[4], 10);\r\n        min = parseInt(res[5], 10);\r\n        sec = (typeof (res[6]) != \"undefined\" && res[6] !== '') ? parseInt(res[6], 10) : 0;\r\n\r\n        if (typeof (res[7]) != \"undefined\" && res[7] !== '') {\r\n            msec = Math.round(1000.0 * parseFloat(\"0.\" + res[7]));\r\n        }\r\n        else {\r\n            msec = 0;\r\n        }\r\n\r\n        if ((typeof (res[8]) == \"undefined\" || res[8] === '') && (typeof (res[9]) == \"undefined\" || res[9] === '')) {\r\n            return new Date(year, month, day, hour, min, sec, msec);\r\n        }\r\n\r\n        let ofs: number;\r\n        if (typeof (res[9]) != \"undefined\" && res[9] !== '') {\r\n            ofs = parseInt(res[10], 10) * 3600000;\r\n            if (typeof (res[11]) != \"undefined\" && res[11] !== '') {\r\n                ofs += parseInt(res[11], 10) * 60000;\r\n            }\r\n            if (res[9] == \"-\") {\r\n                ofs = -ofs;\r\n            }\r\n        }\r\n        else {\r\n            ofs = 0;\r\n        }\r\n        return new Date(Date.UTC(year, month, day, hour, min, sec, msec) - ofs);\r\n    }\r\n\r\n    export function parseHourAndMin(value: string) {\r\n        let v = trim(value);\r\n        if (v.length < 4 || v.length > 5)\r\n            return NaN;\r\n        let h: number, m: number;\r\n        if (v.charAt(1) == ':') {\r\n            h = parseInteger(v.substr(0, 1));\r\n            m = parseInteger(v.substr(2, 2));\r\n        }\r\n        else {\r\n            if (v.charAt(2) != ':')\r\n                return NaN;\r\n            h = parseInteger(v.substr(0, 2));\r\n            m = parseInteger(v.substr(3, 2));\r\n        }\r\n        if (isNaN(h) || isNaN(m) || h < 0 || h > 23 || m < 0 || m > 59)\r\n            return NaN;\r\n        return h * 60 + m;\r\n    }\r\n\r\n    export function parseDayHourAndMin(s: string): number {\r\n        let days: number;\r\n        let v = trim(s);\r\n        if (!v)\r\n            return NaN;\r\n        let p = v.split('.');\r\n        if (p.length == 0 || p.length > 2)\r\n            return NaN;\r\n        if (p.length == 1) {\r\n            days = parseInteger(p[0]);\r\n            if (!isNaN(days))\r\n                return days * 24 * 60;\r\n            return parseHourAndMin(p[0]);\r\n        }\r\n        else {\r\n            days = parseInteger(p[0]);\r\n            let hm = parseHourAndMin(p[1]);\r\n            if (isNaN(days) || isNaN(hm))\r\n                return NaN;\r\n            return days * 24 * 60 + hm;\r\n        }\r\n    }\r\n\r\n    export function parseDate(s: string, dateOrder?: string): any {\r\n        if (!s || !s.length)\r\n            return null;\r\n\r\n        if (s.length >= 10 && s.charAt(4) === '-' && s.charAt(7) === '-' &&\r\n            (s.length === 10 || (s.length > 10 && s.charAt(10) === 'T'))) {\r\n            var res = Q.parseISODateTime(s);\r\n            if (res == null)\r\n                return false;\r\n            return res;\r\n        }\r\n\r\n        let dateVal: any;\r\n        let dArray: any;\r\n        let d: number, m: number, y: number;\r\n        dArray = splitDateString(s);\r\n        if (!dArray)\r\n            return false;\r\n\r\n        if (dArray.length == 3) {\r\n            dateOrder = dateOrder || Culture.dateOrder;\r\n            switch (dateOrder) {\r\n                case \"dmy\":\r\n                    d = parseInt(dArray[0], 10);\r\n                    m = parseInt(dArray[1], 10) - 1;\r\n                    y = parseInt(dArray[2], 10);\r\n                    break;\r\n                case \"ymd\":\r\n                    d = parseInt(dArray[2], 10);\r\n                    m = parseInt(dArray[1], 10) - 1;\r\n                    y = parseInt(dArray[0], 10);\r\n                    break;\r\n                case \"mdy\":\r\n                default:\r\n                    d = parseInt(dArray[1], 10);\r\n                    m = parseInt(dArray[0], 10) - 1;\r\n                    y = parseInt(dArray[2], 10);\r\n                    break;\r\n            }\r\n\r\n            if (isNaN(d) || isNaN(m) || isNaN(y) || d < 1 || d > 31 || m < 0 || m > 11 || y > 9999 || y < 0)\r\n                return false;\r\n\r\n            if (y < 100) {\r\n                let fullYear = new Date().getFullYear();\r\n                let shortYearCutoff = (fullYear % 100) + 10;\r\n                y += fullYear - fullYear % 100 + (y <= shortYearCutoff ? 0 : -100);\r\n            }\r\n            try {\r\n                dateVal = new Date(y, m, d);\r\n                if (isNaN(dateVal.getFullYear()))\r\n                    return false;\r\n            }\r\n            catch (e) {\r\n                return false;\r\n            }\r\n        }\r\n        else if (dArray.length == 1) {\r\n            try {\r\n                dateVal = new Date(dArray[0]);\r\n                if (isNaN(dateVal.getFullYear()))\r\n                    return false;\r\n            }\r\n            catch (e) {\r\n                return false;\r\n            }\r\n        }\r\n        return dateVal;\r\n    }\r\n\r\n    export function splitDateString(s: string): string[] {\r\n        s = trim(s);\r\n        if (!s.length)\r\n            return;\r\n        if (s.indexOf(\"/\") >= 0)\r\n            return s.split(\"/\");\r\n        else if (s.indexOf(\".\") >= 0)\r\n            return s.split(\".\");\r\n        else if (s.indexOf(\"-\") >= 0)\r\n            return s.split(\"-\");\r\n        else if (s.indexOf(\"\\\\\") >= 0)\r\n            return s.split(\"\\\\\");\r\n        else\r\n            return [s];\r\n    }\r\n}","\r\nnamespace Q {\r\n\r\n    export function text(key: string): string {\r\n        let t = LT.$table[key];\r\n        if (t == null) {\r\n            t = key || '';\r\n        }\r\n        return t;\r\n    }\r\n\r\n    export function dbText(prefix: string): ((key: string) => string) {\r\n        return function (key: string) {\r\n            return text(\"Db.\" + prefix + \".\" + key);\r\n        }\r\n    }\r\n\r\n    export function prefixedText(prefix: string) {\r\n\r\n        return function (text: string, key: string | ((p?: string) => string)) {\r\n\r\n            if (text != null && !Q.startsWith(text, '`')) {\r\n                var local = Q.tryGetText(text);\r\n                if (local != null) {\r\n                    return local;\r\n                }\r\n            }\r\n\r\n            if (text != null && Q.startsWith(text, '`')) {\r\n                text = text.substr(1);\r\n            }\r\n\r\n            if (!Q.isEmptyOrNull(prefix)) {\r\n                var textKey = typeof (key) == \"function\" ? key(prefix) : (prefix + key);\r\n                var localText = Q.tryGetText(textKey);\r\n                if (localText != null) {\r\n                    return localText;\r\n                }\r\n            }\r\n\r\n            return text;\r\n        }\r\n    }\r\n\r\n    export function tryGetText(key: string): string {\r\n        return LT.$table[key];\r\n    }\r\n\r\n    export function dbTryText(prefix: string): ((key: string) => string) {\r\n        return function (key: string) {\r\n            return text(\"Db.\" + prefix + \".\" + key);\r\n        }\r\n    }\r\n\r\n    export function proxyTexts(o: Object, p: string, t: Object): Object {\r\n        if (typeof window != 'undefined' && window['Proxy']) {\r\n            return new window['Proxy'](o, {\r\n                get: (x: Object, y: string) => {\r\n                    var tv = t[y];\r\n                    if (tv == null)\r\n                        return;\r\n                    if (typeof tv == 'number')\r\n                        return Q.text(p + y);\r\n                    else {\r\n                        var z = o[y];\r\n                        if (z != null)\r\n                            return z;\r\n                        o[y] = z = proxyTexts({}, p + y + '.', tv);\r\n                        return z;\r\n                    }\r\n                },\r\n                ownKeys: (x: Object) => Object.keys(t)\r\n            });\r\n        }\r\n        else {\r\n            for (var k of Object.keys(t)) {\r\n                if (typeof t[k] == 'number')\r\n                    Object.defineProperty(o, k, {\r\n                        get: () => Q.text(p + k)\r\n                    });\r\n                else\r\n                    o[k] = proxyTexts({}, p + k + '.', t[k]);\r\n            }\r\n            return o;\r\n        }\r\n    }\r\n\r\n    export class LT {\r\n        static $table: { [key: string]: string } = {};\r\n        static empty: LT = new LT('');\r\n\r\n        constructor(private key: string) {\r\n        }\r\n\r\n        static add(obj: any, pre?: string) {\r\n            if (!obj) {\r\n                return;\r\n            }\r\n            pre = pre || '';\r\n            for (let k of Object.keys(obj)) {\r\n                let actual = pre + k;\r\n                let o = obj[k];\r\n                if (typeof (o) === 'object') {\r\n                    LT.add(o, actual + '.');\r\n                }\r\n                else {\r\n                    LT.$table[actual] = o;\r\n                }\r\n            }\r\n        }\r\n\r\n        get() {\r\n            var t = LT.$table[this.key];\r\n            if (t == null) {\r\n                t = this.key || '';\r\n            }\r\n            return t;\r\n        }\r\n\r\n        toString() {\r\n            var t = LT.$table[this.key];\r\n            if (t == null) {\r\n                t = this.key || '';\r\n            }\r\n            return t;\r\n        }\r\n\r\n        static initializeTextClass = function (type: any, prefix: string) {\r\n            var $t1 = Object.keys(type).slice();\r\n            for (var $t2 = 0; $t2 < $t1.length; $t2++) {\r\n                var member = $t1[$t2];\r\n                var value = type[member];\r\n                if (value instanceof LT) {\r\n                    var lt = value;\r\n                    var key = prefix + member;\r\n                    LT.$table[key] = lt.key;\r\n                    type[member] = new LT(key);\r\n                }\r\n            }\r\n        }\r\n\r\n        static getDefault = function (key: string, defaultText: string) {\r\n            var t = LT.$table[key];\r\n            if (t == null) {\r\n                t = defaultText;\r\n                if (t == null) {\r\n                    t = key || '';\r\n                }\r\n            }\r\n            return t;\r\n        }\r\n    }\r\n}","namespace Q {\r\n\r\n    export interface LookupOptions<TItem> {\r\n        idField?: string;\r\n        parentIdField?: string;\r\n        textField?: string;\r\n        textFormatter?(item: TItem): string;\r\n    }\r\n\r\n    export class Lookup<TItem> {\r\n        public items: TItem[] = [];\r\n        public itemById: { [key: string]: TItem } = {};\r\n        public idField: string;\r\n        public parentIdField: string;\r\n        public textField: string;\r\n        public textFormatter: (item: TItem) => string;\r\n\r\n        constructor(options: LookupOptions<TItem>, items?: TItem[]) {\r\n            options = options || {};\r\n            this.textFormatter = options.textFormatter;\r\n            this.idField = options.idField;\r\n            this.parentIdField = options.parentIdField;\r\n            this.textField = options.textField;\r\n            this.textFormatter = options.textFormatter;\r\n\r\n            if (items != null)\r\n                this.update(items);\r\n        }\r\n\r\n        update(value: TItem[]) {\r\n            this.items = [];\r\n            this.itemById = {};\r\n            if (value) {\r\n                for (var k of value)\r\n                    this.items.push(k);\r\n            }\r\n            var idField = this.idField;\r\n            if (!Q.isEmptyOrNull(idField)) {\r\n                for (var r of this.items) {\r\n                    var v = r[idField];\r\n                    if (v != null) {\r\n                        this.itemById[v] = r;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        protected get_idField() {\r\n            return this.idField;\r\n        }\r\n\r\n        protected get_parentIdField() {\r\n            return this.parentIdField;\r\n        }\r\n\r\n        protected get_textField() {\r\n            return this.textField;\r\n        }\r\n\r\n        protected get_textFormatter() {\r\n            return this.textFormatter;\r\n        }\r\n\r\n        protected get_itemById() {\r\n            return this.itemById;\r\n        }\r\n\r\n        protected get_items() {\r\n            return this.items;\r\n        }\r\n    }\r\n}","\r\nnamespace Q {\r\n    let blockUICount: number = 0;\r\n\r\n    function blockUIWithCheck(opt: JQBlockUIOptions) {\r\n        if (blockUICount > 0) {\r\n            blockUICount++;\r\n            return;\r\n        }\r\n\r\n        $.blockUI(opt);\r\n        blockUICount++;\r\n    }\r\n\r\n    /**\r\n     * Uses jQuery BlockUI plugin to block access to whole page (default) or \r\n     * a part of it, by using a transparent overlay covering the whole area.\r\n     * @param options Parameters for the BlockUI plugin\r\n     * @remarks If options are not specified, this function blocks \r\n     * whole page with a transparent overlay. Default z-order of the overlay\r\n     * div is 2000, so a higher z-order shouldn't be used in page.\r\n     */\r\n    export function blockUI(options: JQBlockUIOptions) {\r\n        options = $.extend<JQBlockUIOptions>({\r\n            baseZ: 2000,\r\n            message: '',\r\n            overlayCSS: {\r\n                opacity: '0.0',\r\n                zIndex: 2000,\r\n                cursor: 'wait'\r\n            }, fadeOut: 0\r\n        }, options);\r\n\r\n        if (options.useTimeout) {\r\n            window.setTimeout(function () {\r\n                blockUIWithCheck(options);\r\n            }, 0);\r\n        }\r\n        else {\r\n            blockUIWithCheck(options);\r\n        }\r\n    }\r\n\r\n    export function blockUndo() {\r\n        if (blockUICount > 1) {\r\n            blockUICount--;\r\n            return;\r\n        }\r\n\r\n        blockUICount--;\r\n        $.unblockUI({ fadeOut: 0 });\r\n    }\r\n}","namespace Q {\r\n\r\n    export function addOption(select: JQuery, key: string, text: string) {\r\n        $('<option/>').val(key).text(text).appendTo(select);\r\n    }\r\n\r\n    export function addEmptyOption(select: JQuery) {\r\n        addOption(select, '', text(\"Controls.SelectEditor.EmptyItemText\"));\r\n    }\r\n\r\n    export function clearOptions(select: JQuery) {\r\n        select.html('');\r\n    }\r\n\r\n    export function findElementWithRelativeId(element: JQuery, relativeId: string) {\r\n        let elementId = element.attr('id');\r\n        if (isEmptyOrNull(elementId)) {\r\n            return $('#' + relativeId);\r\n        }\r\n\r\n        let result = $('#' + elementId + relativeId);\r\n        if (result.length > 0) {\r\n            return result;\r\n        }\r\n\r\n        result = $('#' + elementId + '_' + relativeId);\r\n\r\n        if (result.length > 0) {\r\n            return result;\r\n        }\r\n\r\n        while (true) {\r\n            let idx = elementId.lastIndexOf('_');\r\n            if (idx <= 0) {\r\n                return $('#' + relativeId);\r\n            }\r\n\r\n            elementId = elementId.substr(0, idx);\r\n            result = $('#' + elementId + '_' + relativeId);\r\n\r\n            if (result.length > 0) {\r\n                return result;\r\n            }\r\n        }\r\n    }\r\n\r\n    function attrEncoder(a: string): string {\r\n        switch (a) {\r\n            case '&': return '&amp;';\r\n            case '>': return '&gt;';\r\n            case '<': return '&lt;';\r\n            case '\\'': return '&apos;'\r\n            case '\\\"': return '&quot;'\r\n        }\r\n        return a;\r\n    }\r\n\r\n    const attrRegex = /[><&'\"]/g;\r\n\r\n    /**\r\n     * Html attribute encodes a string (encodes quotes in addition to &, > and <)\r\n     * @param s String to be HTML attribute encoded\r\n     */\r\n    export function attrEncode(s: any): string {\r\n        let text = (s == null ? '' : s.toString());\r\n        if (attrRegex.test(text)) {\r\n            return text.replace(attrRegex, attrEncoder);\r\n        }\r\n        return text;\r\n    }\r\n\r\n    function htmlEncoder(a: string): string {\r\n        switch (a) {\r\n            case '&': return '&amp;';\r\n            case '>': return '&gt;';\r\n            case '<': return '&lt;';\r\n        }\r\n        return a;\r\n    }\r\n\r\n    /**\r\n     * Html encodes a string\r\n     * @param s String to be HTML encoded\r\n     */\r\n    export function htmlEncode(s: any): string {\r\n        let text = (s == null ? '' : s.toString());\r\n        if ((new RegExp('[><&]', 'g')).test(text)) {\r\n            return text.replace(new RegExp('[><&]', 'g'), htmlEncoder);\r\n        }\r\n        return text;\r\n    }\r\n\r\n    export function jsRender(markup: string, data?: any) {\r\n        if (!markup || markup.indexOf('{{') < 0) {\r\n            return markup;\r\n        }\r\n\r\n        if (!($ as any).templates || !($ as any).views) {\r\n            throw new Q.Exception('Please make sure that jsrender.js is included in the page!');\r\n        }\r\n\r\n        data = data || {};\r\n        var template = ($ as any).templates(markup);\r\n        ($ as any).views.converters({\r\n            text: Q.text\r\n        }, template);\r\n\r\n        return template.render(data);\r\n    }\r\n\r\n    export function log(m: any) {\r\n        (<any>window).console && (<any>window).console.log(m);\r\n    }\r\n\r\n    export function newBodyDiv(): JQuery {\r\n        return $('<div/>').appendTo(document.body);\r\n    }\r\n\r\n    export function outerHtml(element: JQuery) {\r\n        return $('<i/>').append(element.eq(0).clone()).html();\r\n    }\r\n}\r\n","\r\nnamespace Q {\r\n    export interface CommonDialogOptions extends JQueryUI.DialogOptions {\r\n        onOpen?: () => void;\r\n        onClose?: () => void;\r\n        htmlEncode?: boolean;\r\n        dialogClass?: string;\r\n        title?: string;\r\n    }\r\n\r\n    export interface AlertOptions extends CommonDialogOptions {\r\n        okButton?: string;\r\n    }\r\n\r\n    export function alert(message: string, options?: AlertOptions) {\r\n        let dialog: JQuery;\r\n        options = <Q.AlertOptions>$.extend({\r\n            htmlEncode: true,\r\n            okButton: text('Dialogs.OkButton'),\r\n            title: text('Dialogs.AlertTitle'),\r\n            onClose: null,\r\n            onOpen: null,\r\n            autoOpen: false,\r\n            dialogClass: 's-MessageDialog s-AlertDialog',\r\n            modal: true,\r\n            width: '40%',\r\n            maxWidth: '450',\r\n            minWidth: '180',\r\n            resizable: false,\r\n            open: function () {\r\n                if (options.onOpen)\r\n                    options.onOpen.call(this);\r\n            },\r\n            close: function () {\r\n                dialog.dialog('destroy');\r\n                if (options.onClose)\r\n                    options.onClose();\r\n            }\r\n        }, options);\r\n\r\n        if (options.htmlEncode)\r\n            message = htmlEncode(message);\r\n        if (!options.buttons) {\r\n            let buttons: any[] = [];\r\n            buttons.push({\r\n                text: options.okButton,\r\n                click: function () {\r\n                    dialog.dialog('close');\r\n                }\r\n            });\r\n            options.buttons = buttons;\r\n        }\r\n        dialog = $('<div><div class=\"message\"><\\/div><\\/div>')\r\n            .dialog(options)\r\n            .children('.message')\r\n            .html(message)\r\n            .parent()\r\n            .dialog('open');\r\n    }\r\n\r\n    export interface ConfirmOptions extends CommonDialogOptions {\r\n        yesButton?: string;\r\n        noButton?: string;\r\n        cancelButton?: string;\r\n        onCancel?: () => void;\r\n        onNo?: () => void;\r\n    }\r\n\r\n    export function confirm(message: string, onYes: () => void, options?: ConfirmOptions): void {\r\n        let dialog: JQuery;\r\n        options = $.extend({\r\n            htmlEncode: true,\r\n            yesButton: text('Dialogs.YesButton'),\r\n            noButton: text('Dialogs.NoButton'),\r\n            title: text('Dialogs.ConfirmationTitle'),\r\n            onNo: null,\r\n            onCancel: null,\r\n            onClose: null,\r\n            autoOpen: false,\r\n            modal: true,\r\n            dialogClass: 's-MessageDialog s-ConfirmDialog',\r\n            width: '40%',\r\n            maxWidth: '450',\r\n            minWidth: '180',\r\n            resizable: false,\r\n            open: function () {\r\n                if (options.onOpen)\r\n                    options.onOpen.call(this);\r\n            },\r\n            close: function () {\r\n                dialog.dialog('destroy');\r\n                if (!clicked && options.onCancel)\r\n                    options.onCancel();\r\n            },\r\n            overlay: {\r\n                opacity: 0.77,\r\n                background: \"black\"\r\n            }\r\n        }, options);\r\n        if (options.htmlEncode)\r\n            message = htmlEncode(message);\r\n        let clicked = false;\r\n        if (!options.buttons) {\r\n            let buttons: any[] = [];\r\n            buttons.push({\r\n                text: options.yesButton,\r\n                click: function () {\r\n                    clicked = true;\r\n                    dialog.dialog('close');\r\n                    if (onYes)\r\n                        onYes();\r\n                }\r\n            });\r\n            if (options.noButton)\r\n                buttons.push({\r\n                    text: options.noButton,\r\n                    click: function () {\r\n                        clicked = true;\r\n                        dialog.dialog('close');\r\n                        if (options.onNo)\r\n                            options.onNo();\r\n                        else if (options.onCancel)\r\n                            options.onCancel();\r\n                    }\r\n                });\r\n            options.buttons = buttons;\r\n        }\r\n        dialog = $('<div><div class=\"message\"><\\/div><\\/div>')\r\n            .dialog(options)\r\n            .children('.message')\r\n            .html(message)\r\n            .parent()\r\n            .dialog('open');\r\n    }\r\n\r\n    export interface IFrameDialogOptions {\r\n        html?: string;\r\n    }\r\n\r\n    export function iframeDialog(options: IFrameDialogOptions) {\r\n        let doc: any;\r\n        let e = $('<div style=\"overflow: hidden\"><iframe></iframe></div>');\r\n        let settings: IFrameDialogOptions = $.extend(<JQueryUI.DialogOptions>{\r\n            autoOpen: true,\r\n            modal: true,\r\n            width: '60%',\r\n            height: '400',\r\n            title: text('Dialogs.AlertTitle'),\r\n            open: function () {\r\n                doc = (<HTMLIFrameElement>(e.find('iframe').css({\r\n                    border: 'none',\r\n                    width: '100%',\r\n                    height: '100%'\r\n                })[0])).contentDocument;\r\n                doc.open();\r\n                doc.write(settings.html);\r\n                doc.close();\r\n            },\r\n            close: function () {\r\n                doc.open();\r\n                doc.write('');\r\n                doc.close();\r\n                e.dialog('destroy').html('');\r\n            }\r\n        }, options);\r\n        e.dialog(settings as any);\r\n    }\r\n\r\n    export function information(message: string, onOk: () => void, options?: Q.ConfirmOptions) {\r\n        confirm(message, onOk, $.extend<Q.ConfirmOptions>(\r\n            {\r\n                title: text(\"Dialogs.InformationTitle\"),\r\n                dialogClass: \"s-MessageDialog s-InformationDialog\",\r\n                yesButton: text(\"Dialogs.OkButton\"),\r\n                noButton: null,\r\n            }, options));\r\n    }\r\n\r\n    export function warning(message: string, options?: Q.AlertOptions) {\r\n        alert(message, $.extend<Q.AlertOptions>(\r\n            {\r\n                title: text(\"Dialogs.WarningTitle\"),\r\n                dialogClass: \"s-MessageDialog s-WarningDialog\"\r\n            }, options));\r\n    }\r\n}\r\n","\r\nnamespace Q {\r\n    export let defaultNotifyOptions: ToastrOptions = {\r\n        timeOut: 3000,\r\n        showDuration: 250,\r\n        hideDuration: 500,\r\n        extendedTimeOut: 500,\r\n        positionClass: 'toast-top-full-width'\r\n    }\r\n\r\n    function getToastrOptions(options: ToastrOptions) {\r\n        options = $.extend<ToastrOptions>({}, defaultNotifyOptions, options);\r\n        positionToastContainer(true);\r\n        return options;\r\n    }\r\n\r\n    export function notifyWarning(message: string, title?: string, options?: ToastrOptions): void {\r\n        toastr.warning(message, title, getToastrOptions(options));\r\n    }\r\n\r\n    export function notifySuccess(message: string, title?: string, options?: ToastrOptions): void {\r\n        toastr.success(message, title, getToastrOptions(options));\r\n    }\r\n\r\n    export function notifyInfo(message: string, title?: string, options?: ToastrOptions): void {\r\n        toastr.info(message, title, getToastrOptions(options));\r\n    }\r\n\r\n    export function notifyError(message: string, title?: string, options?: ToastrOptions): void {\r\n        toastr.error(message, title, getToastrOptions(options));\r\n    }\r\n\r\n    export function positionToastContainer(create: boolean) {\r\n        if (typeof toastr === 'undefined') {\r\n            return;\r\n        }\r\n\r\n        var dialog = $(window.document.body).children('.ui-dialog:visible').last();\r\n        var container = toastr.getContainer(null, create);\r\n        if (container.length === 0) {\r\n            return;\r\n        }\r\n        if (dialog.length > 0) {\r\n            var position = dialog.position();\r\n            container.addClass('positioned-toast toast-top-full-width');\r\n            container.css({ position: 'absolute', top: position.top + 28 + 'px', left: position.left + 6 + 'px', width: dialog.width() - 12 + 'px' });\r\n        }\r\n        else {\r\n            container.addClass('toast-top-full-width');\r\n            if (container.hasClass('positioned-toast')) {\r\n                container.removeClass('positioned-toast');\r\n                container.css({ position: '', top: '', left: '', width: '' });\r\n            }\r\n        }\r\n    }\r\n}\r\n","\r\nnamespace Q {\r\n\r\n    export namespace ErrorHandling {\r\n\r\n        export function showServiceError(error: Serenity.ServiceError) {\r\n            let msg: any;\r\n            if (error == null) {\r\n                msg = '??ERROR??';\r\n            }\r\n            else {\r\n                msg = error.Message;\r\n                if (msg == null) {\r\n                    msg = error.Code;\r\n                }\r\n            }\r\n\r\n            Q.alert(msg);\r\n        }\r\n\r\n        export function runtimeErrorHandler(message: string, filename?: string,\r\n            lineno?: number, colno?: number, error?: Error) {\r\n            try {\r\n                var host = (window.location.host || \"\").toLowerCase();\r\n                if (host.indexOf(\"localhost\") < 0 &&\r\n                    host.indexOf(\"127.0.0.1\") < 0)\r\n                    return;\r\n\r\n                if (!window['toastr'])\r\n                    return;\r\n\r\n                var errorInfo = JSON.stringify(error || {});\r\n\r\n                message =\r\n                    '<p></p><p>Message: ' + Q.htmlEncode(message) +\r\n                    '</p><p>File: ' + Q.htmlEncode(filename) +\r\n                    ', Line: ' + lineno + ', Column: ' + colno +\r\n                    (errorInfo != \"{}\" ? '</p><p>Error: ' : \"\") + '</p>';\r\n\r\n                window.setTimeout(function () {\r\n                    try {\r\n                        Q.notifyError(message, \"SCRIPT ERROR! See browser console (F12) for details.\", {\r\n                            escapeHtml: false,\r\n                            timeOut: 15000\r\n                        });\r\n                    }\r\n                    catch {\r\n                    }\r\n                });\r\n            }\r\n            catch {\r\n            }\r\n        }\r\n    }\r\n}","namespace Q {\r\n    export namespace Config {\r\n        /**\r\n         * This is the root path of your application. If your application resides under http://localhost/mysite/,\r\n         * your root path is \"mysite/\". This variable is automatically initialized by reading from a <link> element\r\n         * with ID \"ApplicationPath\" from current page, which is usually located in your _LayoutHead.cshtml file\r\n         */\r\n        export let applicationPath = '/';\r\n\r\n        var pathLink = $('link#ApplicationPath');\r\n        if (pathLink.length > 0) {\r\n            applicationPath = pathLink.attr('href');\r\n        }\r\n\r\n        /**\r\n         * Email validation by default only allows ASCII characters. Set this to true if you want to allow unicode.\r\n         */\r\n        export let emailAllowOnlyAscii = true;\r\n\r\n        /**\r\n         * Set this to true, to enable responsive dialogs by default, without having to add Serenity.Decorators.responsive()\"\r\n         * on dialog classes manually. It's false by default for backward compability.\r\n         */\r\n        export let responsiveDialogs = false;\r\n\r\n        /**\r\n         * This is the list of root namespaces that may be searched for types. For example, if you specify an editor type\r\n         * of \"MyEditor\", first a class with name \"MyEditor\" will be searched, if not found, search will be followed by\r\n         * \"Serenity.MyEditor\" and \"MyApp.MyEditor\" if you added \"MyApp\" to the list of root namespaces.\r\n         *\r\n         * You should usually add your application root namespace to this list in ScriptInitialization.ts file.\r\n         */\r\n        export let rootNamespaces = ['Serenity'];\r\n\r\n        /**\r\n         * This is an optional method for handling when user is not logged in. If a users session is expired \r\n         * and when a NotAuthorized response is received from a service call, Serenity will call this handler, so\r\n         * you may intercept it and notify user about this situation and ask if she wants to login again...\r\n         */\r\n        export let notLoggedInHandler: Function = null;\r\n    }\r\n}","\r\nnamespace Q {\r\n\r\n    export function getCookie(name: string) {\r\n        if ($.cookie)\r\n            return $.cookie(name);\r\n\r\n        name += '=';\r\n        for (var ca = document.cookie.split(/;\\s*/), i = ca.length - 1; i >= 0; i--)\r\n            if (!ca[i].indexOf(name))\r\n                return ca[i].replace(name, '');\r\n    }\r\n\r\n    $.ajaxSetup({\r\n        beforeSend: function (xhr) {\r\n            var token = Q.getCookie('CSRF-TOKEN');\r\n            if (token)\r\n                xhr.setRequestHeader('X-CSRF-TOKEN', token);\r\n        }\r\n    });\r\n\r\n    export interface ServiceOptions<TResponse extends Serenity.ServiceResponse> extends JQueryAjaxSettings {\r\n        request?: any;\r\n        service?: string;\r\n        blockUI?: boolean;\r\n        onError?(response: TResponse): void;\r\n        onSuccess?(response: TResponse): void;\r\n        onCleanup?(): void;\r\n    }\r\n\r\n    export function serviceCall<TResponse>(options: Q.ServiceOptions<TResponse>) {\r\n        let handleError = function (response: any) {\r\n            if (Config.notLoggedInHandler != null &&\r\n                response &&\r\n                response.Error &&\r\n                response.Error.Code == 'NotLoggedIn' &&\r\n                Config.notLoggedInHandler(options, response)) {\r\n                return;\r\n            }\r\n\r\n            if (options.onError != null) {\r\n                options.onError(response);\r\n                return;\r\n            }\r\n\r\n            ErrorHandling.showServiceError(response.Error);\r\n        };\r\n\r\n        var url = options.service;\r\n        if (url && url.length && url.charAt(0) != '~' && url.charAt(0) != '/' && url.indexOf('://') < 0)\r\n            url = resolveUrl(\"~/services/\") + url;\r\n\r\n        options = $.extend<Q.ServiceOptions<TResponse>>({\r\n            dataType: 'json',\r\n            contentType: 'application/json',\r\n            type: 'POST',\r\n            cache: false,\r\n            blockUI: true,\r\n            url: url,\r\n            data: $.toJSON(options.request),\r\n            success: function (data, textStatus, request) {\r\n                try {\r\n                    if (!data.Error && options.onSuccess) {\r\n                        options.onSuccess(data);\r\n                    }\r\n                }\r\n                finally {\r\n                    if (options.blockUI) {\r\n                        blockUndo();\r\n                    }\r\n                    options.onCleanup && options.onCleanup();\r\n                }\r\n            },\r\n            error: function (xhr, status, ev) {\r\n                try {\r\n                    if (xhr.status === 403) {\r\n                        var l: any = null;\r\n                        try {\r\n                            l = xhr.getResponseHeader('Location');\r\n                        }\r\n                        catch ($t1) {\r\n                            l = null;\r\n                        }\r\n                        if (l) {\r\n                            window.top.location.href = l;\r\n                            return;\r\n                        }\r\n                    }\r\n                    if ((xhr.getResponseHeader('content-type') || '')\r\n                        .toLowerCase().indexOf('application/json') >= 0) {\r\n                        var json = $.parseJSON(xhr.responseText);\r\n                        if (json && json.Error) {\r\n                            handleError(json);\r\n                            return;\r\n                        }\r\n                    }\r\n                    var html = xhr.responseText;\r\n                    if (!html) {\r\n                        if (!xhr.status) {\r\n                            if (xhr.statusText != \"abort\")\r\n                                Q.alert(\"An unknown AJAX connection error occurred! Check browser console for details.\");\r\n                        }\r\n                        else if (xhr.status == 500)\r\n                            Q.alert(\"HTTP 500: Connection refused! Check browser console for details.\");\r\n                        else\r\n                            Q.alert(\"HTTP \" + xhr.status + ' error! Check browser console for details.');\r\n                    }\r\n                    else\r\n                        iframeDialog({ html: html });\r\n                }\r\n                finally {\r\n                    if (options.blockUI) {\r\n                        blockUndo();\r\n                    }\r\n                    options.onCleanup && options.onCleanup();\r\n                }\r\n            }\r\n        }, options);\r\n\r\n        if (options.blockUI) {\r\n            blockUI(null);\r\n        }\r\n\r\n        return $.ajax(options);\r\n    }\r\n\r\n    export function serviceRequest<TResponse>(service: string, request?: any,\r\n        onSuccess?: (response: TResponse) => void, options?: Q.ServiceOptions<TResponse>) {\r\n        return serviceCall($.extend<Q.ServiceOptions<TResponse>>({\r\n            service: service,\r\n            request: request,\r\n            onSuccess: onSuccess\r\n        }, options));\r\n    }\r\n\r\n    export function setEquality(request: Serenity.ListRequest, field: string, value: any) {\r\n        if (request.EqualityFilter == null) {\r\n            request.EqualityFilter = {};\r\n        }\r\n        request.EqualityFilter[field] = value;\r\n    }\r\n\r\n    export interface PostToServiceOptions {\r\n        url?: string;\r\n        service?: string;\r\n        target?: string;\r\n        request: any;\r\n    }\r\n\r\n    export interface PostToUrlOptions {\r\n        url?: string;\r\n        target?: string;\r\n        params: any;\r\n    }\r\n\r\n    export function parseQueryString(s?: string): {} {\r\n        let qs: string;\r\n        if (s === undefined)\r\n            qs = location.search.substring(1, location.search.length);\r\n        else\r\n            qs = s || '';\r\n        let result = {};\r\n        let parts = qs.split('&');\r\n        for (let i = 0; i < parts.length; i++) {\r\n            let pair = parts[i].split('=');\r\n            let name = decodeURIComponent(pair[0]);\r\n            result[name] = (pair.length >= 2 ? decodeURIComponent(pair[1]) : name);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    export function postToService(options: Q.PostToServiceOptions) {\r\n        let form = $('<form/>')\r\n            .attr('method', 'POST')\r\n            .attr('action', options.url ? (resolveUrl(options.url)) : resolveUrl('~/services/' + options.service))\r\n            .appendTo(document.body);\r\n        if (options.target)\r\n            form.attr('target', options.target);\r\n        let div = $('<div/>').appendTo(form);\r\n        $('<input/>').attr('type', 'hidden').attr('name', 'request')\r\n            .val($['toJSON'](options.request))\r\n            .appendTo(div);\r\n        var csrfToken = Q.getCookie('CSRF-TOKEN');\r\n        if (csrfToken) {\r\n            $('<input/>').attr('type', 'hidden').attr('name', '__RequestVerificationToken')\r\n                .appendTo(div).val(csrfToken);\r\n        }\r\n        $('<input/>').attr('type', 'submit')\r\n            .appendTo(div);\r\n        form.submit();\r\n        window.setTimeout(function () { form.remove(); }, 0);\r\n    }\r\n\r\n    export function postToUrl(options: Q.PostToUrlOptions) {\r\n        let form = $('<form/>')\r\n            .attr('method', 'POST')\r\n            .attr('action', resolveUrl(options.url))\r\n            .appendTo(document.body);\r\n        if (options.target)\r\n            form.attr('target', options.target);\r\n        let div = $('<div/>').appendTo(form);\r\n        if (options.params != null) {\r\n            for (let k in options.params) {\r\n                $('<input/>').attr('type', 'hidden').attr('name', k)\r\n                    .val(options.params[k])\r\n                    .appendTo(div);\r\n            }\r\n        }\r\n        var csrfToken = Q.getCookie('CSRF-TOKEN');\r\n        if (csrfToken) {\r\n            $('<input/>').attr('type', 'hidden').attr('name', '__RequestVerificationToken')\r\n                .appendTo(div).val(csrfToken);\r\n        }\r\n        $('<input/>').attr('type', 'submit')\r\n            .appendTo(div);\r\n        form.submit();\r\n        window.setTimeout(function () { form.remove(); }, 0);\r\n    }\r\n\r\n    export function resolveUrl(url: string) {\r\n        if (url && url.substr(0, 2) === '~/') {\r\n            return Config.applicationPath + url.substr(2);\r\n        }\r\n\r\n        return url;\r\n    }\r\n}\r\n\r\nnamespace Serenity {\r\n    export type ServiceOptions<TResponse extends ServiceResponse> = Q.ServiceOptions<TResponse>;\r\n}","\r\nnamespace Q {\r\n\r\n    export namespace ScriptData {\r\n        let registered: { [key: string]: any } = {};\r\n        let loadedData: { [key: string]: any } = {};\r\n\r\n        export function bindToChange(name: string, regClass: string, onChange: () => void) {\r\n            ($(document.body) as any).bind('scriptdatachange.' + regClass, function (e: any, s: string) {\r\n                if (s == name) {\r\n                    onChange();\r\n                }\r\n            });\r\n        }\r\n\r\n        export function triggerChange(name: string) {\r\n            $(document.body).triggerHandler('scriptdatachange', [name]);\r\n        }\r\n\r\n        export function unbindFromChange(regClass: string) {\r\n            $(document.body).unbind('scriptdatachange.' + regClass);\r\n        }\r\n\r\n        function loadOptions(name: string, async: boolean): JQueryAjaxSettings {\r\n            return {\r\n                async: async,\r\n                cache: true,\r\n                type: 'GET',\r\n                url: Q.resolveUrl('~/DynJS.axd/') + name + '.js?' + registered[name],\r\n                data: null,\r\n                dataType: 'text',\r\n                converters: {\r\n                    \"text script\": function (text: string) {\r\n                        return text;\r\n                    }\r\n                },\r\n                success: function (data, textStatus, jqXHR) {\r\n                    $.globalEval(data);\r\n                },\r\n                error: function (xhr, textStatus, errorThrown) {\r\n                    var isLookup = Q.startsWith(name, \"Lookup.\");\r\n                    if (xhr.status == 403 && isLookup) {\r\n                        Q.notifyError('<p>Access denied while trying to load the lookup: \"<b>' +\r\n                            name.substr(7) + '</b>\". Please check if current user has required permissions for this lookup.</p> ' +\r\n                            '<p><em>Lookups use the ReadPermission of their row by default. You may override that for the lookup ' +\r\n                            'like [LookupScript(\"Some.Lookup\", Permission = \"?\")] to grant all ' +\r\n                            'authenticated users to read it (or use \"*\" for public).</em></p>' + \r\n                            '<p><em>Note that this might be a security risk if the lookup contains sensitive data, ' +\r\n                            'so it could be better to set a separate permission for lookups, like \"MyModule:Lookups\".</em></p>', null, {\r\n                                timeOut: 10000,\r\n                                escapeHtml: false\r\n                            });\r\n                        return;\r\n                    }\r\n\r\n                    Q.notifyError(\"An error occurred while trying to load \" +\r\n                        (isLookup ? ' the lookup: \"' + name.substr(7) :\r\n                            ' dynamic script: \"' + name) +\r\n                        '\"!. Please check the error message displayed in the dialog below for more info.');\r\n\r\n                    var html = xhr.responseText;\r\n                    if (!html) {\r\n                        if (!xhr.status)\r\n                            Q.alert(\"An unknown connection error occurred! Check browser console for details.\");\r\n                        else if (xhr.status == 500)\r\n                            Q.alert(\"HTTP 500: Connection refused! Check browser console for details.\");\r\n                        else\r\n                            Q.alert(\"HTTP \" + xhr.status + ' error! Check browser console for details.');\r\n                    }\r\n                    else\r\n                        Q.iframeDialog({ html: html });\r\n                }\r\n            }\r\n        }\r\n\r\n        function loadScriptAsync(name: string) {\r\n            return Promise.resolve().then(function () {\r\n                Q.blockUI(null);\r\n                return Promise.resolve(\r\n                    $.ajax(loadOptions(name, true))\r\n                        .always(function () {\r\n                            Q.blockUndo();\r\n                        }));\r\n            }, null);\r\n        }\r\n\r\n        function loadScriptData(name: string) {\r\n            if (registered[name] == null) {\r\n                throw new Error(Q.format('Script data {0} is not found in registered script list!', name));\r\n            }\r\n\r\n            $.ajax(loadOptions(name, false));\r\n        }\r\n\r\n        function loadScriptDataAsync(name: string): PromiseLike<any> {\r\n            return Promise.resolve().then(function () {\r\n                if (registered[name] == null) {\r\n                    throw new Error(Q.format('Script data {0} is not found in registered script list!', name));\r\n                }\r\n\r\n                return loadScriptAsync(name);\r\n            }, null);\r\n        }\r\n\r\n        export function ensure(name: string) {\r\n            var data = loadedData[name];\r\n            if (data == null) {\r\n                loadScriptData(name);\r\n            }\r\n\r\n            data = loadedData[name];\r\n\r\n            if (data == null)\r\n                throw new Error(Q.format(\"Can't load script data: {0}!\", name));\r\n\r\n            return data;\r\n        }\r\n\r\n        export function ensureAsync(name: string): PromiseLike<any> {\r\n            return Promise.resolve().then(function () {\r\n                var data = loadedData[name];\r\n                if (data != null) {\r\n                    return Promise.resolve(data);\r\n                }\r\n\r\n                return loadScriptDataAsync(name).then(function () {\r\n                    data = loadedData[name];\r\n                    if (data == null) {\r\n                        throw new Error(Q.format(\"Can't load script data: {0}!\", name));\r\n                    }\r\n                    return data;\r\n                }, null);\r\n            }, null);\r\n        }\r\n\r\n        export function reload(name: string) {\r\n            if (registered[name] == null) {\r\n                throw new Error(Q.format('Script data {0} is not found in registered script list!', name));\r\n            }\r\n            registered[name] = (new Date()).getTime().toString();\r\n            loadScriptData(name);\r\n            var data = loadedData[name];\r\n            return data;\r\n        }\r\n\r\n        export function reloadAsync(name: string) {\r\n            return Promise.resolve().then(function () {\r\n                if (registered[name] == null) {\r\n                    throw new Error(Q.format('Script data {0} is not found in registered script list!', name));\r\n                }\r\n                registered[name] = (new Date()).getTime().toString();\r\n                return loadScriptDataAsync(name).then(function () {\r\n                    return loadedData[name];\r\n                }, null);\r\n            }, null);\r\n        }\r\n\r\n        export function canLoad(name: string) {\r\n            return (loadedData[name] != null || registered[name] != null);\r\n        }\r\n\r\n        export function setRegisteredScripts(scripts: any[]) {\r\n            registered = {};\r\n            var t = new Date().getTime();\r\n            for (var k in scripts) {\r\n                registered[k] = scripts[k] || t;\r\n            }\r\n        }\r\n\r\n        export function set(name: string, value: any) {\r\n            loadedData[name] = value;\r\n            triggerChange(name);\r\n        }\r\n    }\r\n\r\n    export function getRemoteData(key: string) {\r\n        return ScriptData.ensure('RemoteData.' + key);\r\n    }\r\n\r\n    export function getRemoteDataAsync(key: string) {\r\n        return ScriptData.ensureAsync('RemoteData.' + key);\r\n    }\r\n\r\n    export function getLookup<TItem>(key: string): Lookup<TItem> {\r\n        var name = 'Lookup.' + key;\r\n        if (!ScriptData.canLoad(name)) {\r\n            var message = 'No lookup with key \"' + key + '\" is registered. Please make sure you have a' +\r\n                ' [LookupScript(\"' + key + '\")] attribute in server side code on top of a row / custom lookup and ' +\r\n                ' its key is exactly the same.';\r\n            Q.notifyError(message);\r\n            throw new Error(message);\r\n        }\r\n        return ScriptData.ensure('Lookup.' + key);\r\n    }\r\n\r\n    export function getLookupAsync<TItem>(key: string): PromiseLike<Lookup<TItem>> {\r\n        return ScriptData.ensureAsync('Lookup.' + key);\r\n    }\r\n\r\n    export function reloadLookup(key: string) {\r\n        ScriptData.reload('Lookup.' + key);\r\n    }\r\n\r\n    export function reloadLookupAsync(key: string) {\r\n        return ScriptData.reloadAsync('Lookup.' + key);\r\n    }\r\n\r\n    export function getColumns(key: string): Serenity.PropertyItem[] {\r\n        return ScriptData.ensure('Columns.' + key);\r\n    }\r\n\r\n    export function getColumnsAsync(key: string): PromiseLike<Serenity.PropertyItem[]> {\r\n        return ScriptData.ensureAsync('Columns.' + key);\r\n    }\r\n\r\n    export function getForm(key: string): Serenity.PropertyItem[] {\r\n        return ScriptData.ensure('Form.' + key);\r\n    }\r\n\r\n    export function getFormAsync(key: string): PromiseLike<Serenity.PropertyItem[]> {\r\n        return ScriptData.ensureAsync('Form.' + key);\r\n    }\r\n\r\n    export function getTemplate(key: string): string {\r\n        return ScriptData.ensure('Template.' + key);\r\n    }\r\n\r\n    export function getTemplateAsync(key: string): PromiseLike<string> {\r\n        return ScriptData.ensureAsync('Template.' + key);\r\n    }\r\n\r\n    export function canLoadScriptData(name: string): boolean {\r\n        return ScriptData.canLoad(name);\r\n    }\r\n}\r\n","namespace Q {\r\n    export namespace Authorization {\r\n        export function hasPermission(permission: string) {\r\n            if (permission == null)\r\n                return false;\r\n\r\n            if (permission == \"*\")\r\n                return true;\r\n\r\n            if (permission == \"\" || permission == \"?\")\r\n                return isLoggedIn;\r\n\r\n            var ud = Authorization.userDefinition;\r\n            if (ud && ud.IsAdmin)\r\n                return true;\r\n\r\n            if (ud && ud.Permissions) {\r\n                var p = ud.Permissions;\r\n                if (p[permission])\r\n                    return true;\r\n\r\n                var orParts = permission.split('|');\r\n                for (var r of orParts) {\r\n                    if (!r)\r\n                        continue;\r\n\r\n                    var andParts = r.split('&');\r\n                    if (!andParts.length)\r\n                        continue;\r\n\r\n                    let fail = false;\r\n                    for (var n of andParts) {\r\n                        if (!p[n]) {\r\n                            fail = true;\r\n                            break;\r\n                        }\r\n                    }\r\n\r\n                    if (!fail)\r\n                        return true;\r\n                }\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        export function validatePermission(permission: string) {\r\n            if (!hasPermission(permission)) {\r\n                Q.notifyError(Q.text(\"Authorization.AccessDenied\"));\r\n                throw new Error(Q.text(\"Authorization.AccessDenied\"));\r\n            }\r\n        }\r\n    }\r\n\r\n    export declare namespace Authorization {\r\n        export let isLoggedIn: boolean;\r\n        export let username: string;\r\n        export let userDefinition: Serenity.UserDefinition;\r\n    }\r\n\r\n    Object.defineProperty(Q.Authorization, \"userDefinition\", {\r\n        get: function () {\r\n            return Q.getRemoteData(\"UserData\");\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(Q.Authorization, \"isLoggedIn\", {\r\n        get: function () {\r\n            var ud = Authorization.userDefinition;\r\n            return ud && !!ud.Username;\r\n        }\r\n    });\r\n\r\n    Object.defineProperty(Q.Authorization, \"username\", {\r\n        get: function () {\r\n            var ud = Authorization.userDefinition;\r\n            if (ud)\r\n                return ud.Username;\r\n\r\n            return null;\r\n        }\r\n    });\r\n}\r\n\r\nnamespace Serenity {\r\n    export interface UserDefinition {\r\n        Username?: string;\r\n        DisplayName?: string;\r\n        IsAdmin?: boolean;\r\n        Permissions?: { [key: string]: boolean };\r\n    }\r\n}","namespace Serenity {\r\n\r\n    export function Criteria(field: string): any[] {\r\n        return [field];\r\n    }\r\n\r\n    export namespace Criteria {\r\n        import C = Criteria;\r\n\r\n        export function isEmpty(c: any[]): boolean {\r\n            return c == null ||\r\n                c.length === 0 ||\r\n                (c.length === 1 &&\r\n                    typeof c[0] == \"string\" &&\r\n                    c[0].length === 0);\r\n        }\r\n\r\n        export function join(c1: any[], op: string, c2: any[]): any[] {\r\n            if (C.isEmpty(c1))\r\n                return c2;\r\n\r\n            if (C.isEmpty(c2))\r\n                return c1;\r\n\r\n            return [c1, op, c2];\r\n        }\r\n\r\n        export function paren(c: any[]): any[] {\r\n            return C.isEmpty(c) ? c : ['()', c];\r\n        }\r\n\r\n        export function and(c1: any[], c2: any[], ...rest: any[][]): any[] {\r\n            var result = join(c1, 'and', c2);\r\n            if (rest) {\r\n                for (let k of rest)\r\n                    result = join(result, 'and', k);\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        export function or(c1: any[], c2: any[], ...rest: any[][]): any[] {\r\n            var result = join(c1, 'or', c2);\r\n\r\n            if (rest) {\r\n                for (let k of rest)\r\n                    result = join(result, 'or', k);\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n        export const enum Operator {\r\n            paren = \"()\",\r\n            not = \"not\",\r\n            isNull = \"is null\",\r\n            isNotNull = \"is not null\",\r\n            exists = \"exists\",\r\n            and = \"and\",\r\n            or = \"or\",\r\n            xor = \"xor\",\r\n            eq = \"=\",\r\n            ne = \"!=\",\r\n            gt = \">\",\r\n            ge = \">=\",\r\n            lt = \"<\",\r\n            le = \"<=\",\r\n            in = \"in\",\r\n            notIn = \"not in\",\r\n            like = \"like\",\r\n            notLike = \"not like\"\r\n        }\r\n    }\r\n}","namespace Serenity {\r\n\r\n    export namespace Decorators {\r\n        function distinct(arr: any[]) {\r\n            return arr.filter((item, pos) => arr.indexOf(item) === pos);\r\n        }\r\n\r\n        function merge(arr1: any[], arr2: any[]) {\r\n            if (!arr1 || !arr2)\r\n                return (arr1 || arr2 || []).slice();\r\n\r\n            return distinct(arr1.concat(arr2));\r\n        }\r\n\r\n        function registerType(target: any, name: string, intf: any[]) {\r\n            if (name != null) {\r\n                target.__typeName = name;\r\n                Q.types[name] = target;\r\n            }\r\n            else if (!target.__typeName)\r\n                target.__register = true;\r\n\r\n            if (intf)\r\n                target.__interfaces = merge(target.__interfaces, intf);\r\n        }\r\n\r\n        export function registerClass(nameOrIntf?: string | any[], intf2?: any[]) {\r\n            return function (target: Function) {\r\n                if (typeof nameOrIntf == \"string\")\r\n                    registerType(target, nameOrIntf, intf2);\r\n                else\r\n                    registerType(target, null, nameOrIntf);\r\n\r\n                (target as any).__class = true;\r\n            }\r\n        }\r\n\r\n        export function registerInterface(nameOrIntf?: string | any[], intf2?: any[]) {\r\n            return function (target: Function) {\r\n\r\n                if (typeof nameOrIntf == \"string\")\r\n                    registerType(target, nameOrIntf, intf2);\r\n                else\r\n                    registerType(target, null, nameOrIntf);\r\n\r\n                (target as any).__interface = true;\r\n                (target as any).isAssignableFrom = function (type: any) {\r\n                    return type.__interfaces != null && type.__interfaces.indexOf(this) >= 0;\r\n                };\r\n            }\r\n        }\r\n\r\n        export function addAttribute(type: any, attr: any) {\r\n            type.__metadata = type.__metadata || {};\r\n            type.__metadata.attr = type.__metadata.attr || [];\r\n            type.__metadata.attr.push(attr);\r\n        }\r\n    }\r\n\r\n    \r\n    @Decorators.registerInterface('Serenity.ISlickFormatter')\r\n    export class ISlickFormatter {\r\n    }\r\n\r\n    function Attr(name: string) {\r\n        return Decorators.registerClass('Serenity.' + name + 'Attribute')\r\n    }\r\n\r\n    export namespace Decorators {\r\n\r\n        export function enumKey(value: string) {\r\n            return function (target: Function) {\r\n                addAttribute(target, new EnumKeyAttribute(value));\r\n            }\r\n        }\r\n\r\n        export function registerEnum(target: any, enumKey?: string, name?: string) {\r\n            if (!target.__enum) {\r\n                Object.defineProperty(target, '__enum', {\r\n                    get: function () {\r\n                        return true;\r\n                    }\r\n                });\r\n\r\n                target.prototype = target.prototype || {};\r\n                for (var k of Object.keys(target))\r\n                    if (isNaN(Q.parseInteger(k)) && target[k] != null && !isNaN(Q.parseInteger(target[k])))\r\n                        target.prototype[k] = target[k];\r\n\r\n                if (name != null) {\r\n                    target.__typeName = name;\r\n                    Q.types[name] = target;\r\n                }\r\n                else if (!target.__typeName)\r\n                    target.__register = true;\r\n\r\n                if (enumKey)\r\n                    addAttribute(target, new EnumKeyAttribute(enumKey));\r\n            }\r\n        }\r\n\r\n        export function registerEnumType(target: any, name?: string, enumKey?: string) {\r\n            registerEnum(target, Q.coalesce(enumKey, name), name);\r\n        }\r\n    }\r\n    \r\n    @Attr('EnumKey')\r\n    export class EnumKeyAttribute {\r\n        constructor(public value: string) {\r\n        }\r\n    }\r\n}\r\n\r\n","namespace Serenity {\r\n    export type Constructor<T> = new (...args: any[]) => T;\r\n\r\n    export interface PropertyItem {\r\n        name?: string;\r\n        title?: string;\r\n        hint?: string;\r\n        placeholder?: string;\r\n        editorType?: string | React.ComponentType<any>;\r\n        editorParams?: any;\r\n        category?: string;\r\n        collapsible?: boolean;\r\n        collapsed?: boolean;\r\n        tab?: string;\r\n        cssClass?: string;\r\n        headerCssClass?: string;\r\n        formCssClass?: string;\r\n        maxLength?: number;\r\n        required?: boolean;\r\n        insertable?: boolean;\r\n        insertPermission?: string;\r\n        hideOnInsert?: boolean;\r\n        updatable?: boolean;\r\n        updatePermission?: string;\r\n        hideOnUpdate?: boolean;\r\n        readOnly?: boolean;\r\n        readPermission?: string;\r\n        oneWay?: boolean;\r\n        defaultValue?: any;\r\n        localizable?: boolean;\r\n        visible?: boolean;\r\n        allowHide?: boolean;\r\n        formatterType?: string;\r\n        formatterParams?: any;\r\n        displayFormat?: string;\r\n        alignment?: string;\r\n        width?: number;\r\n        widthSet?: boolean;\r\n        minWidth?: number;\r\n        maxWidth?: number;\r\n        labelWidth?: string;\r\n        resizable?: boolean;\r\n        sortable?: boolean;\r\n        sortOrder?: number;\r\n        groupOrder?: number;\r\n        summaryType?: SummaryType;\r\n        editLink?: boolean;\r\n        editLinkItemType?: string;\r\n        editLinkIdField?: string;\r\n        editLinkCssClass?: string;\r\n        filteringType?: string;\r\n        filteringParams?: any;\r\n        filteringIdField?: string;\r\n        notFilterable?: boolean;\r\n        filterOnly?: boolean;\r\n        quickFilter?: boolean;\r\n        quickFilterParams?: any;\r\n        quickFilterSeparator?: boolean;\r\n        quickFilterCssClass?: string;\r\n    }\r\n\r\n    export enum SummaryType {\r\n        Disabled = -1,\r\n        None = 0,\r\n        Sum = 1,\r\n        Avg = 2,\r\n        Min = 3,\r\n        Max = 4\r\n    }\r\n\r\n    Serenity.Decorators.registerEnum(SummaryType, \"Serenity.SummaryType\")\r\n}","if (globalObj != null) {\r\n\r\n\tfunction copyToGlobal(src: any, target: any) {\r\n\t\tfor (var n in src) {\r\n\t\t\tif (src.hasOwnProperty(n))\r\n\t\t\t\ttarget[n] = Q[n];\r\n\t\t}\r\n\t}\r\n\r\n\tglobalObj.ss ? copyToGlobal(Q, globalObj.ss) : globalObj.ss = Q;\r\n\tglobalObj.Q ? copyToGlobal(Q, globalObj.Q) : globalObj.Q = Q;\r\n\tglobalObj.Serenity ? copyToGlobal(Serenity, globalObj.Serenity) : globalObj.Serenity = Serenity;\r\n}\r\n\r\nnamespace Q {\r\n    function enumerateTypes(global: any, namespaces: string[], callback: (type: any, fullName: string) => void): void {\r\n        function scan(root: any, fullName: string, depth: number) {\r\n            if (!root)\r\n                return;\r\n\r\n            if ($.isArray(root) ||\r\n                root instanceof Date)\r\n                return;\r\n\r\n            var t = typeof (root);\r\n\r\n            if (t == \"string\" ||\r\n                t == \"number\")\r\n                return;\r\n\r\n            if ($.isFunction(root) || (root.__enum && root.__register))\r\n                callback(root, fullName);\r\n\r\n            if (depth > 3)\r\n                return;\r\n\r\n            for (var k of Object.keys(root)) {\r\n                if (k.charAt(0) < 'A' || k.charAt(0) > 'Z')\r\n                    continue;\r\n\r\n                if (k.indexOf('$') >= 0)\r\n                    continue;\r\n\r\n                if (k == \"prototype\")\r\n                    continue;\r\n\r\n                scan(root[k], fullName + '.' + k, depth + 1);\r\n            }\r\n        }\r\n\r\n        for (var nsRoot of namespaces) {\r\n            if (nsRoot == null || !nsRoot.length) {\r\n                continue;\r\n            }\r\n\r\n            if (nsRoot.indexOf('.') >= 0) {\r\n                let g = global;\r\n                let parts = nsRoot.split('.');\r\n                for (var p of parts) {\r\n                    if (!p.length)\r\n                        continue;\r\n\r\n                    g = g[p];\r\n                    if (!g)\r\n                        continue;\r\n                }\r\n                scan(g, nsRoot, 0);\r\n            }\r\n\r\n            scan(global[nsRoot], nsRoot, 0);\r\n        }\r\n    }\r\n\r\n    function initializeTypes() {\r\n        enumerateTypes(globalObj, Q.Config.rootNamespaces, function (obj, fullName) {\r\n            // probably Saltaralle class\r\n            if (obj.hasOwnProperty(\"__typeName\") &&\r\n                !obj.__register)\r\n                return;\r\n\r\n            if (!obj.__interfaces &&\r\n                obj.prototype.format &&\r\n                fullName.substr(-9) == \"Formatter\") {\r\n                obj.__class = true;\r\n                obj.__interfaces = [Serenity.ISlickFormatter]\r\n            }\r\n\r\n            if (!obj.__class) {\r\n                var baseType = Q.getBaseType(obj);\r\n                if (baseType && baseType.__class)\r\n                    obj.__class = true;\r\n            }\r\n\r\n            if (obj.__class || obj.__enum || obj.__interface) {\r\n                obj.__typeName = fullName;\r\n                Q.types[fullName] = obj;\r\n            }\r\n\r\n            delete obj.__register;\r\n        });\r\n    }\r\n\r\n    $(function () {\r\n        initializeTypes();\r\n    });\r\n}"]}