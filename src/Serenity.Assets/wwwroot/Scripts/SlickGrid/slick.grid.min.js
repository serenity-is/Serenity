var Slick=Slick||{};Slick._=(()=>{var K=Object.defineProperty;var ze=Object.getOwnPropertyDescriptor;var Ve=Object.getOwnPropertyNames;var We=Object.prototype.hasOwnProperty;var Qe=(a,e)=>{for(var t in e)K(a,t,{get:e[t],enumerable:!0})},je=(a,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Ve(e))!We.call(a,s)&&s!==t&&K(a,s,{get:()=>e[s],enumerable:!(i=ze(e,s))||i.enumerable});return a};var Oe=a=>je(K({},"__esModule",{value:!0}),a);var Be={};Qe(Be,{BasicLayout:()=>O,Grid:()=>se,gridDefaults:()=>Y});var{addClass:A,applyFormatterResultToCellNode:oe,columnDefaults:re,convertCompatFormatter:k,ensureUniqueColumnIds:Xe,escape:T,defaultColumnFormat:j,disableSelection:ne,EventEmitter:m,EventData:le,GlobalEditorLock:ae,initializeColumns:he,H:w,keyCode:Ue,NonDataRow:Ke,parsePx:R,preClickClassName:de,Range:ue,removeClass:ce,RowCell:qe,spacerDiv:q,titleize:Ye}=Slick;var Y={addNewRowCssClass:"new-row",alwaysAllowHorizontalScroll:!1,alwaysShowVerticalScroll:!1,asyncEditorLoadDelay:100,asyncEditorLoading:!1,asyncPostCleanupDelay:40,asyncPostRenderDelay:50,autoEdit:!0,autoHeight:!1,cellFlashingCssClass:"flashing",dataItemColumnValueExtractor:null,defaultColumnWidth:80,defaultFormat:j,editable:!1,editorFactory:null,editorLock:ae,enableAddRow:!1,enableAsyncPostRender:!1,enableAsyncPostRenderCleanup:!1,enableCellNavigation:!0,enableColumnReorder:!0,enableTabKeyNavigation:!0,enableTextSelectionOnCells:!1,explicitInitialization:!1,footerRowHeight:30,forceFitColumns:!1,forceSyncScrolling:!1,forceSyncScrollInterval:250,formatterFactory:null,fullWidthRows:!1,groupingPanel:!1,groupingPanelHeight:30,headerRowHeight:30,leaveSpaceForNewRows:!1,minBuffer:3,multiColumnSort:!1,multiSelect:!0,renderAllCells:!1,rowHeight:30,selectedCellCssClass:"selected",showCellSelection:!0,showColumnHeader:!0,showFooterRow:!1,showGroupingPanel:!0,showHeaderRow:!1,showTopPanel:!1,suppressActiveCellChangeOnEdit:!1,topPanelHeight:30,useLegacyUI:!0,useCssVars:!1};var O=function(){var a,e,t,i,s,o,r,n,l,h,d;function c(v){a=v;let y=_()+a.getScrollDims().width+"px",b=a.getOptions(),H=b.useLegacyUI?" ui-state-default":"";s=w("div",{class:"slick-header-columns",style:(b.rtl?"right":"left")+":-1000px"});var D=w("div",{class:"slick-header"+H,style:!b.showColumnHeader&&"display: none"},s);p(),o=w("div",{class:"slick-headerrow-columns"}),r=q(y);var F=w("div",{class:"slick-headerrow"+H,style:!b.showHeaderRow&&"display: none"},o,r);h=w("div",{class:"slick-top-panel",style:"width: 10000px"});var x=w("div",{class:"slick-top-panel-scroller"+H,style:!b.showTopPanel&&"display: none"},h);i=w("div",{class:"grid-canvas",tabIndex:"0",hideFocus:""}),d=w("div",{class:"slick-viewport",tabIndex:"0",hideFocus:""},i),n=w("div",{class:"slick-footerrow-columns"}),l=q(y);var S=w("div",{class:"slick-footerrow"+H,style:!b.showFooterRow&&"display: none"},n,l);a.getContainerNode().append(D,F,x,d,S)}function g(v,y){y&&i.appendChild(y)}function u(){var v=0,y,b,H=a.getColumns(),D=a.getOptions(),F=D.rtl;if(D.useCssVars)for(var x=a.getContainerNode().style,S=0;S<H.length;S++){y=H[S].width;var V="--l"+S,U=x.getPropertyValue(V),W=v+"px";U!==W&&x.setProperty(V,W),V="--r"+S,U=x.getPropertyValue(V),W=e-v-y+"px",U!==W&&x.setProperty(V,W),v+=y}else for(var S=0;S<H.length;S++)y=H[S].width,b=a.getColumnCssRules(S),b[F?"right":"left"].style[F?"right":"left"]=v+"px",b[F?"left":"right"].style[F?"left":"right"]=e-v-y+"px",v+=y}function C(){for(var v=i;(v=v.parentNode)!=document.body&&v!=null;)(v==d||v.scrollWidth!=v.clientWidth||v.scrollHeight!=v.clientHeight)&&a.bindAncestorScroll(v)}function _(){for(var v=a.getColumns(),y=v.length,b=0;y--;)b+=v[y].width;return a.getOptions().fullWidthRows?Math.max(b,a.getAvailableWidth()):b}function p(){t=0;for(var v=a.getScrollDims().width,y=a.getColumns(),b=0,H=y.length;b<H;b++)t+=y[b].width;t+=v,t=Math.max(t,a.getViewportInfo().width)+1e3,s.style.width=t+"px"}let L=()=>{a=null};function f(){return i}function P(){return[i]}function E(){return e}function I(){return[s]}function N(v){return s.children.item(v)}function _e(){return[o]}function we(v){return o.childNodes.item(v)}function ye(){return o}function be(v){return n.childNodes.item(v)}function Re(){return n}function Ee(){return s}function Le(){return[n]}function Pe(v){return a.getRowFromNode(v.parentElement)}function He(){return h}function Se(){return[h]}function G(){return d}function Te(){return[d]}function Ie(){s.parentElement.scrollLeft=a.getScrollLeft(),h.parentElement.scrollLeft=a.getScrollLeft(),o.parentElement.scrollLeft=a.getScrollLeft(),n.parentElement.scrollLeft=a.getScrollLeft()}function M(){}function Me(){i.style.height=a.getViewportInfo().realScrollHeight+"px"}function De(v){return v}function Ae(){return!1}function Ne(){var v=a.getOptions().alwaysShowVerticalScroll;d.style.overflowX="auto",d.style.overflowY=v?"scroll":a.getOptions().autoHeight?"hidden":"auto"}function Fe(){var v=e;e=_();var y=a.getScrollDims().width;let b=a.getViewportInfo();var H=e+"px";i.style.width=H,o.style.width=H,n.style.width=H,p(),b.hasHScroll=e>a.getViewportInfo().width-y;var D=e+(b.hasVScroll?y:0)+"px";return r.style.width=D,l.style.width=D,e!=v}let xe=()=>{var v=a.getViewportInfo(),y=v.height+v.topPanelHeight+v.headerRowHeight+v.footerRowHeight;a.getOptions().autoHeight?(a.getContainerNode().style.height=y+v.groupingPanelHeight+R(getComputedStyle(s.parentElement).height)+"px",d.style.height=""):d.style.height=v.height+"px"};function X(){return 0}var ke={afterHeaderColumnDrag:M,afterRenderRows:M,afterSetOptions:M,appendCachedRow:g,applyColumnWidths:u,beforeCleanupAndRenderCells:M,bindAncestorScrollEvents:C,calcCanvasWidth:_,updateHeadersWidth:p,isFrozenRow:Ae,destroy:L,getCanvasNodeFor:f,getCanvasNodes:P,getCanvasWidth:E,getFooterRowCols:Le,getFooterRowColsFor:Re,getFooterRowColumn:be,getHeaderCols:I,getHeaderColsFor:Ee,getHeaderColumn:N,getHeaderRowCols:_e,getHeaderRowColsFor:ye,getHeaderRowColumn:we,getRowFromCellNode:Pe,getFrozenCols:X,getFrozenRowOffset:X,getFrozenRows:X,getScrollCanvasY:f,getScrollContainerX:G,getScrollContainerY:G,getTopPanelFor:He,getTopPanelNodes:Se,getViewportNodeFor:G,getViewportNodes:Te,handleScrollH:Ie,handleScrollV:M,init:c,layoutName:"basic",realScrollHeightChange:Me,reorderViewColumns:De,resizeCanvas:xe,setOverflow:Ne,setPaneVisibility:M,setScroller:M,updateCanvasWidth:Fe};return ke};var B=class{constructor(e){this.host=e}findFirstFocusableCell(e){for(var t=0,i=this.host.getColumnCount();t<i;){if(this.host.canCellBeActive(e,t))return t;t+=this.host.getColspan(e,t)}return null}findLastFocusableCell(e){for(var t=0,i=null,s=this.host.getColumnCount();t<s;)this.host.canCellBeActive(e,t)&&(i=t),t+=this.host.getColspan(e,t);return i}gotoRight(e,t){var i=this.host.getColumnCount();if(t>=i)return null;do t+=this.host.getColspan(e,t);while(t<i&&!this.host.canCellBeActive(e,t));return t<i?{row:e,cell:t,posX:t}:null}gotoLeft(e,t){if(t<=0)return null;var i=this.findFirstFocusableCell(e);if(i===null||i>=t)return null;for(var s={row:e,cell:i,posX:i},o;;){if(o=this.gotoRight(s.row,s.cell),!o)return null;if(o.cell>=t)return s;s=o}}gotoDown(e,t,i){for(var s,o=this.host.getRowCount();;){if(++e>=o)return null;for(s=t=0;t<=i;)s=t,t+=this.host.getColspan(e,t);if(this.host.canCellBeActive(e,s))return{row:e,cell:s,posX:i}}}gotoUp(e,t,i){for(var s;;){if(--e<0)return null;for(s=t=0;t<=i;)s=t,t+=this.host.getColspan(e,t);if(this.host.canCellBeActive(e,s))return{row:e,cell:s,posX:i}}}gotoNext(e,t,i){if(e==null&&t==null&&(e=t=i=0,this.host.canCellBeActive(e,t)))return{row:e,cell:t,posX:t};var s=this.gotoRight(e,t);if(s)return s;for(var o=null,r=this.host.getRowCount();++e<r;)if(o=this.findFirstFocusableCell(e),o!=null)return{row:e,cell:o,posX:o};return null}gotoPrev(e,t,i){var s=this.host.getColumnCount();if(e==null&&t==null&&(e=this.host.getRowCount()-1,t=i=s-1,this.host.canCellBeActive(e,t)))return{row:e,cell:t,posX:t};for(var o,r;!o&&(o=this.gotoLeft(e,t),!o);){if(--e<0)return null;t=0,r=this.findLastFocusableCell(e),r!=null&&(o={row:e,cell:r,posX:r})}return o}gotoRowStart(e){var t=this.findFirstFocusableCell(e);return t===null?null:{row:e,cell:t,posX:t}}gotoRowEnd(e){var t=this.findLastFocusableCell(e);return t===null?null:{row:e,cell:t,posX:t}}navigate(e,t,i,s){var o={up:-1,down:1,prev:-1,next:1,home:-1,end:1};let r=this.host.isRTL();o[r?"right":"left"]=-1,o[r?"left":"right"]=1,this.host.setTabbingDirection(o[e]);var n={up:this.gotoUp,down:this.gotoDown,prev:this.gotoPrev,next:this.gotoNext,home:this.gotoRowStart,end:this.gotoRowEnd};n[r?"right":"left"]=this.gotoLeft,n[r?"left":"right"]=this.gotoRight;var l=n[e].bind(this);return l(t,i,s)}};var J,Z;function Q(a){var e={top:a.offsetTop,left:a.offsetLeft,bottom:0,right:0,width:a.offsetWidth,height:a.offsetHeight,visible:!0};e.bottom=e.top+e.height,e.right=e.left+e.width;for(var t=a.offsetParent;(a=a.parentNode)!=document.body&&a!=null;)e.visible&&a.scrollHeight!=a.offsetHeight&&getComputedStyle(a).overflowY!=="visible"&&(e.visible=e.bottom>a.scrollTop&&e.top<a.scrollTop+a.clientHeight),e.visible&&a.scrollWidth!=a.offsetWidth&&getComputedStyle(a).overflowX!="visible"&&(e.visible=e.right>a.scrollLeft&&e.left<a.scrollLeft+a.clientWidth),e.left-=a.scrollLeft,e.top-=a.scrollTop,a===t&&(e.left+=a.offsetLeft,e.top+=a.offsetTop,t=a.offsetParent),e.bottom=e.top+e.height,e.right=e.left+e.width;return e}function ge(a,e,t){var i,s,o=[],r=0,n=0,l;for(i=0;i<a.length;i++)s=a[i],o.push(s.width),n+=s.width,s.resizable&&(r+=s.width-Math.max(s.minWidth,t));for(l=n;n>e&&r;){var h=(n-e)/r;for(i=0;i<a.length&&n>e;i++){s=a[i];var d=o[i];if(!(!s.resizable||d<=s.minWidth||d<=t)){var c=Math.max(s.minWidth,t),g=Math.floor(h*(d-c))||1;g=Math.min(g,d-c),n-=g,r-=g,o[i]-=g}}if(l<=n)break;l=n}for(l=n;n<e;){var u=e/n;for(i=0;i<a.length&&n<e;i++){s=a[i];var C=o[i],_;!s.resizable||s.maxWidth<=C?_=0:_=Math.min(Math.floor(u*C)-C,s.maxWidth-C||1e6)||1,n+=_,o[i]+=n<=e?_:0}if(l>=n)break;l=n}var p=!1;for(i=0;i<a.length;i++)a[i].rerenderOnResize&&a[i].width!=o[i]&&(p=!0),a[i].width=o[i];return p}function $(){return J!=null?J:navigator.userAgent.toLowerCase().match(/gecko\//)?4e6:32e6}function ee(a){if(!Z||a){var e=document.body.appendChild(w("div",{style:"position:absolute;top:-10000px;left:-10000px;width:100px;height:100px;overflow: scroll;border:0"}));Z={width:Math.round(e.offsetWidth-e.clientWidth),height:Math.round(e.offsetWidth-e.clientHeight)},e.remove()}return Z}function ve(a,e){if(!Array.isArray(a)||!Array.isArray(e)||a.length!==e.length)return!1;a=a.slice().sort(),e=e.slice().sort();for(var t=0;t<a.length;t++)if(a[t]!==e[t])return!1;return!0}function me(a,e){if(e.length==0)return a;for(var t={},i={},s=[],o=0;o<e.length;o++)t[e[o]]=o;for(o=0;o<a.length;o++)i[a[o].id]=o;function r(h){for(var d=h;d<a.length;d++){var c=a[d];if(h!=d&&t[c.id]!=null)break;s.push(c),i[c.id]=null}}t[a[0].id]==null&&r(0);for(var n of e)o=i[n],o!=null&&r(o);for(o=0;o<a.length;o++){var l=a[o];i[l.id]!=null&&(s.push(l),i[l.id]=null)}return s}function pe(a,e,t,i,s){var o=null,r=null,n,l;if(i)for(o=0,r=0,n=e+1;n<a.length;n++)l=a[n],l.resizable&&(r!=null&&(l.maxWidth?r+=l.maxWidth-l.previousWidth:r=null),o+=l.previousWidth-Math.max(l.minWidth||0,s));var h=0,d=0;for(n=0;n<=e;n++)l=a[n],l.resizable&&(d!=null&&(l.maxWidth?d+=l.maxWidth-l.previousWidth:d=null),h+=l.previousWidth-Math.max(l.minWidth||0,s));return o===null&&(o=1e5),h===null&&(h=1e5),r===null&&(r=1e5),d===null&&(d=1e5),{maxPageX:t+Math.min(o,d),minPageX:t-Math.min(h,r)}}function fe(a,e,t,i,s){var o,r,n,l;if(t<0){for(n=t,r=e;r>=0;r--)o=a[r],o.resizable&&(l=Math.max(o.minWidth||0,s),n&&o.previousWidth+n<l?(n+=o.previousWidth-l,o.width=l):(o.width=o.previousWidth+n,n=0));if(i)for(n=-t,r=e+1;r<a.length;r++)o=a[r],o.resizable&&(n&&o.maxWidth&&o.maxWidth-o.previousWidth<n?(n-=o.maxWidth-o.previousWidth,o.width=o.maxWidth):(o.width=o.previousWidth+n,n=0))}else{for(n=t,r=e;r>=0;r--)o=a[r],o.resizable&&(n&&o.maxWidth&&o.maxWidth-o.previousWidth<n?(n-=o.maxWidth-o.previousWidth,o.width=o.maxWidth):(o.width=o.previousWidth+n,n=0));if(i)for(n=-t,r=e+1;r<a.length;r++)o=a[r],o.resizable&&(l=Math.max(o.minWidth||0,s),n&&o.previousWidth+n<l?(n+=o.previousWidth-l,o.width=l):(o.width=o.previousWidth+n,n=0))}}function te(){this==null||this.classList.add("ui-state-hover")}function ie(){this==null||this.classList.remove("ui-state-hover")}function z(a){if(!a)return 0;var e=getComputedStyle(a);if(e.boxSizing==="border-box")return 0;var t=["border-top-width","border-bottom-width","padding-top","padding-bottom"],i=0;for(var s of t)i+=R(e.getPropertyValue(s))||0;return i}function Ce(a){var o;var e=getComputedStyle(a),t=(o=R(e.width))!=null?o:0;if(e.boxSizing!="border-box")return Math.max(0,t);var i=["border-left-width","border-right-width","padding-left","padding-right"];for(var s of i)t-=R(e.getPropertyValue(s))||0;return Math.max(t,0)}var se=class{constructor(e,t,i,s){this._activeCellNode=null;this._cellCssClasses={};this._cellHeightDiff=0;this._cellWidthDiff=0;this._colLeft=[];this._colRight=[];this._currentEditor=null;this._headerColumnWidthDiff=0;this._hEditorLoader=null;this._hPostRender=null;this._hPostRenderCleanup=null;this._hRender=null;this._ignoreScrollUntil=0;this._initialized=!1;this._page=0;this._pageOffset=0;this._pagingActive=!1;this._pagingIsLastPage=!1;this._plugins=[];this._postProcessCleanupQueue=[];this._postProcessedRows={};this._postProcessFromRow=null;this._postProcessGroupId=0;this._postProcessToRow=null;this._rowsCache={};this._scrollLeft=0;this._scrollLeftPrev=0;this._scrollLeftRendered=0;this._scrollTop=0;this._scrollTopPrev=0;this._scrollTopRendered=0;this._selectedRows=[];this._sortColumns=[];this._tabbingDirection=1;this._uid="sleekgrid_"+Math.round(1e6*Math.random());this._viewportInfo={};this._vScrollDir=1;this._boundAncestorScroll=[];this.onActiveCellChanged=new m;this.onActiveCellPositionChanged=new m;this.onAddNewRow=new m;this.onBeforeCellEditorDestroy=new m;this.onBeforeDestroy=new m;this.onBeforeEditCell=new m;this.onBeforeFooterRowCellDestroy=new m;this.onBeforeHeaderCellDestroy=new m;this.onBeforeHeaderRowCellDestroy=new m;this.onCellChange=new m;this.onCellCssStylesChanged=new m;this.onClick=new m;this.onColumnsReordered=new m;this.onColumnsResized=new m;this.onCompositeEditorChange=new m;this.onContextMenu=new m;this.onDblClick=new m;this.onDrag=new m;this.onDragEnd=new m;this.onDragInit=new m;this.onDragStart=new m;this.onFooterRowCellRendered=new m;this.onHeaderCellRendered=new m;this.onHeaderClick=new m;this.onHeaderContextMenu=new m;this.onHeaderMouseEnter=new m;this.onHeaderMouseLeave=new m;this.onHeaderRowCellRendered=new m;this.onKeyDown=new m;this.onMouseEnter=new m;this.onMouseLeave=new m;this.onScroll=new m;this.onSelectedRowsChanged=new m;this.onSort=new m;this.onValidationError=new m;this.onViewportChanged=new m;this.handleSelectedRangesChanged=(e,t)=>{var i=this._selectedRows.slice(0);this._selectedRows=[];for(var s={},o=this._cols,r=0;r<t.length;r++)for(var n=t[r].fromRow;n<=t[r].toRow;n++){s[n]||(this._selectedRows.push(n),s[n]={});for(var l=t[r].fromCell;l<=t[r].toCell;l++)this.canCellBeSelected(n,l)&&(s[n][o[l].id]=this._options.selectedCellCssClass)}if(this.setCellCssStyles(this._options.selectedCellCssClass,s),!ve(i,this._selectedRows)){var h=e&&e.detail&&e.detail.caller||"click",d=this._selectedRows.filter(g=>i.indexOf(g)<0),c=i.filter(g=>this._selectedRows.indexOf(g)<0);this.trigger(this.onSelectedRowsChanged,{rows:this.getSelectedRows(),previousSelectedRows:i,caller:h,changedSelectedRows:d,changedUnselectedRows:c},e)}this._selectedRows=[],s={},o=this._cols;for(var r=0;r<t.length;r++)for(var n=t[r].fromRow;n<=t[r].toRow;n++){s[n]||(this._selectedRows.push(n),s[n]={});for(var l=t[r].fromCell;l<=t[r].toCell;l++)this.canCellBeSelected(n,l)&&(s[n][o[l].id]=this._options.selectedCellCssClass)}};this.viewOnRowCountChanged=()=>{this.updateRowCount(),this.render()};this.viewOnRowsChanged=(e,t)=>{this.invalidateRows(t.rows),this.render(),this.updateGrandTotals()};this.viewOnDataChanged=()=>{this.invalidate(),this.render()};this.resizeCanvas=()=>{this._initialized&&(this.calcViewportSize(),this._layout.resizeCanvas(),(!this._scrollDims||!this._scrollDims.width)&&(this._scrollDims=ee(!0)),this._options.forceFitColumns&&this.autosizeColumns(),this.updateRowCount(),this.handleScroll(),this._scrollLeftRendered=-1,this.render())};this.render=()=>{if(this._initialized){var e=this.getVisibleRange(),t=this.getRenderedRange();this.cleanupRows(t),this._scrollLeftRendered!=this._scrollLeft&&(this._layout.beforeCleanupAndRenderCells(t),this.cleanUpAndRenderCells(t)),this.renderRows(t),this._layout.afterRenderRows(t),this._postProcessFromRow=e.top,this._postProcessToRow=Math.min(this.getDataLengthIncludingAddNew()-1,e.bottom),this.startPostProcessing(),this._scrollTopRendered=this._scrollTop,this._scrollLeftRendered=this._scrollLeft,this._lastRenderTime=new Date().getTime(),this._hRender=null}};this.handleHeaderRowScroll=e=>{if(!(this._ignoreScrollUntil>=new Date().getTime())){var t=e.target.scrollLeft;t!=this._layout.getScrollContainerX().scrollLeft&&(this._layout.getScrollContainerX().scrollLeft=t)}};this.handleFooterRowScroll=e=>{if(!(this._ignoreScrollUntil>=new Date().getTime())){var t=e.target.scrollLeft;t!=this._layout.getScrollContainerX().scrollLeft&&(this._layout.getScrollContainerX().scrollLeft=t)}};this.handleActiveCellPositionChange=()=>{if(this._activeCellNode&&(this.trigger(this.onActiveCellPositionChanged,{}),this._currentEditor)){var e=this.getActiveCellPosition();this._currentEditor.show&&this._currentEditor.hide&&(e.visible?this._currentEditor.show():this._currentEditor.hide()),this._currentEditor.position&&this._currentEditor.position(e)}};var o,r;if(this._data=t,this._colDefaults=Object.assign({},re),this._options=s=Object.assign({},Y,s),s.jQuery=this._jQuery=s.jQuery===void 0?typeof jQuery!="undefined"?jQuery:void 0:s.jQuery,this._jQuery&&e instanceof this._jQuery?this._container=e[0]:e instanceof Element?this._container=e:typeof e=="string"&&(this._container=document.querySelector(e)),this._container==null)throw new Error("SleekGrid requires a valid container, "+e+" does not exist in the DOM.");this._container.classList.add("slick-container"),s!=null&&s.createPreHeaderPanel&&(s.groupingPanel==null&&(s.groupingPanel=!0),s.groupingPanelHeight==null&&s.preHeaderPanelHeight!=null&&(s.groupingPanelHeight=s.preHeaderPanelHeight),s.showGroupingPanel==null&&s.showPreHeaderPanel!=null&&(s.showGroupingPanel=s.showPreHeaderPanel)),this._options.rtl=(o=this._options.rtl)!=null?o:document.body.classList.contains("rtl")||typeof getComputedStyle!="undefined"&&getComputedStyle(this._container).direction=="rtl",this._options.rtl?this._container.classList.add("rtl"):this._container.classList.add("ltr"),this.validateAndEnforceOptions(),this._colDefaults.width=s.defaultColumnWidth,this._editController={commitCurrentEdit:this.commitCurrentEdit.bind(this),cancelCurrentEdit:this.cancelCurrentEdit.bind(this)},this._jQuery?this._jQuery(this._container).empty():this._container.innerHTML="",this._container.style.overflow="hidden",this._container.style.outline="0",this._container.classList.add(this._uid),this._options.useLegacyUI&&this._container.classList.add("ui-widget"),/relative|absolute|fixed/.test(getComputedStyle(this._container).position)||(this._container.style.position="relative"),this._container.appendChild(this._focusSink1=w("div",{class:"slick-focus-sink",hideFocus:"",style:"position:fixed;width:0!important;height:0!important;top:0;left:0;outline:0!important;",tabIndex:"0"})),this._layout=(r=s.layoutEngine)!=null?r:new O,this.setInitialCols(i),this._scrollDims=ee(),s.groupingPanel&&this.createGroupingPanel(),this._layout.init({cleanUpAndRenderCells:this.cleanUpAndRenderCells.bind(this),bindAncestorScroll:this.bindAncestorScroll.bind(this),getAvailableWidth:this.getAvailableWidth.bind(this),getCellFromPoint:this.getCellFromPoint.bind(this),getColumnCssRules:this.getColumnCssRules.bind(this),getColumns:this.getColumns.bind(this),getContainerNode:this.getContainerNode.bind(this),getDataLength:this.getDataLength.bind(this),getOptions:this.getOptions.bind(this),getRowFromNode:this.getRowFromNode.bind(this),getScrollDims:this.getScrollBarDimensions.bind(this),getScrollLeft:()=>this._scrollLeft,getScrollTop:()=>this._scrollTop,getViewportInfo:()=>this._viewportInfo,renderRows:this.renderRows.bind(this)}),this._container.append(this._focusSink2=this._focusSink1.cloneNode()),s.viewportClass&&this.getViewports().forEach(n=>A(n,s.viewportClass)),s.explicitInitialization||this.init(),this.bindToData()}createGroupingPanel(){this._groupingPanel||!this._focusSink1||(this._focusSink1.insertAdjacentElement("afterend",this._groupingPanel=w("div",{class:"slick-grouping-panel",style:"overflow:hidden; position:relative;"+(this._options.showGroupingPanel?"":" display: none")})),this._options.createPreHeaderPanel&&this._groupingPanel.appendChild(w("div",{class:"slick-preheader-panel"})))}bindAncestorScroll(e){this._jQuery?this._jQuery(e).on("scroll",this.handleActiveCellPositionChange):e.addEventListener("scroll",this.handleActiveCellPositionChange),this._boundAncestorScroll.push(e)}init(){if(this._initialized)return;this._initialized=!0,this.calcViewportSize(),this.measureCellPaddingAndBorder();var e=this.getViewports();this._jQuery&&!this._options.enableTextSelectionOnCells&&this._jQuery(e).on("selectstart.ui",()=>this._jQuery(this).is("input,textarea")),this._layout.setPaneVisibility(),this._layout.setScroller(),this.setOverflow(),this.updateViewColLeftRight(),this.createColumnHeaders(),this.createColumnFooters(),this.setupColumnSort(),this.createCssRules(),this.resizeCanvas(),this._layout.bindAncestorScrollEvents();let t=(s,o,r)=>{this._jQuery?this._jQuery(s).on(o,r):s.addEventListener(o,r)};t(this._container,"resize",this.resizeCanvas),e.forEach(s=>{var o=!1;t(s,"scroll",r=>{o||(o=!0,window.requestAnimationFrame(()=>{this.handleScroll(),o=!1}))})}),this._jQuery&&this._jQuery.fn.mousewheel&&(this.hasFrozenColumns()||this.hasFrozenRows())&&this._jQuery(e).on("mousewheel",this.handleMouseWheel.bind(this)),this._layout.getHeaderCols().forEach(s=>{ne(s),t(s,"contextmenu",this.handleHeaderContextMenu.bind(this)),t(s,"click",this.handleHeaderClick.bind(this)),this._jQuery?this._jQuery(s).on("mouseenter",".slick-header-column",this.handleHeaderMouseEnter.bind(this)).on("mouseleave",".slick-header-column",this.handleHeaderMouseLeave.bind(this)):(s.addEventListener("mouseenter",o=>o.target.closest(".slick-header-column")&&this.handleHeaderMouseEnter(o)),s.addEventListener("mouseleave",o=>o.target.closest(".slick-header-column")&&this.handleHeaderMouseLeave(o)))}),this._layout.getHeaderRowCols().forEach(s=>{t(s.parentElement,"scroll",this.handleHeaderRowScroll)}),this._layout.getFooterRowCols().forEach(s=>{t(s.parentElement,"scroll",this.handleFooterRowScroll)}),[this._focusSink1,this._focusSink2].forEach(s=>t(s,"keydown",this.handleKeyDown.bind(this)));var i=Array.from(this.getCanvases());i.forEach(s=>{t(s,"keydown",this.handleKeyDown.bind(this)),t(s,"click",this.handleClick.bind(this)),t(s,"dblclick",this.handleDblClick.bind(this)),t(s,"contextmenu",this.handleContextMenu.bind(this))}),this._jQuery&&this._jQuery.fn.drag&&this._jQuery(i).on("draginit",this.handleDragInit.bind(this)).on("dragstart",{distance:3},this.handleDragStart.bind(this)).on("drag",this.handleDrag.bind(this)).on("dragend",this.handleDragEnd.bind(this)),i.forEach(s=>{this._jQuery?this._jQuery(s).on("mouseenter",".slick-cell",this.handleMouseEnter.bind(this)).on("mouseleave",".slick-cell",this.handleMouseLeave.bind(this)):(s.addEventListener("mouseenter",o=>o.target.closest(".slick-cell")&&this.handleMouseEnter(o)),s.addEventListener("mouseleave",o=>o.target.closest(".slick-cell")&&this.handleMouseLeave(o)))}),navigator.userAgent.toLowerCase().match(/webkit/)&&navigator.userAgent.toLowerCase().match(/macintosh/)&&this._jQuery&&this._jQuery(i).on("mousewheel",this.handleMouseWheel.bind(this))}hasFrozenColumns(){return this._layout.getFrozenCols()>0}hasFrozenRows(){return this._layout.getFrozenRows()>0}registerPlugin(e){this._plugins.unshift(e),e.init(this)}unregisterPlugin(e){for(var t=this._plugins.length;t>=0;t--)if(this._plugins[t]===e){this._plugins[t].destroy&&this._plugins[t].destroy(),this._plugins.splice(t,1);break}}getPluginByName(e){for(var t=this._plugins.length-1;t>=0;t--)if(this._plugins[t].pluginName===e)return this._plugins[t]}setSelectionModel(e){this.unregisterSelectionModel(),this._selectionModel=e,this._selectionModel&&(this._selectionModel.init(this),this._selectionModel.onSelectedRangesChanged.subscribe(this.handleSelectedRangesChanged))}unregisterSelectionModel(){var e,t;this._selectionModel&&(this._selectionModel.onSelectedRangesChanged.unsubscribe(this.handleSelectedRangesChanged),(t=(e=this._selectionModel).destroy)==null||t.call(e))}getScrollBarDimensions(){return this._scrollDims}getDisplayedScrollbarDimensions(){return{width:this._viewportInfo.hasVScroll?this._scrollDims.width:0,height:this._viewportInfo.hasHScroll?this._scrollDims.height:0}}getAbsoluteColumnMinWidth(){return this._absoluteColMinWidth}getSelectionModel(){return this._selectionModel}colIdOrIdxToCell(e){return e==null?null:typeof e!="number"?this.getColumnIndex(e):e}getCanvasNode(e,t){return this._layout.getCanvasNodeFor(this.colIdOrIdxToCell(e||0),t||0)}getCanvases(){var e=this._layout.getCanvasNodes();return this._jQuery?this._jQuery(e):e}getActiveCanvasNode(e){return e&&(this._activeCanvasNode=e.target.closest(".grid-canvas")),this._activeCanvasNode}getViewportNode(e,t){return this._layout.getViewportNodeFor(this.colIdOrIdxToCell(e||0),t||0)}getViewports(){return this._layout.getViewportNodes()}getActiveViewportNode(e){return e&&(this._activeViewportNode=e.target.closest(".slick-viewport")),this._activeViewportNode}getAvailableWidth(){return this._viewportInfo.hasVScroll?this._viewportInfo.width-this._scrollDims.width:this._viewportInfo.width}updateCanvasWidth(e){(this._layout.updateCanvasWidth()||e)&&this._layout.applyColumnWidths()}unbindAncestorScrollEvents(){if(this._boundAncestorScroll)for(var e of this._boundAncestorScroll)e.removeEventListener("scroll",this.handleActiveCellPositionChange);this._boundAncestorScroll=[]}updateColumnHeader(e,t,i){if(this._initialized){var s=this.getColumnIndex(e);if(s!=null){var o=this._cols[s],r=this._layout.getHeaderColumn(s);if(r){if(t!==void 0&&(o.name=t),i!==void 0&&(o.toolTip=i),this.trigger(this.onBeforeHeaderCellDestroy,{node:r,column:o}),i!==void 0&&(r.title=i||""),t!==void 0){var n=r.firstElementChild;o.nameIsHtml?n&&(n.innerHTML=t!=null?t:""):n&&(n.textContent=t!=null?t:"")}this.trigger(this.onHeaderCellRendered,{node:r,column:o})}}}}getHeader(){return this._layout.getHeaderCols()[0]}getHeaderColumn(e){var t=this.colIdOrIdxToCell(e);return t==null?null:this._layout.getHeaderColumn(t)}getGroupingPanel(){return this._groupingPanel}getPreHeaderPanel(){var e;return(e=this._groupingPanel)==null?void 0:e.querySelector(".slick-preheader-panel")}getHeaderRow(){return this._layout.getHeaderRowCols()[0]}getHeaderRowColumn(e){var t=this.colIdOrIdxToCell(e);if(t!=null)return this._layout.getHeaderRowColumn(t)}getFooterRow(){return this._layout.getFooterRowCols()[0]}getFooterRowColumn(e){var t=this.colIdOrIdxToCell(e);return t==null?null:this._layout.getFooterRowColumn(t)}createColumnFooters(){var e=this._layout.getFooterRowCols();e.forEach(r=>{r.querySelectorAll(".slick-footerrow-column").forEach(n=>{var l=this.getColumnFromNode(n);l&&this.trigger(this.onBeforeFooterRowCellDestroy,{node:n,column:l})}),this._jQuery?this._jQuery(r).empty():r.innerHTML=""});for(var t=this._cols,i=0;i<t.length;i++){var s=t[i],o=w("div",{class:"slick-footerrow-column l"+i+" r"+i+(this._options.useLegacyUI?" ui-state-default":"")});o.dataset.c=i.toString(),this._jQuery&&this._jQuery(o).data("column",s),s.footerCssClass?A(o,s.footerCssClass):s.cssClass&&A(o,s.cssClass),this._layout.getFooterRowColsFor(i).appendChild(o),this.trigger(this.onFooterRowCellRendered,{node:o,column:s})}}createColumnHeaders(){var g,u;this._layout.getHeaderCols().forEach(C=>{C.querySelectorAll(".slick-header-column").forEach(_=>{var p=this.getColumnFromNode(_);p&&this.trigger(this.onBeforeHeaderCellDestroy,{node:_,column:p})}),this._jQuery?this._jQuery(C).empty():C.innerHTML=""}),this._layout.updateHeadersWidth(),this._layout.getHeaderRowCols().forEach(C=>{C.querySelectorAll(".slick-headerrow-column").forEach(_=>{var p=this.getColumnFromNode(_);p&&this.trigger(this.onBeforeHeaderRowCellDestroy,{node:_,column:p,grid:this})}),this._jQuery?this._jQuery(C).empty():C.innerHTML=""});for(var i=this._cols,s=this._layout.getFrozenCols(),o=0;o<i.length;o++){var r=i[o],n=this._layout.getHeaderColsFor(o),l=document.createElement("span");l.className="slick-column-name",r.nameIsHtml?l.innerHTML=(g=r.name)!=null?g:"":l.textContent=(u=r.name)!=null?u:"";var h=w("div",{class:"slick-header-column"+(this._options.useLegacyUI?" ui-state-default ":""),id:""+this._uid+r.id,title:r.toolTip||"",style:"width: "+(r.width-this._headerColumnWidthDiff)+"px"},l);if(h.dataset.c=o.toString(),this._jQuery&&this._jQuery(h).data("column",r),r.headerCssClass&&A(h,r.headerCssClass),o<s&&h.classList.add("frozen"),n.appendChild(h),(this._options.enableColumnReorder||r.sortable)&&this._options.useLegacyUI&&(this._jQuery?(this._jQuery(h).on("mouseenter",te),this._jQuery(h).on("mouseleave",ie)):(h.addEventListener("mouseenter",te),h.addEventListener("mouseleave",ie))),r.sortable&&(h.classList.add("slick-header-sortable"),h.appendChild(w("span",{class:"slick-sort-indicator"}))),this.trigger(this.onHeaderCellRendered,{node:h,column:r}),this._options.showHeaderRow){var d=this._layout.getHeaderRowColsFor(o),c=w("div",{class:"slick-headerrow-column l"+o+" r"+o+(this._options.useLegacyUI?" ui-state-default":"")});c.dataset.c=o.toString(),this._jQuery&&this._jQuery(c).data("column",r),d.appendChild(c),this.trigger(this.onHeaderRowCellRendered,{node:c,column:r})}}this.setSortColumns(this._sortColumns),this.setupColumnResize(),this._options.enableColumnReorder&&this.setupColumnReorder()}setupColumnSort(){let e=t=>{var i=t.target;if(!i.classList.contains("slick-resizable-handle")){var s=i.closest(".slick-header-column");if(s){var o=this.getColumnFromNode(s);if(o.sortable){if(!this.getEditorLock().commitCurrentEdit())return;for(var r=null,n=0;n<this._sortColumns.length;n++)if(this._sortColumns[n].columnId==o.id){r=this._sortColumns[n],r.sortAsc=!r.sortAsc;break}if(t.metaKey&&this._options.multiColumnSort?r&&this._sortColumns.splice(n,1):((!t.shiftKey&&!t.metaKey||!this._options.multiColumnSort)&&(this._sortColumns=[]),r?this._sortColumns.length==0&&this._sortColumns.push(r):(r={columnId:o.id,sortAsc:o.defaultSortAsc},this._sortColumns.push(r))),this.setSortColumns(this._sortColumns),!this._options.multiColumnSort)this.trigger(this.onSort,{multiColumnSort:!1,sortCol:o,sortAsc:r.sortAsc},t);else{var l=this._initCols;this.trigger(this.onSort,{multiColumnSort:!0,sortCols:this._sortColumns.map(h=>({sortCol:l[this.getInitialColumnIndex(h.columnId)],sortAsc:h.sortAsc}))},t)}}}}};this._layout.getHeaderCols().forEach(t=>{this._jQuery?this._jQuery(t).on("click",e):t.addEventListener("click",e)})}setupColumnReorder(){var n;let e=this._jQuery&&((n=this._jQuery.fn)==null?void 0:n.sortable);e&&this._jQuery(this._layout.getHeaderCols()).filter(":ui-sortable").sortable("destroy");var t=null,i=()=>{this._layout.getScrollContainerX().scrollLeft=this._layout.getScrollContainerX().scrollLeft+10},s=()=>{this._layout.getScrollContainerX().scrollLeft=this._layout.getScrollContainerX().scrollLeft-10},o,r=this._options.groupingPanel;e&&this._jQuery([this._layout.getHeaderCols()]).sortable({containment:r?void 0:"parent",distance:3,axis:r?void 0:"x",cursor:"default",tolerance:"intersection",helper:"clone",placeholder:"slick-sortable-placeholder"+(this._options.useLegacyUI?" ui-state-default":"")+" slick-header-column",forcePlaceholderSize:r?!0:void 0,appendTo:r?"body":void 0,start:(l,h)=>{h.placeholder.outerHeight(h.helper.outerHeight()),h.placeholder.outerWidth(h.helper.outerWidth()),o=!this.hasFrozenColumns()||h.placeholder.offset()[this._options.rtl?"right":"left"]+Math.round(h.placeholder.width())>this._jQuery(this._layout.getScrollContainerX()).offset()[this._options.rtl?"right":"left"],this._jQuery(h.helper).addClass("slick-header-column-active")},beforeStop:(l,h)=>{if(this._jQuery(h.helper).removeClass("slick-header-column-active"),r){var d=this._jQuery(this.getGroupingPanel()),c=d.find(".slick-dropped-grouping").length;c>0&&(d.find(".slick-dropped-placeholder").hide(),d.find(".slick-dropped-grouping").show())}},sort:l=>{o&&l.originalEvent.pageX>this._container.clientWidth?t||(t=setInterval(i,100)):o&&l.originalEvent.pageX<this._jQuery(this._layout.getScrollContainerX()).offset().left?t||(t=setInterval(s,100)):(clearInterval(t),t=null)},stop:l=>{var h=!1;if(clearInterval(t),t=null,h||!this.getEditorLock().commitCurrentEdit()){this._jQuery(l.target).sortable("cancel");return}var d;this._layout.getHeaderCols().forEach(c=>d=me(this._initCols,this._jQuery(c).sortable("toArray").map(g=>g.substring(this._uid.length)))),this.setColumns(d),this.trigger(this.onColumnsReordered,{}),l.stopPropagation(),this.setupColumnResize()}})}setupColumnResize(){var o,s,r,n=this._cols,e=[];this._layout.getHeaderCols().forEach(c=>{e=e.concat(Array.from(c.children))});var t,i,s,o,r,l,h,n=this._cols,l,h;if(e.forEach((c,g)=>{var u;(u=c.querySelector(".slick-resizable-handle"))==null||u.remove(),n[g].resizable&&(l===void 0&&(l=g),h=g)}),l===void 0)return;let d=!this._jQuery||!this._jQuery.fn||!this._jQuery.fn.drag;e.forEach((c,g)=>{if(g<l||this._options.forceFitColumns&&g>=h)return;let u=c.appendChild(document.createElement("div"));u.classList.add("slick-resizable-handle"),u.draggable=!0;var C=null;let _=f=>{var E;if(!this.getEditorLock().commitCurrentEdit()){!d&&f.preventDefault();return}d&&(C=I=>I.preventDefault(),document.addEventListener("dragover",C)),s=f.pageX,(E=f.target.parentElement)==null||E.classList.add("slick-header-column-active"),e.forEach((I,N)=>{n[N].previousWidth=I.offsetWidth});let P=pe(n,g,s,this._options.forceFitColumns,this._absoluteColMinWidth);r=P.maxPageX,o=P.minPageX,d&&(f.dataTransfer.effectAllowed="move")},p=f=>{if(d){if(!f.pageX&&!f.clientX&&!f.pageY&&!f.clientY)return;f.dataTransfer.effectAllowed="none",f.preventDefault()}fe(n,g,Math.min(r,Math.max(o,f.pageX))-s,this._options.forceFitColumns,this._absoluteColMinWidth),this._layout.afterHeaderColumnDrag(),this.applyColumnHeaderWidths(),this._options.syncColumnCellResize&&this._layout.applyColumnWidths()},L=f=>{var E;for(C&&(document.removeEventListener("dragover",C),C=null),(E=f.target.parentElement)==null||E.classList.remove("slick-header-column-active"),t=0;t<e.length;t++){i=n[t];var P=e[t].offsetWidth;i.previousWidth!==P&&i.rerenderOnResize&&this.invalidateAllRows()}this.updateCanvasWidth(!0),this.render(),this.trigger(this.onColumnsResized)};d?(u.addEventListener("dragstart",_),u.addEventListener("drag",p),u.addEventListener("dragend",L),u.addEventListener("dragover",f=>{f.preventDefault(),f.dataTransfer.effectAllowed="move"})):this._jQuery(u).on("dragstart",_).on("drag",p).on("dragend",L)})}setOverflow(){this._layout.setOverflow(),this._options.viewportClass&&this.getViewports().forEach(e=>A(e,this._options.viewportClass))}measureCellPaddingAndBorder(){let e=["border-left-width","border-right-width","padding-left","padding-right"],t=["border-top-width","border-bottom-width","padding-top","padding-bottom"];var i=this._layout.getHeaderColsFor(0).appendChild(w("div",{class:"slick-header-column"+(this._options.useLegacyUI?" ui-state-default":""),style:"visibility:hidden"}));this._headerColumnWidthDiff=0;var s=getComputedStyle(i);s.boxSizing!="border-box"&&e.forEach(r=>this._headerColumnWidthDiff+=R(s.getPropertyValue(r))||0),i.remove();var o=this._layout.getCanvasNodeFor(0,0).appendChild(w("div",{class:"slick-row"},i=w("div",{class:"slick-cell",id:"",style:"visibility: hidden"})));i.innerHTML="-",this._cellWidthDiff=this._cellHeightDiff=0,s=getComputedStyle(i),s.boxSizing!="border-box"&&(e.forEach(r=>this._cellWidthDiff+=R(s.getPropertyValue(r))||0),t.forEach(r=>this._cellHeightDiff+=R(s.getPropertyValue(r))||0)),o.remove(),this._absoluteColMinWidth=Math.max(this._headerColumnWidthDiff,this._cellWidthDiff)}createCssRules(){var e=this._options.rowHeight-this._cellHeightDiff;if(this._options.useCssVars&&this.getColumns().length>50&&(this._options.useCssVars=!1),this._container.classList.toggle("sleek-vars",!!this._options.useCssVars),this._options.useCssVars){var t=this._container.style;t.setProperty("--sleek-row-height",this._options.rowHeight+"px"),t.setProperty("--sleek-cell-height",e+"px"),t.setProperty("--sleek-top-panel-height",this._options.topPanelHeight+"px"),t.setProperty("--sleek-grouping-panel-height",this._options.groupingPanelHeight+"px"),t.setProperty("--sleek-headerrow-height",this._options.headerRowHeight+"px"),t.setProperty("--sleek-footerrow-height",this._options.footerRowHeight+"px");return}var i=this._styleNode=document.createElement("style");i.dataset.uid=this._uid;for(var s=["."+this._uid+" { --slick-cell-height: "+this._options.rowHeight+"px; }","."+this._uid+" .slick-group-header-column { "+(this._options.rtl?"right":"left")+": 1000px; }","."+this._uid+" .slick-header-column { "+(this._options.rtl?"right":"left")+": 1000px; }","."+this._uid+" .slick-top-panel { height:"+this._options.topPanelHeight+"px; }","."+this._uid+" .slick-grouping-panel { height:"+this._options.groupingPanelHeight+"px; }","."+this._uid+" .slick-headerrow-columns { height:"+this._options.headerRowHeight+"px; }","."+this._uid+" .slick-cell { height:"+e+"px; }","."+this._uid+" .slick-row { height:"+this._options.rowHeight+"px; }","."+this._uid+" .slick-footerrow-columns { height:"+this._options.footerRowHeight+"px; }"],o=this._cols,r=0;r<o.length;r++)s.push("."+this._uid+" .l"+r+" { }"),s.push("."+this._uid+" .r"+r+" { }");i.appendChild(document.createTextNode(s.join(" "))),document.head.appendChild(i)}getColumnCssRules(e){if(this._options.useCssVars)return null;if(!this._stylesheet){var t=document.querySelector("style[data-uid='"+this._uid+"']");if(t&&t.sheet)this._stylesheet=t.sheet;else for(var i=document.styleSheets,s=0;s<i.length;s++)if((i[s].ownerNode||i[s].owningElement)==this._styleNode){this._stylesheet=i[s];break}if(!this._stylesheet)throw new Error("Cannot find stylesheet.");this._columnCssRulesL=[],this._columnCssRulesR=[];for(var o=this._stylesheet.cssRules||this._stylesheet.rules,r,n,s=0;s<o.length;s++){var l=o[s].selectorText;(r=/\.l\d+/.exec(l))?(n=parseInt(r[0].substring(2,r[0].length),10),this._columnCssRulesL[n]=o[s]):(r=/\.r\d+/.exec(l))&&(n=parseInt(r[0].substring(2,r[0].length),10),this._columnCssRulesR[n]=o[s])}}return this._options.rtl?{right:this._columnCssRulesL[e],left:this._columnCssRulesR[e]}:{left:this._columnCssRulesL[e],right:this._columnCssRulesR[e]}}removeCssRules(){var e;(e=this._styleNode)==null||e.remove(),this._styleNode=null,this._stylesheet=null}destroy(){var o;this.getEditorLock().cancelCurrentEdit(),this.trigger(this.onBeforeDestroy);for(var e=this._plugins.length;e--;)this.unregisterPlugin(this._plugins[e]);this._options.enableColumnReorder&&this._jQuery&&this._jQuery.fn.sortable&&this._jQuery(this._layout.getHeaderCols()).filter(":ui-sortable").sortable("destroy"),this.unbindAncestorScrollEvents(),this.unbindFromData(),this.unregisterSelectionModel(),(o=this._jQuery)==null||o.call(this,this._container).off(".slickgrid"),this.removeCssRules();var t=this._layout.getCanvasNodes();this._jQuery?this._jQuery(t).off("draginit dragstart dragend drag"):t.forEach(r=>r.remove());for(var i in this)if(Object.prototype.hasOwnProperty.call(this,i)){if(i.startsWith("on")){var s=this[i];s!=null&&s.clear&&(s!=null&&s.subscribe)&&(s==null||s.clear())}delete this[i]}}trigger(e,t,i){return i=i||new le,t=t||{},t.grid=this,e.notify(t,i,this)}getEditorLock(){return this._options.editorLock}getEditController(){return this._editController}getColumnIndex(e){return this._colById[e]}getInitialColumnIndex(e){return this._initColById[e]}autosizeColumns(){var e=this._viewportInfo,t=e.hasVScroll?e.width-this._scrollDims.width:e.width,i=ge(this._cols,t,this._absoluteColMinWidth);this.applyColumnHeaderWidths(),this.updateCanvasWidth(!0),i&&(this.invalidateAllRows(),this.render())}applyColumnHeaderWidths(){if(this._initialized){for(var e,t=0,i=this._cols,s=i.length,o=this._headerColumnWidthDiff;t<s;t++)if(e=this._layout.getHeaderColumn(t),e){var r=i[t].width-o;e.offsetWidth!==r&&(e.style.width=r+"px")}this.updateViewColLeftRight()}}setSortColumn(e,t){this.setSortColumns([{columnId:e,sortAsc:t}])}setSortColumns(e){this._sortColumns=e||[];var t=[];this._layout.getHeaderCols().forEach(i=>t=t.concat(Array.from(i.children))),t.forEach(i=>{i.classList.remove("slick-header-column-sorted");var s=i.querySelector(".slick-sort-indicator");s&&s.classList.remove("slick-sort-indicator-asc","slick-sort-indicator-desc")}),this._sortColumns.forEach(i=>{i.sortAsc==null&&(i.sortAsc=!0);var s=this.getColumnIndex(i.columnId);if(s!=null){var o=t[s];if(o){o.classList.add("slick-header-column-sorted");var r=o.querySelector(".slick-sort-indicator");r&&r.classList.add(i.sortAsc?"slick-sort-indicator-asc":"slick-sort-indicator-desc")}}})}getSortColumns(){return this._sortColumns}getColumns(){return this._cols}getInitialColumns(){return this._initCols}updateViewColLeftRight(){this._colLeft=[],this._colRight=[];for(var e=0,t,i=this._cols,s,o=i.length,r=this._layout.getFrozenCols(),s=0;s<o;s++)r===s&&(e=0),t=e+i[s].width,this._colLeft[s]=e,this._colRight[s]=t,e=t}setInitialCols(e){he(e,this._colDefaults);var t={},i=[],s={},o,r;for(o=0;o<e.length;o++)r=e[o],t[r.id]=o,r.visible!==!1&&i.push(r);for(i=this._layout.reorderViewColumns(i,this._options),o=0;o<i.length;o++)r=i[o],s[r.id]=o;this._initCols=e,this._initColById=t,this._cols=i,this._colById=s}setColumns(e){var t,i;this.setInitialCols(e),this.updateViewColLeftRight(),this._initialized&&(this._layout.setPaneVisibility(),this.setOverflow(),this.invalidateAllRows(),this.createColumnHeaders(),this.createColumnFooters(),this.updateGrandTotals(),this.removeCssRules(),this.createCssRules(),this.resizeCanvas(),this.updateCanvasWidth(),this._layout.applyColumnWidths(),this.handleScroll(),(i=(t=this.getSelectionModel())==null?void 0:t.refreshSelections)==null||i.call(t))}getOptions(){return this._options}setOptions(e,t,i,s){var o;this.getEditorLock().commitCurrentEdit()&&(this.makeActiveCellNormal(),e.groupingPanel&&!this._options.groupingPanel?this.createGroupingPanel():e.groupingPanel!=null&&!e.groupingPanel&&this._groupingPanel&&this._groupingPanel.remove(),e.showColumnHeader!==void 0&&this.setColumnHeaderVisibility(e.showColumnHeader),this._options.enableAddRow!==e.enableAddRow&&this.invalidateRow(this.getDataLength()),this._options=Object.assign(this._options,e),this.validateAndEnforceOptions(),this._layout.afterSetOptions(e),e.columns&&!i&&this.setColumns((o=e.columns)!=null?o:this._initCols),s||this.setOverflow(),this._layout.setScroller(),t||this.render())}validateAndEnforceOptions(){this._options.autoHeight&&(this._options.leaveSpaceForNewRows=!1)}bindToData(){this._data&&(this._data.onRowCountChanged&&this._data.onRowCountChanged.subscribe(this.viewOnRowCountChanged),this._data.onRowsChanged&&this._data.onRowsChanged.subscribe(this.viewOnRowsChanged),this._data.onDataChanged&&this._data.onDataChanged.subscribe(this.viewOnDataChanged))}unbindFromData(){this._data&&(this._data.onRowCountChanged&&this._data.onRowCountChanged.unsubscribe(this.viewOnRowCountChanged),this._data.onRowsChanged&&this._data.onRowsChanged.unsubscribe(this.viewOnRowsChanged),this._data.onDataChanged&&this._data.onDataChanged.unsubscribe(this.viewOnDataChanged))}setData(e,t){this.unbindFromData(),this._data=e,this.bindToData(),this.invalidateAllRows(),this.updateRowCount(),t&&this.scrollTo(0)}getData(){return this._data}getDataLength(){return this._data.getLength?this._data.getLength():this._data.length}getDataLengthIncludingAddNew(){return this.getDataLength()+(this._options.enableAddRow&&(!this._pagingActive||this._pagingIsLastPage)?1:0)}getDataItem(e){return this._data.getItem?this._data.getItem(e):this._data[e]}getTopPanel(){return this._layout.getTopPanelFor(0)}setTopPanelVisibility(e){this._options.showTopPanel!=e&&(this._options.showTopPanel=!!e,this._layout.getTopPanelNodes().forEach(t=>{this._jQuery?this._jQuery(t)[e?"slideDown":"slideUp"]("fast",this.resizeCanvas):(t.style.display=e?"":"none",this.resizeCanvas())}))}setColumnHeaderVisibility(e,t){this._options.showColumnHeader!=e&&(this._options.showColumnHeader=e,this._layout.getHeaderCols().forEach(i=>{let s=i.parentElement;t&&this._jQuery?this._jQuery(s)[e?"slideDown":"slideUp"]("fast",this.resizeCanvas):(s.style.display=e?"":"none",this.resizeCanvas())}))}setFooterRowVisibility(e){this._options.showFooterRow!=e&&(this._options.showFooterRow=!!e,this._layout.getFooterRowCols().forEach(t=>{let i=t.parentElement;this._jQuery?this._jQuery(i)[e?"slideDown":"slideUp"]("fast",this.resizeCanvas):(i.style.display=e?"":"none",this.resizeCanvas())}))}setGroupingPanelVisibility(e){if(this._options.showGroupingPanel!=e){if(this._options.showGroupingPanel=e,!this._options.groupingPanel)return;let t=this._groupingPanel;this._jQuery?this._jQuery(t)[e?"slideDown":"slideUp"]("fast",this.resizeCanvas):(t.style.display=e?"":"none",this.resizeCanvas())}}setPreHeaderPanelVisibility(e){this.setGroupingPanelVisibility(e)}setHeaderRowVisibility(e){this._options.showHeaderRow!=e&&(this._options.showHeaderRow=e,this._layout.getHeaderRowCols().forEach(t=>{let i=t.parentElement;this._jQuery?this._jQuery(i)[e?"slideDown":"slideUp"]("fast",this.resizeCanvas):(i.style.display=e?"":"none",this.resizeCanvas())}))}getContainerNode(){return this._container}getUID(){return this._uid}getRowTop(e){return this._options.rowHeight*e-this._pageOffset}getRowFromPosition(e){return Math.floor((e+this._pageOffset)/this._options.rowHeight)}scrollTo(e){let t=this._viewportInfo;e=Math.max(e,0),e=Math.min(e,t.virtualHeight-Math.round(this._jQuery(this._layout.getScrollContainerY()).height())+(t.hasHScroll||this.hasFrozenColumns()?this._scrollDims.height:0));var i=this._pageOffset;this._page=Math.min(this._numberOfPages-1,Math.floor(e/this._pageHeight)),this._pageOffset=Math.round(this._page*this._jumpinessCoefficient);var s=e-this._pageOffset;if(this._pageOffset!=i){var o=this.getVisibleRange(s);this.cleanupRows(o),this.updateRowPositions()}this._scrollTopPrev!=s&&(this._vScrollDir=this._scrollTopPrev+i<s+this._pageOffset?1:-1,this._scrollTopRendered=this._scrollTop=this._scrollTopPrev=s,this._layout.handleScrollV(),this._layout.getScrollContainerY().scrollTop=s,this.trigger(this.onViewportChanged))}getFormatter(e,t){var i=this._data;if(i.getItemMetadata){let h=i.getItemMetadata(e);if(h){let d=h.columns;if(d){var s=d[t.id]||d[this.getColumnIndex(t.id)];if(s){if(s.format)return s.format;if(s.formatter)return k(s.formatter)}}if(h.format)return h.format;if(h.formatter)return k(h.formatter)}}if(t.format)return t.format;if(t.formatter)return k(t.formatter);var o=this._options,r=o.formatterFactory;if(r){if(r.getFormat){var n=r.getFormat(t);if(n)return n}else if(r.getFormatter){var l=r.getFormatter(t);if(l)return k(l)}}return o.defaultFormat?o.defaultFormat:o.defaultFormatter?k(o.defaultFormatter):j}getFormatterContext(e,t){var i=this._cols[t],s=this.getDataItem(e);let o={cell:t,column:i,grid:this,escape:T,item:s,row:e};return s&&(o.value=this.getDataItemValueForColumn(s,i)),o}getEditor(e,t){var i=this._cols[t],s=this._data.getItemMetadata&&this._data.getItemMetadata(e),o=s&&s.columns;return o&&o[i.id]&&o[i.id].editor!==void 0?o[i.id].editor:o&&o[t]&&o[t].editor!==void 0?o[t].editor:i.editor||this._options.editorFactory&&this._options.editorFactory.getEditor(i,e)}getDataItemValueForColumn(e,t){return this._options.dataItemColumnValueExtractor?this._options.dataItemColumnValueExtractor(e,t):e[t.field]}appendRowHtml(e,t,i,s,o){var P,E;var r=this.getDataItem(i),n=i<o&&!r,l="slick-row"+(this._layout.isFrozenRow(i)?" frozen":"")+(n?" loading":"")+(i===this._activeRow?" active":"")+(i%2==1?" odd":" even");r||(l+=" "+this._options.addNewRowCssClass);var h=(E=(P=this._data).getItemMetadata)==null?void 0:E.call(P,i);h&&h.cssClasses&&(l+=" "+h.cssClasses);var d=this._layout.getFrozenRowOffset(i),c="<div class='"+(this._options.useLegacyUI?"ui-widget-content ":"")+l+"' style='top:"+(this.getRowTop(i)-d)+"px'>";e.push(c);let g=this._layout.getFrozenCols();g&&t.push(c);for(var u,C,_=this._cols,p=0,L=_.length;p<L;p++){var f=null;if(C=_[p],u=1,h&&h.columns&&(f=h.columns[C.id]||h.columns[p],u=f&&f.colspan||1,u==="*"&&(u=L-p)),this._colRight[Math.min(L-1,p+u-1)]>s.leftPx){if(this._colLeft[p]>s.rightPx)break;this.appendCellHtml(g>0&&p>=g?t:e,i,p,u,r,f)}u>1&&(p+=u-1)}e.push("</div>"),g&&t.push("</div>")}appendCellHtml(e,t,i,s,o,r){var f,P,E,I,N;var n=this._cols,l=this._layout.getFrozenCols(),h=n[i],d="slick-cell l"+i+" r"+Math.min(n.length-1,i+s-1)+(h.cssClass?" "+h.cssClass:"");i<l&&(d+=" frozen"),t===this._activeRow&&i===this._activeCell&&(d+=" active"),r&&r.cssClasses&&(d+=" "+r.cssClasses);for(var c in this._cellCssClasses)this._cellCssClasses[c][t]&&this._cellCssClasses[c][t][h.id]&&(d+=" "+this._cellCssClasses[c][t][h.id]);var g;let u={cell:i,column:h,escape:T,grid:this,item:o,row:t};if(o&&(u.value=this.getDataItemValueForColumn(o,h),g=this.getFormatter(t,h)(u)),d=T(d),(f=u.addClass)!=null&&f.length||(P=u.addAttrs)!=null&&P.length||(E=u.tooltip)!=null&&E.length){(I=u.addClass)!=null&&I.length&&(d+=" "+T(u.addClass)),e.push('<div class="'+d+'"'),(N=u.addClass)!=null&&N.length&&e.push(' data-fmtcls="'+T(u.addClass)+'"');var C=u.addAttrs;if(C!=null){var _=[];for(var p in C)e.push(p+'="'+T(C[p])+'"'),_.push(p);e.push(' data-fmtatt="'+T(_.join(","))+'"')}var L=u.tooltip;L!=null&&L.length&&e.push('tooltip="'+T(L)+'"'),g!=null?e.push(">"+g+"</div>"):e.push("></div>")}else g!=null?e.push('<div class="'+d+'">'+g+"</div>"):e.push('<div class="'+d+'"></div>');this._rowsCache[t].cellRenderQueue.push(i),this._rowsCache[t].cellColSpans[i]=s}cleanupRows(e){var t;for(var i in this._rowsCache)t=parseInt(i,10),t!==this._activeRow&&(t<e.top||t>e.bottom)&&!this._layout.isFrozenRow(t)&&this.removeRowFromCache(t);this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}invalidate(){this.updateRowCount(),this.invalidateAllRows(),this.render(),this.updateGrandTotals()}invalidateAllRows(){this._currentEditor&&this.makeActiveCellNormal();for(var e in this._rowsCache)this.removeRowFromCache(parseInt(e,10));this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}queuePostProcessedRowForCleanup(e,t,i){var r,n;this._postProcessGroupId++;for(var s in t)if(t.hasOwnProperty(s)){var o=parseInt(s,10);this._postProcessCleanupQueue.push({groupId:this._postProcessGroupId,cellNode:e.cellNodesByColumnIdx[o|0],columnIdx:o|0,rowIdx:i})}this._postProcessCleanupQueue.push({groupId:this._postProcessGroupId,rowNodeL:e.rowNodeL,rowNodeR:e.rowNodeR}),(r=e.rowNodeL)==null||r.remove(),(n=e.rowNodeR)==null||n.remove()}queuePostProcessedCellForCleanup(e,t,i){this._postProcessCleanupQueue.push({groupId:this._postProcessGroupId,cellNode:e,columnIdx:t,rowIdx:i}),this._jQuery(e).detach()}removeRowFromCache(e){var i,s,o,r;var t=this._rowsCache[e];t&&(this._options.enableAsyncPostRenderCleanup&&this._postProcessedRows[e]?this.queuePostProcessedRowForCleanup(t,this._postProcessedRows[e],e):((s=(i=t.rowNodeL)==null?void 0:i.parentElement)==null||s.removeChild(t.rowNodeL),(r=(o=t.rowNodeR)==null?void 0:o.parentElement)==null||r.removeChild(t.rowNodeR)),delete this._rowsCache[e],delete this._postProcessedRows[e])}invalidateRows(e){var t,i;if(!(!e||!e.length)){for(this._vScrollDir=0,t=0,i=e.length;t<i;t++)this._currentEditor&&this._activeRow===e[t]&&this.makeActiveCellNormal(),this._rowsCache[e[t]]&&this.removeRowFromCache(e[t]);this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup()}}invalidateRow(e){this.invalidateRows([e])}updateCell(e,t){var i=this.getCellNode(e,t);i&&(this._currentEditor&&this._activeRow===e&&this._activeCell===t?this._currentEditor.loadValue(this.getDataItem(e)):(this.updateCellWithFormatter(i,e,t),this.invalidatePostProcessingResults(e)))}updateCellWithFormatter(e,t,i){var s;let o=this.getFormatterContext(t,i);o.item&&(s=this.getFormatter(t,o.column)(o)),oe(o,s,e)}updateRow(e){var t=this._rowsCache[e];if(t){this.ensureCellNodesInRowsCache(e);var i=this.getDataItem(e);for(var s in t.cellNodesByColumnIdx)if(t.cellNodesByColumnIdx.hasOwnProperty(s)){var o=parseInt(s,10);e===this._activeRow&&o===this._activeCell&&this._currentEditor?this._currentEditor.loadValue(i):this.updateCellWithFormatter(t.cellNodesByColumnIdx[o],e,o)}this.invalidatePostProcessingResults(e)}}calcViewportSize(){let e=this._layout,t=this._viewportInfo;if(t.width=Ce(this._container),t.groupingPanelHeight=this._options.groupingPanel&&this._options.showGroupingPanel?this._options.groupingPanelHeight+z(this._groupingPanel):0,t.topPanelHeight=this._options.showTopPanel?this._options.topPanelHeight+z(e.getTopPanelFor(0).parentElement):0,t.headerRowHeight=this._options.showHeaderRow?this._options.headerRowHeight+z(e.getHeaderRowColsFor(0).parentElement):0,t.footerRowHeight=this._options.showFooterRow?this._options.footerRowHeight+z(e.getFooterRowColsFor(0).parentElement):0,t.headerHeight=this._options.showColumnHeader?R(getComputedStyle(e.getHeaderColsFor(0).parentElement).height)+z(e.getHeaderColsFor(0).parentElement):0,this._options.autoHeight)t.height=this._options.rowHeight*this.getDataLengthIncludingAddNew(),this._layout.calcCanvasWidth()>t.width&&(t.height+=this._scrollDims.height);else{var i=getComputedStyle(this._container);t.height=R(i.height)-R(i.paddingTop)-R(i.paddingBottom)-t.headerHeight-t.topPanelHeight-t.headerRowHeight-t.footerRowHeight-t.groupingPanelHeight}t.numVisibleRows=Math.ceil(t.height/this._options.rowHeight)}updatePagingStatusFromView(e){this._pagingActive=e.pageSize!==0,this._pagingIsLastPage=e.pageNum==e.totalPages-1}updateRowCount(){if(!this._initialized)return;var e=this.getDataLengthIncludingAddNew(),t=this._layout.getScrollCanvasY(),i=Math.round(R(getComputedStyle(t).height)),s;let o=this._layout.getFrozenRows();o?s=this.getDataLength()-o:s=e+(this._options.leaveSpaceForNewRows?this._viewportInfo.numVisibleRows-1:0);var r=Math.round(R(getComputedStyle(this._layout.getScrollContainerY()).height));let n=this._viewportInfo;var l=n.hasVScroll;n.hasVScroll=!this._options.autoHeight&&s*this._options.rowHeight>r,this.makeActiveCellNormal();var h=e-1;for(var d in this._rowsCache){var c=parseInt(d,10);c>=h&&this.removeRowFromCache(c)}this._options.enableAsyncPostRenderCleanup&&this.startPostProcessingCleanup(),n.virtualHeight=Math.max(this._options.rowHeight*s,r-this._scrollDims.height),this._activeCellNode&&this._activeRow>h&&this.resetActiveCell(),n.virtualHeight<$()?(n.realScrollHeight=this._pageHeight=n.virtualHeight,this._numberOfPages=1,this._jumpinessCoefficient=0):(n.realScrollHeight=$(),this._pageHeight=n.realScrollHeight/100,this._numberOfPages=Math.floor(n.virtualHeight/this._pageHeight),this._jumpinessCoefficient=(n.virtualHeight-n.realScrollHeight)/(this._numberOfPages-1)),n.realScrollHeight!==i&&(this._layout.realScrollHeightChange(),this._scrollTop=this._layout.getScrollContainerY().scrollTop);var g=this._scrollTop+this._pageOffset<=n.virtualHeight-r;n.virtualHeight==0||this._scrollTop==0?this._page=this._pageOffset=0:g?this.scrollTo(this._scrollTop+this._pageOffset):this.scrollTo(n.virtualHeight-r),n.realScrollHeight!=i&&this._options.autoHeight&&this.resizeCanvas(),this._options.forceFitColumns&&l!=n.hasVScroll&&this.autosizeColumns(),this.updateCanvasWidth(!1)}getViewport(e,t){return this.getVisibleRange(e,t)}getVisibleRange(e,t){return e==null&&(e=this._scrollTop),t==null&&(t=this._scrollLeft),this._options.rtl&&(t=Math.abs(t)),{top:this.getRowFromPosition(e),bottom:this.getRowFromPosition(e+this._viewportInfo.height)+1,leftPx:t,rightPx:t+this._viewportInfo.width}}getRenderedRange(e,t){var i=this.getVisibleRange(e,t),s=Math.round(this._viewportInfo.height/this._options.rowHeight),o=this._options.minBuffer||3;return this._vScrollDir==-1?(i.top-=s,i.bottom+=o):this._vScrollDir==1?(i.top-=o,i.bottom+=s):(i.top-=o,i.bottom+=o),i.top=Math.max(0,i.top),i.bottom=Math.min(this.getDataLengthIncludingAddNew()-1,i.bottom),this._options.renderAllCells?(i.leftPx=0,i.rightPx=this._layout.getCanvasWidth()):(i.leftPx-=this._viewportInfo.width,i.rightPx+=this._viewportInfo.width,i.leftPx=Math.max(0,i.leftPx),i.rightPx=Math.min(this._layout.getCanvasWidth(),i.rightPx)),i}ensureCellNodesInRowsCache(e){var o,r,n,l;var t=this._rowsCache[e];if(t&&t.cellRenderQueue.length)for(var i=(n=(o=t.rowNodeR)==null?void 0:o.lastElementChild)!=null?n:(r=t.rowNodeL)==null?void 0:r.lastElementChild;i&&t.cellRenderQueue.length;){var s=t.cellRenderQueue.pop();t.cellNodesByColumnIdx[s]=i,i=i.previousElementSibling,i==null&&(i=(l=t.rowNodeL)==null?void 0:l.lastElementChild)}}cleanUpCells(e,t){if(!this._layout.isFrozenRow(t)){var i=this._rowsCache[t],s=[],o=this._layout.getFrozenCols();for(var r in i.cellNodesByColumnIdx)if(i.cellNodesByColumnIdx.hasOwnProperty(r)){var n=parseInt(r,10);if(!(n<o)){var l=i.cellColSpans[n],h=this._cols;(this._colLeft[n]>e.rightPx||this._colRight[Math.min(h.length-1,n+l-1)]<e.leftPx)&&(t==this._activeRow&&n===this._activeCell||s.push(n))}}var d,c;for(this._postProcessGroupId++;(d=s.pop())!=null;)c=i.cellNodesByColumnIdx[d],this._options.enableAsyncPostRenderCleanup&&this._postProcessedRows[t]&&this._postProcessedRows[t][d]?this.queuePostProcessedCellForCleanup(c,d,t):c.parentElement.removeChild(c),delete i.cellColSpans[d],delete i.cellNodesByColumnIdx[d],this._postProcessedRows[t]&&delete this._postProcessedRows[t][d]}}cleanUpAndRenderCells(e){for(var t,i=[],s=[],o,r,n=this._cols,l=e.top,h=e.bottom;l<=h;l++)if(t=this._rowsCache[l],!!t){this.ensureCellNodesInRowsCache(l),this.cleanUpCells(e,l),o=0;for(var d=this._data.getItemMetadata&&this._data.getItemMetadata(l),c=d&&d.columns,g=this.getDataItem(l),u=0,C=n.length;u<C&&!(this._colLeft[u]>e.rightPx);u++){if((r=t.cellColSpans[u])!=null){u+=r>1?r-1:0;continue}var _=null;r=1,c&&(_=c[n[u].id]||c[u],r=_&&_.colspan||1,r==="*"&&(r=C-u)),this._colRight[Math.min(C-1,u+r-1)]>e.leftPx&&(this.appendCellHtml(i,l,u,r,g,_),o++),u+=r>1?r-1:0}o&&s.push(l)}if(i.length){var p=document.createElement("div");p.innerHTML=i.join("");for(var L,f,P=this._layout.getFrozenCols();(L=s.pop())!=null;){t=this._rowsCache[L];for(var E;(E=t.cellRenderQueue.pop())!=null;)f=p.lastElementChild,P>0&&E>=P?t.rowNodeR.appendChild(f):t.rowNodeL.appendChild(f),t.cellNodesByColumnIdx[E]=f}}}renderRows(e){for(var t=[],i=[],s=[],o=!1,r=this.getDataLength(),n=e.top,l=e.bottom;n<=l;n++)this._rowsCache[n]||this.hasFrozenRows()&&this._options.frozenBottom&&n==r||(s.push(n),this._rowsCache[n]={rowNodeL:null,rowNodeR:null,cellColSpans:[],cellNodesByColumnIdx:[],cellRenderQueue:[]},this.appendRowHtml(t,i,n,e,r),this._activeCellNode&&this._activeRow===n&&(o=!0));if(!s.length)return;var h=document.createElement("div"),d=document.createElement("div");h.innerHTML=t.join(""),d.innerHTML=i.join("");let c=this._layout;for(var n=0,l=s.length;n<l;n++){var g=s[n],u=this._rowsCache[g];u.rowNodeL=h.firstElementChild,u.rowNodeR=d.firstElementChild,c.appendCachedRow(g,u.rowNodeL,u.rowNodeR)}o&&(this._activeCellNode=this.getCellNode(this._activeRow,this._activeCell))}startPostProcessing(){this._options.enableAsyncPostRender&&(clearTimeout(this._hPostRender),this._options.asyncPostRenderDelay<0?this.asyncPostProcessRows():this._hPostRender=setTimeout(this.asyncPostProcessRows.bind(this),this._options.asyncPostRenderDelay))}startPostProcessingCleanup(){this._options.enableAsyncPostRenderCleanup&&(clearTimeout(this._hPostRenderCleanup),this._options.asyncPostCleanupDelay<0?this.asyncPostProcessCleanupRows():this._hPostRenderCleanup=setTimeout(this.asyncPostProcessCleanupRows.bind(this),this._options.asyncPostCleanupDelay))}invalidatePostProcessingResults(e){if(this._options.enableAsyncPostRenderCleanup)for(var t in this._postProcessedRows[e])this._postProcessedRows[e].hasOwnProperty(t)&&(this._postProcessedRows[e][t]="C");else delete this._postProcessedRows[e];this._postProcessFromRow=Math.min(this._postProcessFromRow,e),this._postProcessToRow=Math.max(this._postProcessToRow,e),this.startPostProcessing()}updateRowPositions(){for(var e in this._rowsCache){var t=this._rowsCache[e],i=this.getRowTop(parseInt(e,10))+"px";t.rowNodeL&&(t.rowNodeL.style.top=i),t.rowNodeR&&(t.rowNodeR.style.top=i)}}updateGrandTotals(){var r,n;if(!(!this._options.showFooterRow||!this._initialized)){var e;this._data&&this._data.getGrandTotals&&(e=this._data.getGrandTotals()),e=e!=null?e:{};var t=this._cols;for(var i of t)if(i.id!=null){var s=(r=i.groupTotalsFormatter)!=null?r:this._options.groupTotalsFormatter;if(!s)continue;var o=(n=s(e,i,this))!=null?n:"";this.getFooterRowColumn(i.id).innerHTML=o}}}groupTotalsFormatter(e,t,i){return this._options.groupTotalsFormatter?this._options.groupTotalsFormatter(e,t,i!=null?i:this):""}handleMouseWheel(e,t,i,s){i=(typeof i=="undefined"?e.originalEvent.deltaX:i)||0,s=(typeof s=="undefined"?e.originalEvent.deltaY:s)||0,this._scrollTop=Math.max(0,this._layout.getScrollContainerY().scrollTop-s*this._options.rowHeight),this._scrollLeft=this._layout.getScrollContainerX().scrollLeft+i*10,this.handleScroll(!0)}handleScroll(e){this._scrollTop=this._layout.getScrollContainerY().scrollTop,this._scrollLeft=this._layout.getScrollContainerX().scrollLeft;var t=Math.abs(this._scrollTop-this._scrollTopPrev),i=Math.abs(this._scrollLeft-this._scrollLeftPrev);(i||t)&&(this._ignoreScrollUntil=new Date().getTime()+100),i&&(this._scrollLeftPrev=this._scrollLeft,this._layout.getScrollContainerX().scrollLeft=this._scrollLeft,this._layout.handleScrollH());let s=this._viewportInfo;if(t)if(this._vScrollDir=this._scrollTopPrev<this._scrollTop?1:-1,this._scrollTopPrev=this._scrollTop,e===!0&&(this._layout.getScrollContainerY().scrollTop=this._scrollTop),this._layout.handleScrollV(),t<this._viewportInfo.height)this.scrollTo(this._scrollTop+this._pageOffset);else{var o=this._pageOffset;s.realScrollHeight==s.height?this._page=0:this._page=Math.min(this._numberOfPages-1,Math.floor(this._scrollTop*((s.virtualHeight-this._viewportInfo.height)/(s.realScrollHeight-this._viewportInfo.height))*(1/this._pageHeight))),this._pageOffset=Math.round(this._page*this._jumpinessCoefficient),o!=this._pageOffset&&this.invalidateAllRows()}return(i||t)&&(this._hRender&&clearTimeout(this._hRender),(Math.abs(this._scrollTopRendered-this._scrollTop)>20||Math.abs(this._scrollLeftRendered-this._scrollLeft)>20)&&(this._options.forceSyncScrolling||this._options.forceSyncScrollInterval&&this._lastRenderTime<new Date().getTime()-this._options.forceSyncScrollInterval?this.render():this._hRender=setTimeout(this.render,50),this.trigger(this.onViewportChanged))),this.trigger(this.onScroll,{scrollLeft:this._scrollLeft,scrollTop:this._scrollTop}),!!(i||t)}asyncPostProcessRows(){for(var e=this.getDataLength(),t=this._cols;this._postProcessFromRow<=this._postProcessToRow;){var i=this._vScrollDir>=0?this._postProcessFromRow++:this._postProcessToRow--,s=this._rowsCache[i];if(!(!s||i>=e)){this._postProcessedRows[i]||(this._postProcessedRows[i]={}),this.ensureCellNodesInRowsCache(i);for(var o in s.cellNodesByColumnIdx)if(s.cellNodesByColumnIdx.hasOwnProperty(o)){var r=parseInt(o,10),n=t[r],l=this._postProcessedRows[i][r];if(l!=="R"){if(n.asyncPostRender||n.asyncPostRenderCleanup){var h=s.cellNodesByColumnIdx[r];h&&n.asyncPostRender&&n.asyncPostRender(h,i,this.getDataItem(i),n,l==="C")}this._postProcessedRows[i][r]="R"}}if(this._options.asyncPostRenderDelay>=0){this._hPostRender=setTimeout(this.asyncPostProcessRows.bind(this),this._options.asyncPostRenderDelay);return}}}}asyncPostProcessCleanupRows(){var o;for(var e=this._cols;((o=this._postProcessCleanupQueue)==null?void 0:o.length)>0;){for(var t=this._postProcessCleanupQueue[0].groupId;this._postProcessCleanupQueue.length>0&&this._postProcessCleanupQueue[0].groupId==t;){var i=this._postProcessCleanupQueue.shift();if(i.rowNodeL&&i.rowNodeL.remove(),i.rowNodeR&&i.rowNodeR.remove(),i.cellNode!=null){var s=e[i.columnIdx];s&&s.asyncPostRenderCleanup&&(s.asyncPostRenderCleanup(i.cellNode,i.rowIdx,s),i.cellNode.remove())}}if(this._options.asyncPostRenderDelay>=0){this._hPostRenderCleanup=setTimeout(this.asyncPostProcessCleanupRows.bind(this),this._options.asyncPostCleanupDelay);return}}}updateCellCssStylesOnRenderedRows(e,t){var i,s,o,r;for(var n in this._rowsCache){if(r=t&&t[n],o=e&&e[n],r){for(s in r)if((!o||r[s]!=o[s])&&(i=this.getCellNode(parseInt(n,10),this.getColumnIndex(s)),i)){let l=r[s];ce(i,l)}}if(o){for(s in o)if((!r||r[s]!=o[s])&&(i=this.getCellNode(parseInt(n,10),this.getColumnIndex(s)),i)){let l=o[s];A(i,l)}}}}addCellCssStyles(e,t){if(this._cellCssClasses[e])throw"addCellCssStyles: cell CSS hash with key '"+e+"' already exists.";this._cellCssClasses[e]=t,this.updateCellCssStylesOnRenderedRows(t,null),this.trigger(this.onCellCssStylesChanged,{key:e,hash:t})}removeCellCssStyles(e){this._cellCssClasses[e]&&(this.updateCellCssStylesOnRenderedRows(null,this._cellCssClasses[e]),delete this._cellCssClasses[e],this.trigger(this.onCellCssStylesChanged,{key:e,hash:null}))}setCellCssStyles(e,t){var i=this._cellCssClasses[e];this._cellCssClasses[e]=t,this.updateCellCssStylesOnRenderedRows(t,i),this.trigger(this.onCellCssStylesChanged,{key:e,hash:t})}getCellCssStyles(e){return this._cellCssClasses[e]}flashCell(e,t,i){if(i=i||100,this._rowsCache[e]){var s=this._jQuery(this.getCellNode(e,t));r(4)}var o=this._options.cellFlashingCssClass;function r(n){n&&setTimeout(function(){s.queue(function(){s.toggleClass(o).dequeue(),r(n-1)})},i)}}handleDragInit(e,t){var i=this.getCellFromEvent(e);if(!i||!this.cellExists(i.row,i.cell))return!1;var s=this.trigger(this.onDragInit,t,e);return e.isImmediatePropagationStopped&&e.isImmediatePropagationStopped()?s:!1}handleDragStart(e,t){var i=this.getCellFromEvent(e);if(!i||!this.cellExists(i.row,i.cell))return!1;var s=this.trigger(this.onDragStart,t,e);return e.isImmediatePropagationStopped&&e.isImmediatePropagationStopped()?s:!1}handleDrag(e,t){return this.trigger(this.onDrag,t,e)}handleDragEnd(e,t){this.trigger(this.onDragEnd,t,e)}handleKeyDown(e){this.trigger(this.onKeyDown,{row:this._activeRow,cell:this._activeCell},e);var t=e.isImmediatePropagationStopped&&e.isImmediatePropagationStopped();if(!t&&!e.shiftKey&&!e.altKey){if(this._options.editable&&this._currentEditor&&this._currentEditor.keyCaptureList&&this._currentEditor.keyCaptureList.indexOf(e.which)>=0)return;e.key==="Home"?e.ctrlKey?(this.navigateTop(),t=!0):t=this.navigateRowStart():e.key==="End"&&(e.ctrlKey?(this.navigateBottom(),t=!0):t=this.navigateRowEnd())}if(!t)if(!e.shiftKey&&!e.altKey&&!e.ctrlKey){if(this._options.editable&&this._currentEditor&&this._currentEditor.keyCaptureList&&this._currentEditor.keyCaptureList.indexOf(e.which)>=0)return;if(e.key==="Esc"||e.key==="Escape"){if(!this.getEditorLock().isActive())return;this.cancelEditAndSetFocus()}else e.key==="PageDown"?(this.navigatePageDown(),t=!0):e.key==="PageUp"?(this.navigatePageUp(),t=!0):e.key==="Left"||e.key==="ArrowLeft"?t=this.navigateLeft():e.key==="Right"||e.key==="ArrowRight"?t=this.navigateRight():e.key==="Up"||e.key==="ArrowUp"?t=this.navigateUp():e.key==="Down"||e.key==="ArrowDown"?t=this.navigateDown():e.key==="Tab"?this._options.enableTabKeyNavigation&&(t=this.navigateNext()):e.key==="Enter"&&(this._options.editable&&(this._currentEditor?this._activeRow===this.getDataLength()?this.navigateDown():this.commitEditAndSetFocus():this.getEditorLock().commitCurrentEdit()&&this.makeActiveCellEditable()),t=!0)}else e.key==="Tab"&&e.shiftKey&&!e.ctrlKey&&!e.altKey&&(t=this.navigatePrev());if(t){e.stopPropagation(),e.preventDefault();try{e.originalEvent.keyCode=0}catch(i){}}}handleClick(e){this._currentEditor||(e.target!=document.activeElement||this._jQuery(e.target).hasClass("slick-cell"))&&this.setFocus();var t=this.getCellFromEvent(e);if(!(!t||this._currentEditor!=null&&this._activeRow==t.row&&this._activeCell==t.cell)&&(this.trigger(this.onClick,{row:t.row,cell:t.cell},e),!(e.isImmediatePropagationStopped&&e.isImmediatePropagationStopped())&&this.canCellBeActive(t.row,t.cell)&&(!this.getEditorLock().isActive()||this.getEditorLock().commitCurrentEdit()))){var i=e.target&&e.target.classList.contains(de),s=this._cols[t.cell],o=!!(this._options.editable&&s&&s.editor&&this._options.suppressActiveCellChangeOnEdit);this.setActiveCellInternal(this.getCellNode(t.row,t.cell),null,i,o,e)}}handleContextMenu(e){var t=e.target.closest(".slick-cell");t&&(this._activeCellNode===t&&this._currentEditor!=null||this.trigger(this.onContextMenu,{},e))}handleDblClick(e){var t=this.getCellFromEvent(e);!t||this._currentEditor!=null&&this._activeRow==t.row&&this._activeCell==t.cell||(this.trigger(this.onDblClick,{row:t.row,cell:t.cell},e),!(e.isImmediatePropagationStopped&&e.isImmediatePropagationStopped())&&this._options.editable&&this.gotoCell(t.row,t.cell,!0))}handleHeaderMouseEnter(e){let t=this.getColumnFromNode(e.target);t&&this.trigger(this.onHeaderMouseEnter,{column:t},e)}handleHeaderMouseLeave(e){let t=this.getColumnFromNode(e.target);t&&this.trigger(this.onHeaderMouseLeave,{column:t},e)}handleHeaderContextMenu(e){var t=e.target.closest(".slick-header-column"),i=this.getColumnFromNode(t);i&&this.trigger(this.onHeaderContextMenu,{column:i},e)}handleHeaderClick(e){var t=e.target.closest(".slick-header-column"),i=this.getColumnFromNode(t);i&&this.trigger(this.onHeaderClick,{column:i},e)}handleMouseEnter(e){this.trigger(this.onMouseEnter,{},e)}handleMouseLeave(e){this.trigger(this.onMouseLeave,{},e)}cellExists(e,t){return!(e<0||e>=this.getDataLength()||t<0||t>=this._cols.length)}getCellFromPoint(e,t){for(var i=this.getRowFromPosition(t),s=0,o=this._cols,r=0,n=0;n<o.length&&r<e;n++)r+=o[n].width,s++;return s<0&&(s=0),{row:i,cell:s-1}}getCellFromNode(e){if(e==null)return null;var t=e.dataset.c;if(t!=null)return parseInt(t,10);var i=/\sl(\d+)\s/.exec(" "+e.className+" ");return i?parseInt(i[1],10):null}getColumnFromNode(e){if(e==null)return null;var t=this.getCellFromNode(e);return t===null&&this._jQuery?this._jQuery(t).data("column"):this._cols[t]}getRowFromNode(e){if(e!=null)for(var t in this._rowsCache){var i=this._rowsCache[t];if(i.rowNodeL===e||i.rowNodeR===e)return parseInt(t,10)}return null}getCellFromEvent(e){var t,i,s=e.target.closest(".slick-cell");return!s||(t=this._layout.getRowFromCellNode(s,e.clientX,e.clientY),i=this.getCellFromNode(s),t==null||i==null)?null:{row:t,cell:i}}getCellNodeBox(e,t){if(!this.cellExists(e,t))return null;for(var i=this._layout.getFrozenRowOffset(e),s=this._cols,o=this._layout.getFrozenCols(),r=this.getRowTop(e)-i,n=r+this._options.rowHeight-1,l=0,h=0;h<t;h++)l+=s[h].width,h==o-1&&(l=0);var d=l+s[t].width;return this._options.rtl?{top:r,right:l,bottom:n,left:d}:{top:r,left:l,bottom:n,right:d}}resetActiveCell(){this.setActiveCellInternal(null,!1)}focus(){this.setFocus()}setFocus(){this._tabbingDirection==-1?this._focusSink1.focus():this._focusSink2.focus()}scrollCellIntoView(e,t,i){if(this.scrollRowIntoView(e,i),!(t<this._layout.getFrozenCols())){var s=this.getColspan(e,t);this.internalScrollColumnIntoView(this._colLeft[t],this._colRight[t+(s>1?s-1:0)])}}scrollColumnIntoView(e){this.internalScrollColumnIntoView(this._colLeft[e],this._colRight[e])}internalScrollColumnIntoView(e,t){var i=this._scrollLeft+R(getComputedStyle(this._layout.getScrollContainerX()).width)-(this._viewportInfo.hasVScroll?this._scrollDims.width:0),s;if(e<this._scrollLeft)s=e;else if(t>i)s=Math.min(e,t-this._layout.getScrollContainerX().clientWidth);else return;this._layout.getScrollContainerX().scrollLeft=s,this.handleScroll(),this.render()}setActiveCellInternal(e,t,i,s,o){var c,g;if(this._activeCellNode!=null){this.makeActiveCellNormal(),this._activeCellNode.classList.remove("active");var r=this._rowsCache[this._activeRow];r&&(r.rowNodeL&&r.rowNodeL.classList.remove("active"),r.rowNodeR&&r.rowNodeR.classList.remove("active"))}if(this._activeCellNode=e,this._activeCellNode!=null){var n=this._activeCellNode.getBoundingClientRect(),l=Math.floor((g=(c=this._activeCellNode.closest(".grid-canvas"))==null?void 0:c.getBoundingClientRect().top)!=null?g:0+document.body.scrollTop),h=this._activeCellNode.closest(".grid-canvas-bottom")!=null;this.hasFrozenRows()&&h&&(l-=this._options.frozenBottom?Math.round(R(getComputedStyle(this._layout.getCanvasNodeFor(0,0)).height)):this._layout.getFrozenRows()*this._options.rowHeight);var d=this.getCellFromPoint(n[this._options.rtl?"right":"left"]+document.body.scrollLeft,Math.ceil(n.top+document.body.scrollTop)-l);if(this._activeRow=d.row,this._activeCell=this._activePosX=this.getCellFromNode(this._activeCellNode),this._options.showCellSelection){this._activeCellNode.classList.add("active");var r=this._rowsCache[this._activeRow];r&&(r.rowNodeL&&r.rowNodeL.classList.add("active"),r.rowNodeR&&r.rowNodeR.classList.add("active"))}t==null&&(t=this._activeRow==this.getDataLength()||this._options.autoEdit),this._options.editable&&t&&this.isCellPotentiallyEditable(this._activeRow,this._activeCell)&&(clearTimeout(this._hEditorLoader),this._options.asyncEditorLoading?this._hEditorLoader=setTimeout(()=>{this.makeActiveCellEditable(void 0,i,o)},this._options.asyncEditorLoadDelay):this.makeActiveCellEditable(void 0,i,o))}else this._activeRow=this._activeCell=null;s||this.trigger(this.onActiveCellChanged,this.getActiveCell())}clearTextSelection(){if(document.selection&&document.selection.empty)try{document.selection.empty()}catch(t){}else if(window.getSelection){var e=window.getSelection();e&&e.removeAllRanges&&e.removeAllRanges()}}isCellPotentiallyEditable(e,t){var i=this.getDataLength();return!(e<i&&!this.getDataItem(e)||this._cols[t].cannotTriggerInsert&&e>=i||!this.getEditor(e,t))}makeActiveCellNormal(){this._currentEditor&&(this.trigger(this.onBeforeCellEditorDestroy,{editor:this._currentEditor}),this._currentEditor.destroy(),this._currentEditor=null,this._activeCellNode&&(this._activeCellNode.classList.remove("editable","invalid"),this.updateCellWithFormatter(this._activeCellNode,this._activeRow,this._activeCell),this.invalidatePostProcessingResults(this._activeRow)),navigator.userAgent.toLowerCase().match(/msie/)&&this.clearTextSelection(),this.getEditorLock().deactivate(this._editController))}editActiveCell(e){this.makeActiveCellEditable(e)}makeActiveCellEditable(e,t,i){if(this._activeCellNode){if(!this._options.editable)throw"Grid : makeActiveCellEditable : should never get called when options.editable is false";if(clearTimeout(this._hEditorLoader),!!this.isCellPotentiallyEditable(this._activeRow,this._activeCell)){var s=this._cols[this._activeCell],o=this.getDataItem(this._activeRow);if(this.trigger(this.onBeforeEditCell,{row:this._activeRow,cell:this._activeCell,item:o,column:s})===!1){this.setFocus();return}this.getEditorLock().activate(this._editController),this._activeCellNode.classList.add("editable");var r=e||this.getEditor(this._activeRow,this._activeCell);!e&&!r.suppressClearOnEdit&&(this._activeCellNode.innerHTML="");var n=this._data.getItemMetadata&&this._data.getItemMetadata(this._activeRow),l=n&&n.columns,h=l&&(l[s.id]||l[this._activeCell]);this._currentEditor=new r({grid:this,gridPosition:Q(this._container),position:Q(this._activeCellNode),container:this._activeCellNode,column:s,columnMetaData:h,item:o||{},event:i,editorCellNavOnLRKeys:this._options.editorCellNavOnLRKeys,commitChanges:this.commitEditAndSetFocus.bind(this),cancelChanges:this.cancelEditAndSetFocus.bind(this)}),o&&(this._currentEditor.loadValue(o),t&&this._currentEditor.preClick&&this._currentEditor.preClick()),this._serializedEditorValue=this._currentEditor.serializeValue(),this._currentEditor.position&&this.handleActiveCellPositionChange()}}}commitEditAndSetFocus(){this.getEditorLock().commitCurrentEdit()&&(this.setFocus(),this._options.autoEdit&&this.navigateDown())}cancelEditAndSetFocus(){this.getEditorLock().cancelCurrentEdit()&&this.setFocus()}getActiveCellPosition(){return Q(this._activeCellNode)}getGridPosition(){return Q(this._container)}getCellEditor(){return this._currentEditor}getActiveCell(){return this._activeCellNode?{row:this._activeRow,cell:this._activeCell}:null}getActiveCellNode(){return this._activeCellNode}scrollActiveCellIntoView(){this._activeRow!=null&&this._activeCell!=null&&this.scrollCellIntoView(this._activeRow,this._activeCell)}scrollRowIntoView(e,t){if(!this._layout.isFrozenRow(e)){var i=Math.round(R(getComputedStyle(this._layout.getScrollContainerY()).height)),s=this.hasFrozenRows()&&!this._options.frozenBottom?e-this._layout.getFrozenRows()+1:e,o=s*this._options.rowHeight,r=(s+1)*this._options.rowHeight-i+(this._viewportInfo.hasHScroll?this._scrollDims.height:0);(s+1)*this._options.rowHeight>this._scrollTop+i+this._pageOffset?(this.scrollTo(t?o:r),this.render()):s*this._options.rowHeight<this._scrollTop+this._pageOffset&&(this.scrollTo(t?r:o),this.render())}}scrollRowToTop(e){this.scrollTo(e*this._options.rowHeight),this.render()}scrollPage(e){var t=e*this._viewportInfo.numVisibleRows;if(this.scrollTo((this.getRowFromPosition(this._scrollTop)+t)*this._options.rowHeight),this.render(),this._options.enableCellNavigation&&this._activeRow!=null){var i=this._activeRow+t,s=this.getDataLengthIncludingAddNew();i>=s&&(i=s-1),i<0&&(i=0);for(var o=0,r=null,n=this._activePosX;o<=this._activePosX;)this.canCellBeActive(i,o)&&(r=o),o+=this.getColspan(i,o);r!=null?(this.setActiveCellInternal(this.getCellNode(i,r)),this._activePosX=n):this.resetActiveCell()}}navigatePageDown(){this.scrollPage(1)}navigatePageUp(){this.scrollPage(-1)}navigateTop(){this.navigateToRow(0)}navigateBottom(){this.navigateToRow(this.getDataLength()-1)}navigateToRow(e){var t=this.getDataLength();if(!t)return!0;if(e<0?e=0:e>=t&&(e=t-1),this.scrollCellIntoView(e,0,!0),this._options.enableCellNavigation&&this._activeRow!=null){for(var i=0,s=null,o=this._activePosX;i<=this._activePosX;)this.canCellBeActive(e,i)&&(s=i),i+=this.getColspan(e,i);s!=null?(this.setActiveCellInternal(this.getCellNode(e,s)),this._activePosX=o):this.resetActiveCell()}return!0}getColspan(e,t){var i=this._data.getItemMetadata&&this._data.getItemMetadata(e);if(!i||!i.columns)return 1;var s=this._cols,o=s[t]&&(i.columns[s[t].id]||i.columns[t]),r=o&&o.colspan;return r==="*"?r=s.length-t:r=r||1,r}navigateRight(){return this.navigate("right")}navigateLeft(){return this.navigate("left")}navigateDown(){return this.navigate("down")}navigateUp(){return this.navigate("up")}navigateNext(){return this.navigate("next")}navigatePrev(){return this.navigate("prev")}navigateRowStart(){return this.navigate("home")}navigateRowEnd(){return this.navigate("end")}navigate(e){if(!this._options.enableCellNavigation||!this._activeCellNode&&e!="prev"&&e!="next")return!1;if(!this.getEditorLock().commitCurrentEdit())return!0;this.setFocus(),this._cellNavigator||(this._cellNavigator=new B({getColumnCount:()=>this._cols.length,getRowCount:()=>this.getDataLengthIncludingAddNew(),getColspan:this.getColspan.bind(this),canCellBeActive:this.canCellBeActive.bind(this),setTabbingDirection:s=>this._tabbingDirection=s,isRTL:()=>this._options.rtl}));var t=this._cellNavigator.navigate(e,this._activeRow,this._activeCell,this._activePosX);if(t){if(this.hasFrozenRows()&&this._options.frozenBottom&&t.row==this.getDataLength())return;var i=t.row==this.getDataLength();return this._layout.isFrozenRow(t.row)||this.scrollCellIntoView(t.row,t.cell,!i),this.setActiveCellInternal(this.getCellNode(t.row,t.cell)),this._activePosX=t.posX,!0}else return this.setActiveCellInternal(this.getCellNode(this._activeRow,this._activeCell)),!1}getCellNode(e,t){return this._rowsCache[e]?(this.ensureCellNodesInRowsCache(e),this._rowsCache[e].cellNodesByColumnIdx[t]):null}setActiveCell(e,t){if(this._initialized){var i=this._cols;e>this.getDataLength()||e<0||t>=i.length||t<0||this._options.enableCellNavigation&&(this.scrollCellIntoView(e,t,!1),this.setActiveCellInternal(this.getCellNode(e,t),!1))}}setActiveRow(e,t,i){this._initialized&&(e>this.getDataLength()||e<0||t>=this._cols.length||t<0||(this._activeRow=e,i||this.scrollCellIntoView(e,t||0,!1)))}canCellBeActive(e,t){var i=this._cols;if(!this._options.enableCellNavigation||e>=this.getDataLengthIncludingAddNew()||e<0||t>=i.length||t<0)return!1;var s=this._data.getItemMetadata&&this._data.getItemMetadata(e);if(s&&typeof s.focusable=="boolean")return s.focusable;var o=s&&s.columns;return o&&i[t]&&o[i[t].id]&&typeof o[i[t].id].focusable=="boolean"?o[i[t].id].focusable:o&&o[t]&&typeof o[t].focusable=="boolean"?o[t].focusable:i[t].focusable}canCellBeSelected(e,t){var i=this._cols;if(e>=this.getDataLength()||e<0||t>=i.length||t<0)return!1;var s=this._data.getItemMetadata&&this._data.getItemMetadata(e);if(s&&typeof s.selectable=="boolean")return s.selectable;var o=s&&s.columns&&(s.columns[i[t].id]||s.columns[t]);return o&&typeof o.selectable=="boolean"?o.selectable:i[t].selectable}gotoCell(e,t,i){if(this._initialized&&this.canCellBeActive(e,t)&&this.getEditorLock().commitCurrentEdit()){this.scrollCellIntoView(e,t,!1);var s=this.getCellNode(e,t);this.setActiveCellInternal(s,i||e===this.getDataLength()||this._options.autoEdit),this._currentEditor||this.setFocus()}}commitCurrentEdit(){var e=this.getDataItem(this._activeRow),t=this._cols[this._activeCell],i=this;if(this._currentEditor){if(this._currentEditor.isValueChanged()){var s=this._currentEditor.validate();if(s.valid){if(this._activeRow<this.getDataLength()){var o={row:this._activeRow,cell:i._activeCell,editor:this._currentEditor,serializedValue:this._currentEditor.serializeValue(),prevSerializedValue:this._serializedEditorValue,execute:function(){this.editor.applyValue(e,this.serializedValue),i.updateRow(this.row),i.trigger(i.onCellChange,{row:this.activeRow,cell:i._activeCell,item:e})},undo:function(){this.editor.applyValue(e,this.prevSerializedValue),i.updateRow(this.row),i.trigger(i.onCellChange,{row:this.activeRow,cell:i._activeCell,item:e})}};this._options.editCommandHandler?(this.makeActiveCellNormal(),this._options.editCommandHandler(e,t,o)):(o.execute(),this.makeActiveCellNormal())}else{var r={};this._currentEditor.applyValue(r,this._currentEditor.serializeValue()),this.makeActiveCellNormal(),this.trigger(this.onAddNewRow,{item:r,column:t})}return!this.getEditorLock().isActive()}else return this._activeCellNode.classList.remove("invalid"),this._activeCellNode.offsetWidth,this._activeCellNode.classList.add("invalid"),this.trigger(this.onValidationError,{editor:this._currentEditor,cellNode:this._activeCellNode,validationResults:s,row:this._activeRow,cell:this._activeCell,column:t}),this._currentEditor.focus(),!1}this.makeActiveCellNormal()}return!0}cancelCurrentEdit(){return this.makeActiveCellNormal(),!0}rowsToRanges(e){for(var t=[],i=this._cols.length-1,s=0;s<e.length;s++)t.push(new ue(e[s],0,e[s],i));return t}getSelectedRows(){if(!this._selectionModel)throw"Selection model is not set";return this._selectedRows}setSelectedRows(e){if(!this._selectionModel)throw"Selection model is not set";this._selectionModel.setSelectedRanges(this.rowsToRanges(e))}};return Oe(Be);})();
["Data", "Editors", "Formatters", "Plugins"].forEach(ns => Slick._[ns] && (Slick[ns] = Object.assign(Slick[ns] || {}, Slick._[ns])) && delete Slick._[ns]); Object.assign(Slick, Slick._); delete Slick._;
